%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% OXFORD THESIS TEMPLATE

% Use this template to produce a standard thesis that meets the Oxford University requirements for DPhil submission
%
% Originally by Keith A. Gillow (gillow@maths.ox.ac.uk), 1997
% Modified by Sam Evans (sam@samuelevansresearch.org), 2007
% Modified by John McManigle (john@oxfordechoes.com), 2015
% Modified by Ulrik Lyngs (ulrik.lyngs@cs.ox.ac.uk), 2018-, for use with R Markdown
%
% Ulrik Lyngs, 25 Nov 2018: Following John McManigle, broad permissions are granted to use, modify, and distribute this software
% as specified in the MIT License included in this distribution's LICENSE file.
%
% John commented this file extensively, so read through to see how to use the various options.  Remember that in LaTeX,
% any line starting with a % is NOT executed.  Several places below, you have a choice of which line to use
% out of multiple options (eg draft vs final, for PDF vs for binding, etc.)  When you pick one, add a % to the beginning of
% the lines you don't want.


%%%%% PAGE LAYOUT
% The most common choices should be below.  You can also do other things, like replacing "a4paper" with "letterpaper", etc.

% This one formats for two-sided binding (ie left and right pages have mirror margins; blank pages inserted where needed):
%\documentclass[a4paper,twoside]{templates/ociamthesis}
% This one formats for one-sided binding (ie left margin > right margin; no extra blank pages):
%\documentclass[a4paper]{ociamthesis}
% This one formats for PDF output (ie equal margins, no extra blank pages):
%\documentclass[a4paper,nobind]{templates/ociamthesis}

% As you can see from the uncommented line below, oxforddown template uses the a4paper size, 
% and passes in the binding option from the YAML header in index.Rmd:
\documentclass[a4paper, nobind]{templates/ociamthesis}


%%%%% ADDING LATEX PACKAGES
% add hyperref package with options from YAML %
\usepackage[pdfpagelabels]{hyperref}
% change the default coloring of links to something sensible
\usepackage{xcolor}
\usepackage[hangul]{kotex}


\definecolor{mylinkcolor}{RGB}{0,0,139}
\definecolor{myurlcolor}{RGB}{0,0,139}
\definecolor{mycitecolor}{RGB}{0,33,71}

\hypersetup{
  hidelinks,
  colorlinks,
  linktocpage=true,
  linkcolor=mylinkcolor,
  urlcolor=myurlcolor,
  citecolor=mycitecolor
}



% add float package to allow manual control of figure positioning %
\usepackage{float}

% enable strikethrough
\usepackage[normalem]{ulem}

% use soul package for correction highlighting
\usepackage{color, soul}
\definecolor{correctioncolor}{HTML}{CCCCFF}
\sethlcolor{correctioncolor}
\newcommand{\ctext}[3][RGB]{%
  \begingroup
  \definecolor{hlcolor}{#1}{#2}\sethlcolor{hlcolor}%
  \hl{#3}%
  \endgroup
}
\soulregister\ref7
\soulregister\cite7
\soulregister\autocite7
\soulregister\textcite7
\soulregister\pageref7

%%%%% FIXING / ADDING THINGS THAT'S SPECIAL TO R MARKDOWN'S USE OF LATEX TEMPLATES
% pandoc puts lists in 'tightlist' command when no space between bullet points in Rmd file,
% so we add this command to the template
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
 
% UL 1 Dec 2018, fix to include code in shaded environments
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}

%UL set white space before and after code blocks
\renewenvironment{Shaded}
{
  \vspace{10pt}%
  \begin{snugshade}%
}{%
  \end{snugshade}%
  \vspace{8pt}%
}

% User-included things with header_includes or in_header will appear here
% kableExtra packages will appear here if you use library(kableExtra)
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}


%UL set section header spacing
\usepackage{titlesec}
% 
\titlespacing\subsubsection{0pt}{24pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}


%UL set whitespace around verbatim environments
\usepackage{etoolbox}
\makeatletter
\preto{\@verbatim}{\topsep=0pt \partopsep=0pt }
\makeatother



%%%%%%% PAGE HEADERS AND FOOTERS %%%%%%%%%
\usepackage{fancyhdr}
\setlength{\headheight}{15pt}
\fancyhf{} % clear the header and footers
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter. #1}{\thechapter. #1}}
\renewcommand{\sectionmark}[1]{\markright{\thesection. #1}} 
\renewcommand{\headrulewidth}{0pt}

\fancyhead[LO]{\emph{\leftmark}} 
\fancyhead[RE]{\emph{\rightmark}} 

% UL page number position 
\fancyfoot[R]{\emph{\thepage}} %regular pages
\fancypagestyle{plain}{\fancyhf{}\fancyfoot[R]{\emph{\thepage}}} %chapter pages

% JEM fix header on cleared pages for openright
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
   \hbox{}
   \fancyfoot[R]{}
   \newpage
   \if@twocolumn\hbox{}\newpage
   \fi
   \fancyhead[LO]{\emph{\leftmark}} 
   \fancyhead[RE]{\emph{\rightmark}} 
   \fi\fi}


%%%%% SELECT YOUR DRAFT OPTIONS
% This adds a "DRAFT" footer to every normal page.  (The first page of each chapter is not a "normal" page.)
\fancyfoot[C]{\emph{DRAFT Printed on \today}}

% IP feb 2021: option to include line numbers in PDF

% This highlights (in blue) corrections marked with (for words) \mccorrect{blah} or (for whole
% paragraphs) \begin{mccorrection} . . . \end{mccorrection}.  This can be useful for sending a PDF of
% your corrected thesis to your examiners for review.  Turn it off, and the blue disappears.
\correctionstrue


%%%%% BIBLIOGRAPHY SETUP
% Note that your bibliography will require some tweaking depending on your department, preferred format, etc.
% If you've not used LaTeX before, I recommend reading a little about biblatex/biber and getting started with it.
% If you're already a LaTeX pro and are used to natbib or something, modify as necessary.
% Either way, you'll have to choose and configure an appropriate bibliography format...


\usepackage[style=authoryear, sorting=nyt, backend=biber, maxcitenames=2, useprefix, doi=true, isbn=false, uniquename=false]{biblatex}
\newcommand*{\bibtitle}{Works Cited}

\addbibresource{bibliography/references.bib}
\addbibresource{bibliography/additional-references.bib}


% This makes the bibliography left-aligned (not 'justified') and slightly smaller font.
\renewcommand*{\bibfont}{\raggedright\small}


% Uncomment this if you want equation numbers per section (2.3.12), instead of per chapter (2.18):
%\numberwithin{equation}{subsection}


%%%%% THESIS / TITLE PAGE INFORMATION
% Everybody needs to complete the following:
\title{\texttt{FLAC3D} Gitbook}
\author{Kyeong Sun Kim}
\college{Civil and Environmental Engineering}

% Master's candidates who require the alternate title page (with candidate number and word count)
% must also un-comment and complete the following three lines:

% Uncomment the following line if your degree also includes exams (eg most masters):
%\renewcommand{\submittedtext}{Submitted in partial completion of the}
% Your full degree name.  (But remember that DPhils aren't "in" anything.  They're just DPhils.)
\degree{}
% Term and year of submission, or date if your board requires (eg most masters)
\degreedate{Sept, 2021}


%%%%% YOUR OWN PERSONAL MACROS
% This is a good place to dump your own LaTeX macros as they come up.

% To make text superscripts shortcuts
	\renewcommand{\th}{\textsuperscript{th}} % ex: I won 4\th place
	\newcommand{\nd}{\textsuperscript{nd}}
	\renewcommand{\st}{\textsuperscript{st}}
	\newcommand{\rd}{\textsuperscript{rd}}

%%%%% THE ACTUAL DOCUMENT STARTS HERE
\begin{document}

%%%%% CHOOSE YOUR LINE SPACING HERE
% This is the official option.  Use it for your submission copy and library copy:
\setlength{\textbaselineskip}{22pt plus2pt}
% This is closer spacing (about 1.5-spaced) that you might prefer for your personal copies:
%\setlength{\textbaselineskip}{18pt plus2pt minus1pt}

% You can set the spacing here for the roman-numbered pages (acknowledgements, table of contents, etc.)
\setlength{\frontmatterbaselineskip}{17pt plus1pt minus1pt}

% UL: You can set the line and paragraph spacing here for the separate abstract page to be handed in to Examination schools
\setlength{\abstractseparatelineskip}{13pt plus1pt minus1pt}
\setlength{\abstractseparateparskip}{0pt plus 1pt}

% UL: You can set the general paragraph spacing here - I've set it to 2pt (was 0) so
% it's less claustrophobic
\setlength{\parskip}{2pt plus 1pt}

%
% Oxford University logo on title page
%
\def\crest{{\includegraphics[width=5cm]{templates/snupdf.pdf}}}
\renewcommand{\university}{Seoul National University}
\renewcommand{\submittedtext}{}


% Leave this line alone; it gets things started for the real document.
\setlength{\baselineskip}{\textbaselineskip}


%%%%% CHOOSE YOUR SECTION NUMBERING DEPTH HERE
% You have two choices.  First, how far down are sections numbered?  (Below that, they're named but
% don't get numbers.)  Second, what level of section appears in the table of contents?  These don't have
% to match: you can have numbered sections that don't show up in the ToC, or unnumbered sections that
% do.  Throughout, 0 = chapter; 1 = section; 2 = subsection; 3 = subsubsection, 4 = paragraph...

% The level that gets a number:
\setcounter{secnumdepth}{3}
% The level that shows up in the ToC:
\setcounter{tocdepth}{2}


%%%%% ABSTRACT SEPARATE
% This is used to create the separate, one-page abstract that you are required to hand into the Exam
% Schools.  You can comment it out to generate a PDF for printing or whatnot.

% JEM: Pages are roman numbered from here, though page numbers are invisible until ToC.  This is in
% keeping with most typesetting conventions.
\begin{romanpages}

% Title page is created here
\maketitle

%%%%% DEDICATION -- If you'd like one, un-comment the following.

%%%%% ACKNOWLEDGEMENTS -- Nothing to do here except comment out if you don't want it.


%%%%% ABSTRACT -- Nothing to do here except comment out if you don't want it.
%\begin{abstract}
%	
%\end{abstract}

%%%%% MINI TABLES
% This lays the groundwork for per-chapter, mini tables of contents.  Comment the following line
% (and remove \minitoc from the chapter files) if you don't want this.  Un-comment either of the
% next two lines if you want a per-chapter list of figures or tables.
  \dominitoc % include a mini table of contents

% This aligns the bottom of the text of each page.  It generally makes things look better.
\flushbottom

% This is where the whole-document ToC appears:
\tableofcontents


% Uncomment to generate a list of tables:
%%%%% LIST OF ABBREVIATIONS
% This example includes a list of abbreviations.  Look at text/abbreviations.tex to see how that file is
% formatted.  The template can handle any kind of list though, so this might be a good place for a
% glossary, etc.

% The Roman pages, like the Roman Empire, must come to its inevitable close.
\end{romanpages}

%%%%% CHAPTERS
% Add or remove any chapters you'd like here, by file name (excluding '.tex'):
\flushbottom

% all your chapters and appendices will appear here
\minitoc

\newpage

\begin{savequote}
There is grandeur in this view of life, with its several powers, having
been originally breathed into a few forms or into one; and that, whilst
this planet has gone cycling on according to the fixed law of gravity,
from so simple a beginning endless forms most beautiful and most
wonderful have been, and are being, evolved.
\qauthor{Charles Darwin(1809-1882)}\end{savequote}

\hypertarget{kaist-model}{%
\chapter{KAIST Model}\label{kaist-model}}

\hypertarget{initial-configuration}{%
\section{Initial Configuration}\label{initial-configuration}}

\includegraphics[width=1\linewidth]{myfigureeeeee/sofar}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itasca }\ImportTok{as}\NormalTok{ it}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\NormalTok{np.set\_printoptions(threshold}\OperatorTok{=}\DecValTok{20}\NormalTok{)}
\NormalTok{it.command(}\StringTok{"python{-}reset{-}state false"}\NormalTok{)}
\ImportTok{from}\NormalTok{ itasca }\ImportTok{import}\NormalTok{ zonearray }\ImportTok{as}\NormalTok{ za}
\ImportTok{from}\NormalTok{ itasca }\ImportTok{import}\NormalTok{ gridpointarray }\ImportTok{as}\NormalTok{ gpa}

\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\# PARAMETERS \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\CommentTok{\# Mesh Details}
\NormalTok{\_radial }\OperatorTok{=} \DecValTok{20}
\NormalTok{\_perimeter }\OperatorTok{=}\NormalTok{ \_radial}
\NormalTok{\_axial }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{\_radial}
\NormalTok{\_outer }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{\_radial}

\CommentTok{\# Physical Constants}
\NormalTok{\_gravity }\OperatorTok{=} \FloatTok{9.80665}
\NormalTok{\_K }\OperatorTok{=} \FloatTok{0.318}

\CommentTok{\# Dimensions}
\NormalTok{\_D\_shaft }\OperatorTok{=} \DecValTok{1}
\NormalTok{\_H\_shaft }\OperatorTok{=} \FloatTok{7.45}
\NormalTok{\_T\_plate }\OperatorTok{=} \FloatTok{1.5}
\NormalTok{\_B\_footing }\OperatorTok{=} \FloatTok{3.25}
\NormalTok{\_D\_footing }\OperatorTok{=}\NormalTok{ \_H\_shaft }\OperatorTok{+}\NormalTok{ \_T\_plate}
\NormalTok{\_B\_soil }\OperatorTok{=}\NormalTok{ \_B\_footing}\OperatorTok{*}\DecValTok{5}
\NormalTok{\_D\_soil }\OperatorTok{=}\NormalTok{ \_D\_footing}

\CommentTok{\# Concrete Properties}
\NormalTok{\_bulk }\OperatorTok{=} \FloatTok{13.9e9}
\NormalTok{\_shear }\OperatorTok{=} \FloatTok{10.4e9}
\NormalTok{\_density\_concrete }\OperatorTok{=} \DecValTok{2950}

\CommentTok{\# Soil Properties}
\NormalTok{\_E\_o }\OperatorTok{=} \FloatTok{80e6}
\NormalTok{\_const }\OperatorTok{=} \FloatTok{1e7}
\NormalTok{\_poisson }\OperatorTok{=} \FloatTok{0.25}
\NormalTok{\_density\_soil }\OperatorTok{=} \DecValTok{1530}

\CommentTok{\# Interface Properties}
\NormalTok{\_stiff\_norm }\OperatorTok{=} \FloatTok{1e6}
\NormalTok{\_stiff\_shear }\OperatorTok{=} \FloatTok{1e6}
\end{Highlighting}
\end{Shaded}

\hypertarget{zones}{%
\section{Zones}\label{zones}}

\includegraphics[width=1\linewidth]{myfigureeeeee/final-block-square1}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# ZONES \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\BuiltInTok{print}\NormalTok{(}\StringTok{"               ((((((((((((((((======== NEW RUN ========)))))))))))))))"}\NormalTok{)}

\NormalTok{command\_zone }\OperatorTok{=} \StringTok{"""}
\StringTok{model new}
\StringTok{z crea r{-}t p 0 (0,0,0) ...}
\StringTok{           p 1 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,0,0) ...}
\StringTok{           p 2 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 3 (0,0,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 4 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 5 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 6 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,0,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 7 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 8 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,0,0) ...}
\StringTok{           p 9 (0,0,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 10 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 11 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 12 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,0,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 13 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           size }\SpecialCharTok{\{radial\}}\StringTok{ }\SpecialCharTok{\{axial\}}\StringTok{ }\SpecialCharTok{\{perimeter\}}\StringTok{ }\SpecialCharTok{\{outer\}}\StringTok{ ...}
\StringTok{           rat 1 1 1 1.01 ...}
\StringTok{           fill}
\StringTok{"""}
\NormalTok{command }\OperatorTok{=}\NormalTok{ command\_zone.}\BuiltInTok{format}\NormalTok{(}
\NormalTok{B\_footing }\OperatorTok{=}\NormalTok{ \_B\_footing,}
\NormalTok{B\_soil }\OperatorTok{=}\NormalTok{ \_B\_soil,}
\NormalTok{D\_soil }\OperatorTok{=}\NormalTok{ \_D\_soil,}
\NormalTok{radial}\OperatorTok{=}\NormalTok{\_radial,}
\NormalTok{axial }\OperatorTok{=}\NormalTok{ \_axial,}
\NormalTok{perimeter }\OperatorTok{=}\NormalTok{ \_perimeter,}
\NormalTok{outer }\OperatorTok{=}\NormalTok{ \_outer)}

\NormalTok{it.command(command)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{myfigureeeeee/model}

\includegraphics[width=1\linewidth]{myfigureeeeee/1_zone_group}

\hypertarget{constitutive-model}{%
\section{Constitutive Model}\label{constitutive-model}}

It is easy to loop over sets of model objects (i.e., zones, gridpoints, structural element nodes, etc.) using the loop foreach construct. In this case, a container of objects must be given by a FISH intrinsic such as zone.list. A practical use of the loop foreach construct is to install a nonlinear initial distribution of elastic moduli in a FLAC3D grid. Suppose that the Young's modulus at a site is given by this equation:

\[ E = E_0 + c \sqrt{z}  \] where \(z\) is the depth below surface, and \(c\)
and \(E_0\) are constants. We write a FISH function to install appropriate
values of bulk and shear modulus in the grid:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\# CONSTITUTIVE MODEL \#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone cmodel assign elastic range group "Radial Tunnel1"}

\StringTok{fish define fname(E\_o,const)}
\StringTok{loop foreach pnt zone.list}
\StringTok{z\_depth = zone.pos.y(pnt)}
\StringTok{E = E\_o+const*math.sqrt(z\_depth)}
\StringTok{zone.prop(pnt,\textquotesingle{}young\textquotesingle{})=E}
\StringTok{end\_loop}
\StringTok{end}
\StringTok{@fname(}\SpecialCharTok{\{E\_o\_\}}\StringTok{,}\SpecialCharTok{\{const\_\}}\StringTok{)}
\StringTok{zone property poisson }\SpecialCharTok{\{poisson\_\}}\StringTok{ density }\SpecialCharTok{\{density\_soil\}}
\StringTok{plot item create zone contour property name \textquotesingle{}young\textquotesingle{}}
\StringTok{plot item create zone contour property name \textquotesingle{}density\textquotesingle{}}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(E\_o\_}\OperatorTok{=}\NormalTok{\_E\_o,const\_}\OperatorTok{=}\NormalTok{\_const,poisson\_}\OperatorTok{=}\NormalTok{\_poisson,density\_soil}\OperatorTok{=}\NormalTok{\_density\_soil))}

\BuiltInTok{print}\NormalTok{(}\StringTok{"radial mesh number is "}\NormalTok{, \_radial)}

\CommentTok{\# GROUP \#}
\NormalTok{p }\OperatorTok{=}\NormalTok{ za.pos()}
\NormalTok{x,y,z }\OperatorTok{=}\NormalTok{ p.T}
\BuiltInTok{print}\NormalTok{(it.zone.count(), }\StringTok{"zones in whole model"}\NormalTok{)}

\NormalTok{shaft }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (np.sqrt(x}\OperatorTok{**}\DecValTok{2}\OperatorTok{+}\NormalTok{z}\OperatorTok{**}\DecValTok{2}\NormalTok{)}\OperatorTok{\textless{}}\NormalTok{\_D\_shaft, y}\OperatorTok{\textless{}}\NormalTok{\_H\_shaft))}
\NormalTok{za.set\_group(shaft, }\StringTok{"shaft"}\NormalTok{) }
\BuiltInTok{print}\NormalTok{(za.in\_group(}\StringTok{"shaft"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in shaft group."}\NormalTok{) }

\NormalTok{plate }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (x}\OperatorTok{\textless{}}\NormalTok{\_B\_footing,z}\OperatorTok{\textless{}}\NormalTok{\_B\_footing, y}\OperatorTok{\textgreater{}}\NormalTok{\_H\_shaft,y}\OperatorTok{\textless{}}\NormalTok{\_D\_footing))}
\NormalTok{za.set\_group(plate, }\StringTok{"plate"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(za.in\_group(}\StringTok{"plate"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in plate group."}\NormalTok{)}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone cmodel assign elastic range group \textquotesingle{}shaft\textquotesingle{}}
\StringTok{zone cmodel assign elastic range group \textquotesingle{}plate\textquotesingle{}}
\StringTok{zone property bulk }\SpecialCharTok{\{bulk\_\}}\StringTok{ shear }\SpecialCharTok{\{shear\_\}}\StringTok{ density }\SpecialCharTok{\{density\_\}}\StringTok{ range group \textquotesingle{}shaft\textquotesingle{}}
\StringTok{zone property bulk }\SpecialCharTok{\{bulk\_\}}\StringTok{ shear }\SpecialCharTok{\{shear\_\}}\StringTok{ density }\SpecialCharTok{\{density\_\}}\StringTok{ range group \textquotesingle{}plate\textquotesingle{}}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(bulk\_}\OperatorTok{=}\NormalTok{\_bulk,shear\_}\OperatorTok{=}\NormalTok{\_shear,density\_}\OperatorTok{=}\NormalTok{\_density\_concrete))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{myfigureeeeee/1_young}

\includegraphics[width=1\linewidth]{myfigureeeeee/1_density}

Strain softening Model is also available, but not implemented:

\includegraphics[width=1\linewidth]{myfigureeeeee/softening}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#it.command("""}
\CommentTok{\#zone cmodel assign strain{-}softening range group "Radial Tunnel1"}
\CommentTok{\#zone property density 2500 bulk 2e8 shear 1e8 range group "Radial Tunnel1"}
\CommentTok{\#zone property cohesion 2e6 friction 45 tension 2e5 dilation 10 range group "Radial Tunnel1"}
\CommentTok{\#zone property table{-}friction \textquotesingle{}fri\textquotesingle{} table{-}cohesion \textquotesingle{}coh\textquotesingle{} table{-}dilation \textquotesingle{}dil\textquotesingle{} range group "Radial Tunnel1"}
\CommentTok{\#table \textquotesingle{}fri\textquotesingle{} add (0, 45) (.05, 42) (.1, 40) (1, 40)}
\CommentTok{\#table \textquotesingle{}coh\textquotesingle{} add (0,2e6) (.05,1e6) (.1,5e5) (1,5e5)}
\CommentTok{\#table \textquotesingle{}dil\textquotesingle{} add (0, 10) (.05,  3) (.1,  0)}
\CommentTok{\#""")}
\end{Highlighting}
\end{Shaded}

\hypertarget{interface}{%
\section{Interface}\label{interface}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\# INTERFACE \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone interface \textquotesingle{}interface 1\textquotesingle{} create by{-}face separate range group \textquotesingle{}plate\textquotesingle{} group \textquotesingle{}Radial Tunnel1\textquotesingle{}}
\StringTok{zone interface \textquotesingle{}interface 1\textquotesingle{} node property stiffness{-}normal }\SpecialCharTok{\{stiff\_norm\_\}}\StringTok{ stiffness{-}shear }\SpecialCharTok{\{stiff\_shear\_\}}\StringTok{ friction 20 cohesion 30000}
\StringTok{zone interface \textquotesingle{}interface 2\textquotesingle{} create by{-}face separate range group \textquotesingle{}shaft\textquotesingle{} group \textquotesingle{}Radial Tunnel1\textquotesingle{}}
\StringTok{zone interface \textquotesingle{}interface 2\textquotesingle{} node property stiffness{-}normal }\SpecialCharTok{\{stiff\_norm\_\}}\StringTok{ stiffness{-}shear }\SpecialCharTok{\{stiff\_shear\_\}}\StringTok{ friction 20 cohesion 30000}

\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(stiff\_norm\_}\OperatorTok{=}\NormalTok{\_stiff\_norm, stiff\_shear\_}\OperatorTok{=}\NormalTok{\_stiff\_shear))}

\BuiltInTok{print}\NormalTok{(}\StringTok{"               ======== PASSED INTERFACE ========"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{myfigureeeeee/interface-both}

\hypertarget{boundary-conditions}{%
\section{Boundary Conditions}\label{boundary-conditions}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\# BOUNDARY CONDITIONS \#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#range group \textquotesingle{}South3\textquotesingle{} or \textquotesingle{}Bottom4\textquotesingle{} or ...}
\CommentTok{\#\textquotesingle{}Top3\textquotesingle{} or \textquotesingle{}Top4\textquotesingle{} or \textquotesingle{}Bottom2\textquotesingle{} or \textquotesingle{}Top2\textquotesingle{} or \textquotesingle{}West2\textquotesingle{} or ...}
\CommentTok{\#\textquotesingle{}North2\textquotesingle{} or \textquotesingle{}East1\textquotesingle{} or \textquotesingle{}Top1\textquotesingle{} or \textquotesingle{}East2\textquotesingle{} or \textquotesingle{}Bottom3\textquotesingle{} or \textquotesingle{}Bottom1\textquotesingle{} or ...}
\CommentTok{\#\textquotesingle{}East4\textquotesingle{} or \textquotesingle{}West5\textquotesingle{} or \textquotesingle{}West3\textquotesingle{} or \textquotesingle{}West1\textquotesingle{} or \textquotesingle{}East3\textquotesingle{} or \textquotesingle{}North3\textquotesingle{} or ...}
\CommentTok{\#\textquotesingle{}Bottom5\textquotesingle{} or \textquotesingle{}West4\textquotesingle{} or \textquotesingle{}South2\textquotesingle{} or \textquotesingle{}North1}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone face skin}
\StringTok{zone face apply velocity{-}normal 0 ...}
\StringTok{range group \textquotesingle{}North1\textquotesingle{} or \textquotesingle{}North2\textquotesingle{} or \textquotesingle{}East3\textquotesingle{} or \textquotesingle{}Bottom5\textquotesingle{} or \textquotesingle{}North3\textquotesingle{} or \textquotesingle{}East5\textquotesingle{} or ...}
\StringTok{\textquotesingle{}West1\textquotesingle{} or \textquotesingle{}Bottom6\textquotesingle{} or \textquotesingle{}Bottom7\textquotesingle{} or \textquotesingle{}Bottom3\textquotesingle{} or \textquotesingle{}West3\textquotesingle{} or \textquotesingle{}West4\textquotesingle{} or ...}
\StringTok{\textquotesingle{}Top6\textquotesingle{} or \textquotesingle{}Bottom4\textquotesingle{} or \textquotesingle{}West6\textquotesingle{} or \textquotesingle{}West7\textquotesingle{} or \textquotesingle{}Top5\textquotesingle{} or \textquotesingle{}West5\textquotesingle{} or ...}
\StringTok{\textquotesingle{}East4\textquotesingle{} or \textquotesingle{}Top3\textquotesingle{} or \textquotesingle{}Bottom1\textquotesingle{} or \textquotesingle{}East6\textquotesingle{} or \textquotesingle{}East2\textquotesingle{} or \textquotesingle{}Top1\textquotesingle{} or ...}
\StringTok{\textquotesingle{}East1\textquotesingle{} or \textquotesingle{}West2\textquotesingle{} or \textquotesingle{}Top2\textquotesingle{} or \textquotesingle{}Bottom2\textquotesingle{} or \textquotesingle{}Top4\textquotesingle{}}
\StringTok{"""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{initial-equilibrium}{%
\section{Initial Equilibrium}\label{initial-equilibrium}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\# INITILIZE \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{model gravity 0 }\SpecialCharTok{\{gravity\_\}}\StringTok{ 0}
\StringTok{zone initialize{-}stress ratio }\SpecialCharTok{\{K\_\}}
\StringTok{zone interface \textquotesingle{}interface 1\textquotesingle{} node initialize{-}stresses}
\StringTok{zone interface \textquotesingle{}interface 2\textquotesingle{} node initialize{-}stresses}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(gravity\_}\OperatorTok{=}\NormalTok{\_gravity, K\_ }\OperatorTok{=}\NormalTok{ \_K))}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone ratio local}
\StringTok{model solve ratio 1e{-}4}
\StringTok{model save \textquotesingle{}initial\textquotesingle{}}
\StringTok{"""}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{"               ======== PASSED INITIAL EQUILIBRIUM ========"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{vertical-loading}{%
\section{Vertical Loading}\label{vertical-loading}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\# VERTICAL LOADING \#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\NormalTok{top }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (np.sqrt(x}\OperatorTok{**}\DecValTok{2}\OperatorTok{+}\NormalTok{z}\OperatorTok{**}\DecValTok{2}\NormalTok{)}\OperatorTok{\textless{}}\NormalTok{\_D\_shaft, y}\OperatorTok{==}\NormalTok{np.amin(y)))}
\NormalTok{za.set\_group(top, }\StringTok{"top"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(za.in\_group(}\StringTok{"top"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in top group."}\NormalTok{)}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone initialize state 0}
\StringTok{zone gridpoint initialize displacement (0,0,0)}
\StringTok{zone gridpoint initialize velocity     (0,0,0) }
\StringTok{table \textquotesingle{}ramp\textquotesingle{} add ([global.step],0) ([global.step+5000],{-}1e{-}6) ...}
\StringTok{      ([global.step+10000],{-}1e{-}6) ; Increase velocity applied to pile}
\StringTok{;zone face apply velocity{-}normal 1 table \textquotesingle{}ramp\textquotesingle{} range group \textquotesingle{}plate\textquotesingle{} or \textquotesingle{}shaft\textquotesingle{}}
\StringTok{zone face apply velocity{-}normal 1 table \textquotesingle{}ramp\textquotesingle{} range group \textquotesingle{}top\textquotesingle{}}

\StringTok{; Set up histories for monitoring model behavior}
\StringTok{history interval 100}

\StringTok{fish define vert\_load}
\StringTok{    local yftot = 0.0}
\StringTok{    loop foreach gp cap}
\StringTok{        yftot = yftot + gp.force.unbal.y(gp)}
\StringTok{    end\_loop}
\StringTok{    vert\_load = yftot / (0.25*0.25*}\SpecialCharTok{\{D\_shaft\_\}}\StringTok{*}\SpecialCharTok{\{D\_shaft\_\}}\StringTok{*math.pi)}
\StringTok{end}

\StringTok{zone history name \textquotesingle{}disp\textquotesingle{} displacement{-}y position (0,0,0)}
\StringTok{fish history name \textquotesingle{}yload\textquotesingle{} @vert\_load}

\StringTok{;zone mechanical damping combined}
\StringTok{model largestrain true}
\StringTok{model step 10000}
\StringTok{model save \textquotesingle{}vertical{-}loading\textquotesingle{}}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(D\_shaft\_}\OperatorTok{=}\NormalTok{\_D\_shaft))}

\BuiltInTok{print}\NormalTok{(}\StringTok{"               ======== PASSED VERTICAL LOADING ========"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{plot}{%
\section{Plot}\label{plot}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\# PLOT \#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{plot create}
\StringTok{plot item create zone label group}
\StringTok{plot create}
\StringTok{plot item create zone contour property name \textquotesingle{}young\textquotesingle{}}
\StringTok{plot create}
\StringTok{plot item create zone label density}
\StringTok{plot create}
\StringTok{plot item create zone active on ...}
\StringTok{    contour Displacement}
\StringTok{"""}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{"               ======== PASSED PLOT ========"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{define-fish-functions}{%
\section{Define Fish functions}\label{define-fish-functions}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# define make\_pydata, output\_structure, tot\_reac \#}
\CommentTok{\# =========================================================}
\CommentTok{\#;call \textquotesingle{}p{-}y\textquotesingle{} suppress ; Calculates p{-}y curve for pile, when tot\_reac is called}
\CommentTok{\#; Calculate PY Curves at equidistant locations along pile}
\CommentTok{\#; Stored in map called pile, key = 1.0*y positions rounded to integer}
\CommentTok{\#;    value = map, key \textquotesingle{}y\textquotesingle{} = y{-}position}
\CommentTok{\#;                     \textquotesingle{}length\textquotesingle{} = length of ownership of this segment}
\CommentTok{\#;                     \textquotesingle{}gp\textquotesingle{} = Gridpoint nearest (0,y,0)}
\CommentTok{\#;                     \textquotesingle{}nodes\textquotesingle{} = map of interface nodes at that position, key order entered.}
\NormalTok{it.command(}\StringTok{"""}
\StringTok{fish define make\_pydata}
\StringTok{    global pile = map}
\StringTok{    ; Build list of nodes}
\StringTok{    loop foreach local ipnt inter.list}
\StringTok{        loop foreach node inter.node.list(ipnt)}
\StringTok{            local y = inter.node.pos.y(node)}
\StringTok{            local key = math.round(inter.node.pos.y(node) * 1.0)}
\StringTok{            if map.has(pile,key) == false then}
\StringTok{                local level = map}
\StringTok{                local nodes = map}
\StringTok{                level(\textquotesingle{}y\textquotesingle{}) = y}
\StringTok{                level(\textquotesingle{}gp\textquotesingle{}) = gp.near(0,y,0,\textquotesingle{}pile\textquotesingle{})}
\StringTok{                level(\textquotesingle{}nodes\textquotesingle{}) = nodes}
\StringTok{                level(\textquotesingle{}length\textquotesingle{}) = 0.0}
\StringTok{                pile(key) = level}
\StringTok{            endif}
\StringTok{            level = pile(key)}
\StringTok{            nodes = level(\textquotesingle{}nodes\textquotesingle{})}
\StringTok{            nodes(map.size(nodes)) = node}
\StringTok{            level(\textquotesingle{}nodes\textquotesingle{}) = nodes}
\StringTok{            pile(key) = level}
\StringTok{        end\_loop}
\StringTok{    end\_loop}
\StringTok{    ; Calculate length of ownership of each segment}
\StringTok{    local prev\_key = \textquotesingle{}0\textquotesingle{}}
\StringTok{    loop foreach key map.keys(pile)}
\StringTok{        if type.name(prev\_key) == \textquotesingle{}integer\textquotesingle{} then}
\StringTok{            local levelp = pile(prev\_key)}
\StringTok{            local leveln = pile(key)}
\StringTok{            local dist = math.abs(gp.pos.y(levelp(\textquotesingle{}gp\textquotesingle{})) {-} gp.pos.y(leveln(\textquotesingle{}gp\textquotesingle{}))) * 0.5}
\StringTok{            levelp(\textquotesingle{}length\textquotesingle{}) = levelp(\textquotesingle{}length\textquotesingle{}) + dist}
\StringTok{            leveln(\textquotesingle{}length\textquotesingle{}) = leveln(\textquotesingle{}length\textquotesingle{}) + dist}
\StringTok{            pile(prev\_key) = levelp}
\StringTok{            pile(key) = leveln}
\StringTok{        endif}
\StringTok{        prev\_key = key}
\StringTok{    end\_loop}
\StringTok{end}

\StringTok{; Output resulting data structure...}
\StringTok{fish define output\_structure}
\StringTok{    loop foreach local level pile}
\StringTok{        io.out(\textquotesingle{}Y{-}Position \textquotesingle{} + string(level(\textquotesingle{}y\textquotesingle{})))}
\StringTok{        io.out(\textquotesingle{}Length \textquotesingle{} + string(level(\textquotesingle{}length\textquotesingle{})))}
\StringTok{        io.out(\textquotesingle{}GP \textquotesingle{} + string(gp.id(level(\textquotesingle{}gp\textquotesingle{}))))}
\StringTok{        local nodelist = \textquotesingle{}\textquotesingle{}}
\StringTok{        loop foreach local node level(\textquotesingle{}nodes\textquotesingle{})}
\StringTok{            nodelist = nodelist + \textquotesingle{} \textquotesingle{} + string(interface.node.id(node))}
\StringTok{        end\_loop}
\StringTok{        io.out(\textquotesingle{}Nodes\textquotesingle{}+nodelist)}
\StringTok{    end\_loop}
\StringTok{end}

\StringTok{fish define tot\_reac}
\StringTok{    local total = 0.0}
\StringTok{    loop foreach local key map.keys(pile)}
\StringTok{        local level = pile(key)}
\StringTok{        local accum = 0.0}
\StringTok{        loop foreach local node level(\textquotesingle{}nodes\textquotesingle{})}
\StringTok{            local area = 2.0 * interface.node.area(node)}
\StringTok{            local norm = zone.face.normal(inter.node.target.zone(node),inter.node.target.face(node))}
\StringTok{            local xnstress = inter.node.stress.normal(node) * norm{-}\textgreater{}x * {-}1.0}
\StringTok{            local xsstress = inter.node.stress.shear.x(node)}
\StringTok{            accum = accum + (xnstress + xsstress) *  area}
\StringTok{        end\_loop}
\StringTok{        local xdis = gp.disp.x(level(\textquotesingle{}gp\textquotesingle{}))}
\StringTok{        total = total + accum}
\StringTok{        table(string(key),xdis) = accum/level(\textquotesingle{}length\textquotesingle{})}
\StringTok{    end\_loop}
\StringTok{    tot\_reac = total}
\StringTok{end}
\StringTok{"""}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"               ======== PASSED DEFINING ALL FISH FUNCTIONS ========        ========"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{results}{%
\section{Results}\label{results}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ==================================================================}
\CommentTok{\#   IPython Consol Output}
\CommentTok{\# ==================================================================}
               \OperatorTok{========}\NormalTok{ BEGIN A NEW RUN }\OperatorTok{========}
\NormalTok{(}\DecValTok{80000}\NormalTok{, }\StringTok{\textquotesingle{}zones in whole model\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{750}\NormalTok{, }\StringTok{\textquotesingle{}zones in shaft group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{2000}\NormalTok{, }\StringTok{\textquotesingle{}zones in plate group.\textquotesingle{}}\NormalTok{)}
               \OperatorTok{========}\NormalTok{ PASSED PROPERTIES SETTING }\OperatorTok{========}
               \OperatorTok{========}\NormalTok{ PASSED INTERFACE SETTING }\OperatorTok{========}
\NormalTok{(}\DecValTok{2000}\NormalTok{, }\StringTok{\textquotesingle{}zones in bottom group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{2000}\NormalTok{, }\StringTok{\textquotesingle{}zones in up group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{800}\NormalTok{, }\StringTok{\textquotesingle{}zones in x\_side group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{800}\NormalTok{, }\StringTok{\textquotesingle{}zones in z\_side group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{800}\NormalTok{, }\StringTok{\textquotesingle{}zones in x\_side\_end group.\textquotesingle{}}\NormalTok{)}
\NormalTok{(}\DecValTok{800}\NormalTok{, }\StringTok{\textquotesingle{}zones in z\_side\_end group.\textquotesingle{}}\NormalTok{)}
               \OperatorTok{========}\NormalTok{ PASSED BOUNDARY AND INITIAL CONDITIONS }\OperatorTok{========}
               \OperatorTok{========}\NormalTok{ PASSED VERTICAL LOADING }\DecValTok{1} \OperatorTok{========}
               \OperatorTok{========}\NormalTok{ PASSED VERTICAL LOADING }\DecValTok{2} \OperatorTok{========}
               \OperatorTok{========}\NormalTok{ PASSED DEFINING ALL FISH FUNCTIONS }\OperatorTok{========}
               \OperatorTok{========}\NormalTok{ PASSED ALL SCRIPTS SUCCESSFULLY }\OperatorTok{========}
\CommentTok{\# ==================================================================}
\CommentTok{\#   FISH Consol Output}
\CommentTok{\# ==================================================================}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{python}\OperatorTok{{-}}\NormalTok{reset}\OperatorTok{{-}}\NormalTok{state false}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model new}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model deterministic on}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model precision }\DecValTok{6}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model random }\DecValTok{10000}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{z crea r}\OperatorTok{{-}}\NormalTok{t p }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{1}\NormalTok{ (}\FloatTok{16.25}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{16.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{4}\NormalTok{ (}\FloatTok{16.25}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{5}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\FloatTok{16.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{6}\NormalTok{ (}\FloatTok{16.25}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{16.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{7}\NormalTok{ (}\FloatTok{16.25}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\FloatTok{16.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{8}\NormalTok{ (}\FloatTok{3.25}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{9}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{3.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{10}\NormalTok{ (}\FloatTok{3.25}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{11}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\FloatTok{3.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{12}\NormalTok{ (}\FloatTok{3.25}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{3.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           p }\DecValTok{13}\NormalTok{ (}\FloatTok{3.25}\NormalTok{,}\FloatTok{11.95}\NormalTok{,}\FloatTok{3.25}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           size }\DecValTok{20} \DecValTok{40} \DecValTok{20} \DecValTok{40}\NormalTok{ ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           rat }\DecValTok{1} \DecValTok{1} \DecValTok{1} \FloatTok{1.01}\NormalTok{ ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{           fill}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone cmodel assign elastic }\BuiltInTok{range}\NormalTok{ group }\StringTok{"Radial Tunnel1"}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define fname(E\_o,const)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{loop foreach pnt zone.}\BuiltInTok{list}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{z\_depth }\OperatorTok{=}\NormalTok{ zone.pos.y(pnt)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{E }\OperatorTok{=}\NormalTok{ E\_o}\OperatorTok{+}\NormalTok{const}\OperatorTok{*}\NormalTok{math.sqrt(z\_depth)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{zone.prop(pnt,}\StringTok{\textquotesingle{}young\textquotesingle{}}\NormalTok{)}\OperatorTok{=}\NormalTok{E}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{}@}\NormalTok{fname(}\FloatTok{10000000.0}\NormalTok{,}\FloatTok{100000000.0}\NormalTok{)}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone }\BuiltInTok{property}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ density }\DecValTok{1530}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property poisson }\BuiltInTok{set} \KeywordTok{in} \DecValTok{80000}\NormalTok{ zones using the elastic model.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{plot item create zone contour }\BuiltInTok{property}\NormalTok{ name }\StringTok{\textquotesingle{}young\textquotesingle{}}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{plot item create zone contour }\BuiltInTok{property}\NormalTok{ name }\StringTok{\textquotesingle{}density\textquotesingle{}}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone cmodel assign elastic }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}shaft\textquotesingle{}}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone cmodel assign elastic }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}plate\textquotesingle{}}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{13900000000.0}\NormalTok{ shear }\FloatTok{10400000000.0}\NormalTok{ density }\DecValTok{2950} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}shaft\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property bulk }\BuiltInTok{set} \KeywordTok{in} \DecValTok{750}\NormalTok{ zones using the elastic model.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property shear }\BuiltInTok{set} \KeywordTok{in} \DecValTok{750}\NormalTok{ zones using the elastic model.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{13900000000.0}\NormalTok{ shear }\FloatTok{10400000000.0}\NormalTok{ density }\DecValTok{2950} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}plate\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property bulk }\BuiltInTok{set} \KeywordTok{in} \DecValTok{2000}\NormalTok{ zones using the elastic model.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property shear }\BuiltInTok{set} \KeywordTok{in} \DecValTok{2000}\NormalTok{ zones using the elastic model.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 1\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face separate }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}plate\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}Radial Tunnel1\textquotesingle{}}
\OperatorTok{{-}{-}{-}} \DecValTok{1003}\NormalTok{ gridpoints duplicated, }\DecValTok{1940}\NormalTok{ surface faces created.}
\OperatorTok{{-}{-}{-}} \DecValTok{13}\NormalTok{ gridpoints skipped on internal edge.}
\OperatorTok{{-}{-}{-}} \DecValTok{970}\NormalTok{ faces on one side were assigned the group name Interface }\DecValTok{1} \KeywordTok{in}\NormalTok{ slot Interface.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 1\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{100000000.0}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{100000000.0}\NormalTok{ friction }\DecValTok{20}\NormalTok{ cohesion }\DecValTok{30000}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Normal Stiffness }\BuiltInTok{set} \KeywordTok{in} \DecValTok{1016}\NormalTok{ interface }\DecValTok{1}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Shear Stiffness }\BuiltInTok{set} \KeywordTok{in} \DecValTok{1016}\NormalTok{ interface }\DecValTok{1}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Friction }\BuiltInTok{set} \KeywordTok{in} \DecValTok{1016}\NormalTok{ interface }\DecValTok{1}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Cohesion }\BuiltInTok{set} \KeywordTok{in} \DecValTok{1016}\NormalTok{ interface }\DecValTok{1}\NormalTok{ nodes.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 2\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face separate }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}shaft\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}Radial Tunnel1\textquotesingle{}}
\OperatorTok{{-}{-}{-}} \DecValTok{338}\NormalTok{ gridpoints duplicated, }\DecValTok{600}\NormalTok{ surface faces created.}
\OperatorTok{{-}{-}{-}} \DecValTok{300}\NormalTok{ faces on one side were assigned the group name Interface }\DecValTok{2} \KeywordTok{in}\NormalTok{ slot Interface.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 2\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{100000000.0}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{100000000.0}\NormalTok{ friction }\DecValTok{20}\NormalTok{ cohesion }\DecValTok{30000}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Normal Stiffness }\BuiltInTok{set} \KeywordTok{in} \DecValTok{338}\NormalTok{ interface }\DecValTok{2}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Shear Stiffness }\BuiltInTok{set} \KeywordTok{in} \DecValTok{338}\NormalTok{ interface }\DecValTok{2}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Friction }\BuiltInTok{set} \KeywordTok{in} \DecValTok{338}\NormalTok{ interface }\DecValTok{2}\NormalTok{ nodes.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Property Cohesion }\BuiltInTok{set} \KeywordTok{in} \DecValTok{338}\NormalTok{ interface }\DecValTok{2}\NormalTok{ nodes.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}bottom\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Apply conditions added to }\DecValTok{2081}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}x\_side\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}z\_side\textquotesingle{}}
\OperatorTok{{-}{-}{-}} \DecValTok{41}\NormalTok{ gridpoints }\ControlFlowTok{with}\NormalTok{ conflicting conditions had those conditions removed.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Apply conditions added to }\DecValTok{2124}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}x\_side\_end\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}z\_side\_end\textquotesingle{}}
\OperatorTok{{-}{-}{-}} \DecValTok{41}\NormalTok{ gridpoints }\ControlFlowTok{with}\NormalTok{ conflicting conditions had those conditions removed.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Apply conditions added to }\DecValTok{1841}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model gravity }\DecValTok{0} \FloatTok{9.80665} \DecValTok{0}
\OperatorTok{{-}{-}{-}}\NormalTok{ Gravity has been }\BuiltInTok{set}\NormalTok{ to: ( }\FloatTok{0.000000e+00} \FloatTok{9.806650e+00} \FloatTok{0.000000e+00}\NormalTok{).}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone initialize}\OperatorTok{{-}}\NormalTok{stress ratio }\FloatTok{0.318}
\OperatorTok{{-}{-}{-}}\NormalTok{ Stresses initialized }\KeywordTok{in} \DecValTok{80000}\NormalTok{ zones.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 1\textquotesingle{}}\NormalTok{ node initialize}\OperatorTok{{-}}\NormalTok{stresses}
\OperatorTok{{-}{-}{-}}\NormalTok{ Initial stress state }\BuiltInTok{set} \KeywordTok{in} \DecValTok{1016}\NormalTok{ interface nodes.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone interface }\StringTok{\textquotesingle{}interface 2\textquotesingle{}}\NormalTok{ node initialize}\OperatorTok{{-}}\NormalTok{stresses}
\OperatorTok{{-}{-}{-}}\NormalTok{ Initial stress state }\BuiltInTok{set} \KeywordTok{in} \DecValTok{338}\NormalTok{ interface nodes.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone ratio local}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model solve ratio }\FloatTok{1e{-}4}
\NormalTok{    Cycle      Total Mech Ratio       Clock}
\OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} 
     \DecValTok{8857}       \DecValTok{8857} \FloatTok{9.9831e{-}05} \DecValTok{00}\NormalTok{:}\DecValTok{00}\NormalTok{:}\DecValTok{03}\NormalTok{:}\DecValTok{36} 
                     \FloatTok{1.0000e{-}04}             
\OperatorTok{{-}{-}{-}}\NormalTok{ Limit ratio of }\FloatTok{1.0000e{-}04}\NormalTok{ met }\KeywordTok{in}\NormalTok{ process(es): mech Zone Main (}\FloatTok{9.9831e{-}05}\NormalTok{),mech Struct Main (}\FloatTok{3.4811e{-}06}\NormalTok{).}
\OperatorTok{{-}{-}{-}}\NormalTok{ Cycling ended at: }\DecValTok{2021}\OperatorTok{{-}}\DecValTok{09}\OperatorTok{{-}}\DecValTok{20} \DecValTok{16}\NormalTok{:}\DecValTok{37}\NormalTok{:}\DecValTok{35}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model save }\StringTok{\textquotesingle{}initial\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Model saved to }\BuiltInTok{file}\NormalTok{ C:}\OperatorTok{/}\NormalTok{Users}\OperatorTok{/}\NormalTok{kyeongsunkim}\OperatorTok{/}\NormalTok{Desktop}\OperatorTok{/}\NormalTok{FLAC\_WORKING\_DIRECTORY}\OperatorTok{/}\DecValTok{13}\NormalTok{\_KAIST\_vertical\_loading\_0920}\OperatorTok{/}\NormalTok{initial.f3sav.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone initialize state }\DecValTok{0}
\OperatorTok{{-}{-}{-}}\NormalTok{ state modified }\KeywordTok{in} \DecValTok{80000}\NormalTok{ zones.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone gridpoint initialize displacement (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{{-}{-}{-}}\NormalTok{ displacement modified }\KeywordTok{in} \DecValTok{86662}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone gridpoint initialize velocity     (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{{-}{-}{-}}\NormalTok{ velocity modified }\KeywordTok{in} \DecValTok{86662}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{table }\StringTok{\textquotesingle{}ramp\textquotesingle{}}\NormalTok{ add ([}\KeywordTok{global}\NormalTok{.step],}\DecValTok{0}\NormalTok{) ([}\KeywordTok{global}\NormalTok{.step}\OperatorTok{+}\DecValTok{30000}\NormalTok{],}\OperatorTok{{-}}\FloatTok{5e{-}8}\NormalTok{) ...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{      ([}\KeywordTok{global}\NormalTok{.step}\OperatorTok{+}\DecValTok{58000}\NormalTok{],}\OperatorTok{{-}}\FloatTok{5e{-}8}\NormalTok{) }\OperatorTok{;}\NormalTok{ Increase velocity applied to pile}
\OperatorTok{{-}{-}{-}}\NormalTok{ The table  }\ControlFlowTok{with}\NormalTok{ name ramp was created }\KeywordTok{and} \DecValTok{3}\NormalTok{ values were added.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}                                  \OperatorTok{;}\NormalTok{ over }\DecValTok{30}\NormalTok{,}\DecValTok{000}\NormalTok{ steps}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{1}\NormalTok{ table }\StringTok{\textquotesingle{}ramp\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}top\textquotesingle{}}
\OperatorTok{{-}{-}{-}} \DecValTok{39}\NormalTok{ gridpoints }\ControlFlowTok{with}\NormalTok{ conflicting conditions had those conditions removed.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Apply conditions added to }\DecValTok{67}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{history interval }\DecValTok{250}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{y position (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{{-}{-}{-}}\NormalTok{ Created history disp Y Displacement at (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{flac3d}\OperatorTok{\textgreater{};} \OperatorTok{=========================================================}
\NormalTok{flac3d}\OperatorTok{\textgreater{};}\NormalTok{  find gridpoints at pile cap, store }\KeywordTok{in} \BuiltInTok{map}\NormalTok{ called cap}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define find\_cap}
\NormalTok{   Def}\OperatorTok{\textgreater{}}    \KeywordTok{global}\NormalTok{ cap }\OperatorTok{=} \BuiltInTok{map}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach local gp gp.}\BuiltInTok{list}
\NormalTok{   Def}\OperatorTok{\textgreater{}}        \ControlFlowTok{if}\NormalTok{ gp.isgroup(gp,}\StringTok{\textquotesingle{}top\textquotesingle{}}\NormalTok{) then}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            cap(gp.}\BuiltInTok{id}\NormalTok{(gp)) }\OperatorTok{=}\NormalTok{ gp}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        endif}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    endloop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{}@}\NormalTok{find\_cap}
\NormalTok{flac3d}\OperatorTok{\textgreater{};} \OperatorTok{=========================================================}
\NormalTok{flac3d}\OperatorTok{\textgreater{};}\NormalTok{ monitor vertical loading at pile cap}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define vert\_load}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    local yftot }\OperatorTok{=} \FloatTok{0.0}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach gp cap}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        yftot }\OperatorTok{=}\NormalTok{ yftot }\OperatorTok{+}\NormalTok{ gp.force.unbal.y(gp)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    vert\_load }\OperatorTok{=}\NormalTok{ yftot }\OperatorTok{/}\NormalTok{ (}\FloatTok{0.25}\OperatorTok{*}\DecValTok{1}\OperatorTok{*}\DecValTok{1}\OperatorTok{*}\NormalTok{math.pi)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{};}\NormalTok{call }\StringTok{\textquotesingle{}load\textquotesingle{}}
\NormalTok{flac3d}\OperatorTok{\textgreater{};} \OperatorTok{=========================================================}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish history name }\StringTok{\textquotesingle{}load\textquotesingle{}} \OperatorTok{@}\NormalTok{vert\_load}
\OperatorTok{{-}{-}{-}}\NormalTok{ Created history load}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone mechanical damping combined}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model step }\DecValTok{58000}
\NormalTok{    Cycle      Total       Clock}
\OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} 
    \DecValTok{58000}      \DecValTok{66857} \DecValTok{00}\NormalTok{:}\DecValTok{00}\NormalTok{:}\DecValTok{22}\NormalTok{:}\DecValTok{18} 
    \DecValTok{58000}                        
\OperatorTok{{-}{-}{-}}\NormalTok{ Global cycle limit of }\DecValTok{58000}\NormalTok{ met.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Cycling ended at: }\DecValTok{2021}\OperatorTok{{-}}\DecValTok{09}\OperatorTok{{-}}\DecValTok{20} \DecValTok{16}\NormalTok{:}\DecValTok{59}\NormalTok{:}\DecValTok{55}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model save }\StringTok{\textquotesingle{}vertical{-}loading\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Model saved to }\BuiltInTok{file}\NormalTok{ C:}\OperatorTok{/}\NormalTok{Users}\OperatorTok{/}\NormalTok{kyeongsunkim}\OperatorTok{/}\NormalTok{Desktop}\OperatorTok{/}\NormalTok{FLAC\_WORKING\_DIRECTORY}\OperatorTok{/}\DecValTok{13}\NormalTok{\_KAIST\_vertical\_loading\_0920}\OperatorTok{/}\NormalTok{vertical}\OperatorTok{{-}}\NormalTok{loading.f3sav.}
\NormalTok{flac3d}\OperatorTok{\textgreater{};}\NormalTok{ vertical loading}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model restore }\StringTok{\textquotesingle{}initial\textquotesingle{}}
\OperatorTok{********************************************}
\NormalTok{Save }\BuiltInTok{file}\NormalTok{ created by FLAC3D }\FloatTok{6.00.69.0}
\NormalTok{on ? }\DecValTok{9} \DecValTok{20} \DecValTok{16}\NormalTok{:}\DecValTok{37}\NormalTok{:}\DecValTok{35} \DecValTok{2021}
\NormalTok{Total Cycles: }\DecValTok{8857}\NormalTok{  Super Cycles: }\DecValTok{8857}
\NormalTok{Title: }
\NormalTok{Customer: }
\NormalTok{        : }
\OperatorTok{********************************************}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone initialize state }\DecValTok{0}
\OperatorTok{{-}{-}{-}}\NormalTok{ state modified }\KeywordTok{in} \DecValTok{80000}\NormalTok{ zones.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone gridpoint initialize displacement (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{{-}{-}{-}}\NormalTok{ displacement modified }\KeywordTok{in} \DecValTok{86662}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone gridpoint initialize velocity     (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{{-}{-}{-}}\NormalTok{ velocity modified }\KeywordTok{in} \DecValTok{86662}\NormalTok{ gridpoints.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{yy [}\FloatTok{1.0e5}\OperatorTok{/}\NormalTok{(math.pi}\OperatorTok{*}\DecValTok{1}\OperatorTok{*}\DecValTok{1}\NormalTok{)] }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}top\textquotesingle{}}
\OperatorTok{+++}\NormalTok{ No }\BuiltInTok{apply}\NormalTok{ conditions created.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model solve ratio }\FloatTok{1e{-}4}
\NormalTok{    Cycle      Total Mech Ratio       Clock}
\OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} 
        \DecValTok{1}       \DecValTok{8858} \FloatTok{9.9831e{-}05} \DecValTok{00}\NormalTok{:}\DecValTok{00}\NormalTok{:}\DecValTok{00}\NormalTok{:}\DecValTok{00} 
                     \FloatTok{1.0000e{-}04}             
\OperatorTok{{-}{-}{-}}\NormalTok{ Limit ratio of }\FloatTok{1.0000e{-}04}\NormalTok{ met }\KeywordTok{in}\NormalTok{ process(es): mech Zone Main (}\FloatTok{9.9831e{-}05}\NormalTok{),mech Struct Main (}\FloatTok{3.4811e{-}06}\NormalTok{).}
\OperatorTok{{-}{-}{-}}\NormalTok{ Cycling ended at: }\DecValTok{2021}\OperatorTok{{-}}\DecValTok{09}\OperatorTok{{-}}\DecValTok{20} \DecValTok{16}\NormalTok{:}\DecValTok{59}\NormalTok{:}\DecValTok{57}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model save }\StringTok{\textquotesingle{}vertical{-}load{-}end\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Model saved to }\BuiltInTok{file}\NormalTok{ C:}\OperatorTok{/}\NormalTok{Users}\OperatorTok{/}\NormalTok{kyeongsunkim}\OperatorTok{/}\NormalTok{Desktop}\OperatorTok{/}\NormalTok{FLAC\_WORKING\_DIRECTORY}\OperatorTok{/}\DecValTok{13}\NormalTok{\_KAIST\_vertical\_loading\_0920}\OperatorTok{/}\NormalTok{vertical}\OperatorTok{{-}}\NormalTok{load}\OperatorTok{{-}}\NormalTok{end.f3sav.}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define make\_pydata}
\NormalTok{   Def}\OperatorTok{\textgreater{}}    \KeywordTok{global}\NormalTok{ pile }\OperatorTok{=} \BuiltInTok{map}
\NormalTok{   Def}\OperatorTok{\textgreater{}}    \OperatorTok{;}\NormalTok{ Build }\BuiltInTok{list}\NormalTok{ of nodes}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach local ipnt inter.}\BuiltInTok{list}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        loop foreach node inter.node.}\BuiltInTok{list}\NormalTok{(ipnt)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local y }\OperatorTok{=}\NormalTok{ inter.node.pos.y(node)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local key }\OperatorTok{=}\NormalTok{ math.}\BuiltInTok{round}\NormalTok{(inter.node.pos.y(node) }\OperatorTok{*} \FloatTok{1.0}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}            \ControlFlowTok{if} \BuiltInTok{map}\NormalTok{.has(pile,key) }\OperatorTok{==}\NormalTok{ false then}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                local level }\OperatorTok{=} \BuiltInTok{map}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                local nodes }\OperatorTok{=} \BuiltInTok{map}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                level(}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ y}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                level(}\StringTok{\textquotesingle{}gp\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ gp.near(}\DecValTok{0}\NormalTok{,y,}\DecValTok{0}\NormalTok{,}\StringTok{\textquotesingle{}pile\textquotesingle{}}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                level(}\StringTok{\textquotesingle{}nodes\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ nodes}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                level(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{) }\OperatorTok{=} \FloatTok{0.0}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{                pile(key) }\OperatorTok{=}\NormalTok{ level}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            endif}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            level }\OperatorTok{=}\NormalTok{ pile(key)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            nodes }\OperatorTok{=}\NormalTok{ level(}\StringTok{\textquotesingle{}nodes\textquotesingle{}}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            nodes(}\BuiltInTok{map}\NormalTok{.size(nodes)) }\OperatorTok{=}\NormalTok{ node}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            level(}\StringTok{\textquotesingle{}nodes\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ nodes}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            pile(key) }\OperatorTok{=}\NormalTok{ level}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}    \OperatorTok{;}\NormalTok{ Calculate length of ownership of each segment}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    local prev\_key }\OperatorTok{=} \StringTok{\textquotesingle{}0\textquotesingle{}}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach key }\BuiltInTok{map}\NormalTok{.keys(pile)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{.name(prev\_key) }\OperatorTok{==} \StringTok{\textquotesingle{}integer\textquotesingle{}}\NormalTok{ then}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local levelp }\OperatorTok{=}\NormalTok{ pile(prev\_key)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local leveln }\OperatorTok{=}\NormalTok{ pile(key)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local dist }\OperatorTok{=}\NormalTok{ math.}\BuiltInTok{abs}\NormalTok{(gp.pos.y(levelp(}\StringTok{\textquotesingle{}gp\textquotesingle{}}\NormalTok{)) }\OperatorTok{{-}}\NormalTok{ gp.pos.y(leveln(}\StringTok{\textquotesingle{}gp\textquotesingle{}}\NormalTok{))) }\OperatorTok{*} \FloatTok{0.5}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            levelp(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ levelp(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{) }\OperatorTok{+}\NormalTok{ dist}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            leveln(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{) }\OperatorTok{=}\NormalTok{ leveln(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{) }\OperatorTok{+}\NormalTok{ dist}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            pile(prev\_key) }\OperatorTok{=}\NormalTok{ levelp}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            pile(key) }\OperatorTok{=}\NormalTok{ leveln}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        endif}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        prev\_key }\OperatorTok{=}\NormalTok{ key}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{};}\NormalTok{ Output resulting data structure...}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define output\_structure}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach local level pile}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        io.out(}\StringTok{\textquotesingle{}Y{-}Position \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(level(}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{)))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        io.out(}\StringTok{\textquotesingle{}Length \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(level(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{)))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        io.out(}\StringTok{\textquotesingle{}GP \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(gp.}\BuiltInTok{id}\NormalTok{(level(}\StringTok{\textquotesingle{}gp\textquotesingle{}}\NormalTok{))))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        local nodelist }\OperatorTok{=} \StringTok{\textquotesingle{}\textquotesingle{}}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        loop foreach local node level(}\StringTok{\textquotesingle{}nodes\textquotesingle{}}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            nodelist }\OperatorTok{=}\NormalTok{ nodelist }\OperatorTok{+} \StringTok{\textquotesingle{} \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(interface.node.}\BuiltInTok{id}\NormalTok{(node))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        io.out(}\StringTok{\textquotesingle{}Nodes\textquotesingle{}}\OperatorTok{+}\NormalTok{nodelist)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish define tot\_reac}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    local total }\OperatorTok{=} \FloatTok{0.0}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    loop foreach local key }\BuiltInTok{map}\NormalTok{.keys(pile)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        local level }\OperatorTok{=}\NormalTok{ pile(key)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        local accum }\OperatorTok{=} \FloatTok{0.0}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        loop foreach local node level(}\StringTok{\textquotesingle{}nodes\textquotesingle{}}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local area }\OperatorTok{=} \FloatTok{2.0} \OperatorTok{*}\NormalTok{ interface.node.area(node)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local norm }\OperatorTok{=}\NormalTok{ zone.face.normal(inter.node.target.zone(node),inter.node.target.face(node))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local xnstress }\OperatorTok{=}\NormalTok{ inter.node.stress.normal(node) }\OperatorTok{*}\NormalTok{ norm}\OperatorTok{{-}\textgreater{}}\NormalTok{x }\OperatorTok{*} \OperatorTok{{-}}\FloatTok{1.0}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            local xsstress }\OperatorTok{=}\NormalTok{ inter.node.stress.shear.x(node)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{            accum }\OperatorTok{=}\NormalTok{ accum }\OperatorTok{+}\NormalTok{ (xnstress }\OperatorTok{+}\NormalTok{ xsstress) }\OperatorTok{*}\NormalTok{  area}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        local xdis }\OperatorTok{=}\NormalTok{ gp.disp.x(level(}\StringTok{\textquotesingle{}gp\textquotesingle{}}\NormalTok{))}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        total }\OperatorTok{=}\NormalTok{ total }\OperatorTok{+}\NormalTok{ accum}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{        table(string(key),xdis) }\OperatorTok{=}\NormalTok{ accum}\OperatorTok{/}\NormalTok{level(}\StringTok{\textquotesingle{}length\textquotesingle{}}\NormalTok{)}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    end\_loop}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{    tot\_reac }\OperatorTok{=}\NormalTok{ total}
\NormalTok{   Def}\OperatorTok{\textgreater{}}\NormalTok{end}
\NormalTok{flac3d}\OperatorTok{\textgreater{}@}\NormalTok{make\_pydata        }\OperatorTok{;}\NormalTok{ Generate p}\OperatorTok{{-}}\NormalTok{y curve calculation data}
\NormalTok{flac3d}\OperatorTok{\textgreater{}@}\NormalTok{output\_structure   }\OperatorTok{;}\NormalTok{ Sanity check of p}\OperatorTok{{-}}\NormalTok{y curve data}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\DecValTok{0}
\NormalTok{Length }\FloatTok{0.29875}
\NormalTok{GP }\DecValTok{68922}
\NormalTok{Nodes }\DecValTok{1} \DecValTok{2} \DecValTok{3} \DecValTok{4} \DecValTok{53} \DecValTok{54} \DecValTok{79} \DecValTok{80} \DecValTok{81} \DecValTok{82} \DecValTok{131} \DecValTok{132} \DecValTok{133} \DecValTok{134} \DecValTok{183} \DecValTok{184} \DecValTok{185} \DecValTok{186} \DecValTok{235} \DecValTok{236} \DecValTok{237} \DecValTok{238} \DecValTok{239} \DecValTok{240} \DecValTok{241} \DecValTok{242}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{0.5975}
\NormalTok{Length }\FloatTok{0.89625}
\NormalTok{GP }\DecValTok{69002}
\NormalTok{Nodes }\DecValTok{5} \DecValTok{6} \DecValTok{7} \DecValTok{8} \DecValTok{9} \DecValTok{10} \DecValTok{11} \DecValTok{12} \DecValTok{55} \DecValTok{56} \DecValTok{57} \DecValTok{58} \DecValTok{83} \DecValTok{84} \DecValTok{85} \DecValTok{86} \DecValTok{87} \DecValTok{88} \DecValTok{89} \DecValTok{90} \DecValTok{135} \DecValTok{136} \DecValTok{137} \DecValTok{138} \DecValTok{139} \DecValTok{140} \DecValTok{141} \DecValTok{142} \DecValTok{187} \DecValTok{188} \DecValTok{189} \DecValTok{190} \DecValTok{191} \DecValTok{192} \DecValTok{193} \DecValTok{194} \DecValTok{243} \DecValTok{244} \DecValTok{245} \DecValTok{246} \DecValTok{247} \DecValTok{248} \DecValTok{249} \DecValTok{250} \DecValTok{251} \DecValTok{252} \DecValTok{253} \DecValTok{254} \DecValTok{255} \DecValTok{256} \DecValTok{257} \DecValTok{258}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{1.7925}
\NormalTok{Length }\FloatTok{1.04562}
\NormalTok{GP }\DecValTok{69162}
\NormalTok{Nodes }\DecValTok{13} \DecValTok{14} \DecValTok{15} \DecValTok{16} \DecValTok{17} \DecValTok{18} \DecValTok{59} \DecValTok{60} \DecValTok{61} \DecValTok{91} \DecValTok{92} \DecValTok{93} \DecValTok{94} \DecValTok{95} \DecValTok{96} \DecValTok{143} \DecValTok{144} \DecValTok{145} \DecValTok{146} \DecValTok{147} \DecValTok{148} \DecValTok{195} \DecValTok{196} \DecValTok{197} \DecValTok{198} \DecValTok{199} \DecValTok{200} \DecValTok{259} \DecValTok{260} \DecValTok{261} \DecValTok{262} \DecValTok{263} \DecValTok{264} \DecValTok{265} \DecValTok{266} \DecValTok{267} \DecValTok{268} \DecValTok{269} \DecValTok{270}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{2.68875}
\NormalTok{Length }\FloatTok{0.89625}
\NormalTok{GP }\DecValTok{69282}
\NormalTok{Nodes }\DecValTok{19} \DecValTok{20} \DecValTok{21} \DecValTok{22} \DecValTok{23} \DecValTok{24} \DecValTok{62} \DecValTok{63} \DecValTok{64} \DecValTok{97} \DecValTok{98} \DecValTok{99} \DecValTok{100} \DecValTok{101} \DecValTok{102} \DecValTok{149} \DecValTok{150} \DecValTok{151} \DecValTok{152} \DecValTok{153} \DecValTok{154} \DecValTok{201} \DecValTok{202} \DecValTok{203} \DecValTok{204} \DecValTok{205} \DecValTok{206} \DecValTok{271} \DecValTok{272} \DecValTok{273} \DecValTok{274} \DecValTok{275} \DecValTok{276} \DecValTok{277} \DecValTok{278} \DecValTok{279} \DecValTok{280} \DecValTok{281} \DecValTok{282}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{3.585}
\NormalTok{Length }\FloatTok{1.04563}
\NormalTok{GP }\DecValTok{69402}
\NormalTok{Nodes }\DecValTok{25} \DecValTok{26} \DecValTok{27} \DecValTok{28} \DecValTok{29} \DecValTok{30} \DecValTok{31} \DecValTok{32} \DecValTok{65} \DecValTok{66} \DecValTok{67} \DecValTok{68} \DecValTok{103} \DecValTok{104} \DecValTok{105} \DecValTok{106} \DecValTok{107} \DecValTok{108} \DecValTok{109} \DecValTok{110} \DecValTok{155} \DecValTok{156} \DecValTok{157} \DecValTok{158} \DecValTok{159} \DecValTok{160} \DecValTok{161} \DecValTok{162} \DecValTok{207} \DecValTok{208} \DecValTok{209} \DecValTok{210} \DecValTok{211} \DecValTok{212} \DecValTok{213} \DecValTok{214} \DecValTok{283} \DecValTok{284} \DecValTok{285} \DecValTok{286} \DecValTok{287} \DecValTok{288} \DecValTok{289} \DecValTok{290} \DecValTok{291} \DecValTok{292} \DecValTok{293} \DecValTok{294} \DecValTok{295} \DecValTok{296} \DecValTok{297} \DecValTok{298}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{4.78}
\NormalTok{Length }\FloatTok{1.04563}
\NormalTok{GP }\DecValTok{69562}
\NormalTok{Nodes }\DecValTok{33} \DecValTok{34} \DecValTok{35} \DecValTok{36} \DecValTok{37} \DecValTok{38} \DecValTok{69} \DecValTok{70} \DecValTok{71} \DecValTok{111} \DecValTok{112} \DecValTok{113} \DecValTok{114} \DecValTok{115} \DecValTok{116} \DecValTok{163} \DecValTok{164} \DecValTok{165} \DecValTok{166} \DecValTok{167} \DecValTok{168} \DecValTok{215} \DecValTok{216} \DecValTok{217} \DecValTok{218} \DecValTok{219} \DecValTok{220} \DecValTok{299} \DecValTok{300} \DecValTok{301} \DecValTok{302} \DecValTok{303} \DecValTok{304} \DecValTok{305} \DecValTok{306} \DecValTok{307} \DecValTok{308} \DecValTok{309} \DecValTok{310}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{5.67625}
\NormalTok{Length }\FloatTok{1.34437}
\NormalTok{GP }\DecValTok{69682}
\NormalTok{Nodes }\DecValTok{39} \DecValTok{40} \DecValTok{41} \DecValTok{42} \DecValTok{43} \DecValTok{44} \DecValTok{72} \DecValTok{73} \DecValTok{74} \DecValTok{117} \DecValTok{118} \DecValTok{119} \DecValTok{120} \DecValTok{121} \DecValTok{122} \DecValTok{169} \DecValTok{170} \DecValTok{171} \DecValTok{172} \DecValTok{173} \DecValTok{174} \DecValTok{221} \DecValTok{222} \DecValTok{223} \DecValTok{224} \DecValTok{225} \DecValTok{226} \DecValTok{311} \DecValTok{312} \DecValTok{313} \DecValTok{314} \DecValTok{315} \DecValTok{316} \DecValTok{317} \DecValTok{318} \DecValTok{319} \DecValTok{320} \DecValTok{321} \DecValTok{322}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{7.46875}
\NormalTok{Length }\FloatTok{1.04563}
\NormalTok{GP }\DecValTok{69922}
\NormalTok{Nodes }\DecValTok{1} \DecValTok{4} \DecValTok{6} \DecValTok{8} \DecValTok{10} \DecValTok{12} \DecValTok{14} \DecValTok{16} \DecValTok{18} \DecValTok{20} \DecValTok{22} \DecValTok{24} \DecValTok{26} \DecValTok{28} \DecValTok{30} \DecValTok{32} \DecValTok{34} \DecValTok{36} \DecValTok{38} \DecValTok{40} \DecValTok{42} \DecValTok{127} \DecValTok{130} \DecValTok{139} \DecValTok{145} \DecValTok{151} \DecValTok{157} \DecValTok{163} \DecValTok{169} \DecValTok{175} \DecValTok{181} \DecValTok{187} \DecValTok{193} \DecValTok{199} \DecValTok{205} \DecValTok{211} \DecValTok{217} \DecValTok{223} \DecValTok{229} \DecValTok{235} \DecValTok{242} \DecValTok{247} \DecValTok{248} \DecValTok{249} \DecValTok{250} \DecValTok{251} \DecValTok{252} \DecValTok{253} \DecValTok{254} \DecValTok{255} \DecValTok{256} \DecValTok{257} \DecValTok{258} \DecValTok{259} \DecValTok{260} \DecValTok{261} \DecValTok{262} \DecValTok{263} \DecValTok{264} \DecValTok{265} \DecValTok{266} \DecValTok{267} \DecValTok{268} \DecValTok{269} \DecValTok{270} \DecValTok{271} \DecValTok{272} \DecValTok{273} \DecValTok{274} \DecValTok{315} \DecValTok{316} \DecValTok{317} \DecValTok{318} \DecValTok{319} \DecValTok{320} \DecValTok{321} \DecValTok{322} \DecValTok{323} \DecValTok{324} \DecValTok{325} \DecValTok{326} \DecValTok{327} \DecValTok{328} \DecValTok{349} \DecValTok{350} \DecValTok{351} \DecValTok{352} \DecValTok{353} \DecValTok{354} \DecValTok{355} \DecValTok{356} \DecValTok{357} \DecValTok{358} \DecValTok{359} \DecValTok{360} \DecValTok{361} \DecValTok{362} \DecValTok{383} \DecValTok{384} \DecValTok{385} \DecValTok{386} \DecValTok{387} \DecValTok{388} \DecValTok{389} \DecValTok{390} \DecValTok{391} \DecValTok{392} \DecValTok{393} \DecValTok{394} \DecValTok{395} \DecValTok{396} \DecValTok{397} \DecValTok{398} \DecValTok{419} \DecValTok{420} \DecValTok{421} \DecValTok{422} \DecValTok{423} \DecValTok{424} \DecValTok{425} \DecValTok{426} \DecValTok{427} \DecValTok{428} \DecValTok{429} \DecValTok{430} \DecValTok{431} \DecValTok{432} \DecValTok{433} \DecValTok{434} \DecValTok{435} \DecValTok{456} \DecValTok{457} \DecValTok{458} \DecValTok{459} \DecValTok{460} \DecValTok{461} \DecValTok{462} \DecValTok{463} \DecValTok{464} \DecValTok{465} \DecValTok{466} \DecValTok{467} \DecValTok{468} \DecValTok{469} \DecValTok{470} \DecValTok{471} \DecValTok{472} \DecValTok{473} \DecValTok{494} \DecValTok{495} \DecValTok{496} \DecValTok{497} \DecValTok{498} \DecValTok{499} \DecValTok{500} \DecValTok{501} \DecValTok{502} \DecValTok{503} \DecValTok{504} \DecValTok{505} \DecValTok{506} \DecValTok{507} \DecValTok{508} \DecValTok{509} \DecValTok{510} \DecValTok{511} \DecValTok{512} \DecValTok{513} \DecValTok{514} \DecValTok{515} \DecValTok{516} \DecValTok{537} \DecValTok{538} \DecValTok{539} \DecValTok{540} \DecValTok{541} \DecValTok{542} \DecValTok{543} \DecValTok{544} \DecValTok{545} \DecValTok{546} \DecValTok{547} \DecValTok{548} \DecValTok{549} \DecValTok{550} \DecValTok{551} \DecValTok{552} \DecValTok{553} \DecValTok{554} \DecValTok{555} \DecValTok{556} \DecValTok{577} \DecValTok{578} \DecValTok{579} \DecValTok{580} \DecValTok{581} \DecValTok{582} \DecValTok{583} \DecValTok{584} \DecValTok{585} \DecValTok{586} \DecValTok{587} \DecValTok{588} \DecValTok{589} \DecValTok{590} \DecValTok{591} \DecValTok{592} \DecValTok{593} \DecValTok{594} \DecValTok{595} \DecValTok{596} \DecValTok{617} \DecValTok{618} \DecValTok{619} \DecValTok{620} \DecValTok{621} \DecValTok{622} \DecValTok{623} \DecValTok{624} \DecValTok{625} \DecValTok{626} \DecValTok{627} \DecValTok{628} \DecValTok{629} \DecValTok{630} \DecValTok{631} \DecValTok{632} \DecValTok{633} \DecValTok{634} \DecValTok{635} \DecValTok{636} \DecValTok{657} \DecValTok{658} \DecValTok{659} \DecValTok{660} \DecValTok{661} \DecValTok{662} \DecValTok{663} \DecValTok{664} \DecValTok{665} \DecValTok{666} \DecValTok{667} \DecValTok{668} \DecValTok{669} \DecValTok{670} \DecValTok{671} \DecValTok{672} \DecValTok{673} \DecValTok{674} \DecValTok{675} \DecValTok{676} \DecValTok{697} \DecValTok{698} \DecValTok{699} \DecValTok{700} \DecValTok{701} \DecValTok{702} \DecValTok{703} \DecValTok{704} \DecValTok{705} \DecValTok{706} \DecValTok{707} \DecValTok{708} \DecValTok{709} \DecValTok{710} \DecValTok{711} \DecValTok{712} \DecValTok{713} \DecValTok{714} \DecValTok{715} \DecValTok{716} \DecValTok{737} \DecValTok{738} \DecValTok{739} \DecValTok{740} \DecValTok{741} \DecValTok{742} \DecValTok{743} \DecValTok{744} \DecValTok{745} \DecValTok{746} \DecValTok{747} \DecValTok{748} \DecValTok{749} \DecValTok{750} \DecValTok{751} \DecValTok{752} \DecValTok{753} \DecValTok{754} \DecValTok{755} \DecValTok{756} \DecValTok{777} \DecValTok{778} \DecValTok{779} \DecValTok{780} \DecValTok{781} \DecValTok{782} \DecValTok{783} \DecValTok{784} \DecValTok{785} \DecValTok{786} \DecValTok{787} \DecValTok{788} \DecValTok{789} \DecValTok{790} \DecValTok{791} \DecValTok{792} \DecValTok{793} \DecValTok{794} \DecValTok{795} \DecValTok{796} \DecValTok{817} \DecValTok{818} \DecValTok{819} \DecValTok{820} \DecValTok{821} \DecValTok{822} \DecValTok{823} \DecValTok{824} \DecValTok{825} \DecValTok{826} \DecValTok{827} \DecValTok{828} \DecValTok{829} \DecValTok{830} \DecValTok{831} \DecValTok{832} \DecValTok{833} \DecValTok{834} \DecValTok{835} \DecValTok{836} \DecValTok{857} \DecValTok{858} \DecValTok{859} \DecValTok{860} \DecValTok{861} \DecValTok{862} \DecValTok{863} \DecValTok{864} \DecValTok{865} \DecValTok{866} \DecValTok{867} \DecValTok{868} \DecValTok{869} \DecValTok{870} \DecValTok{871} \DecValTok{872} \DecValTok{873} \DecValTok{874} \DecValTok{875} \DecValTok{876} \DecValTok{897} \DecValTok{898} \DecValTok{899} \DecValTok{900} \DecValTok{901} \DecValTok{902} \DecValTok{903} \DecValTok{904} \DecValTok{905} \DecValTok{906} \DecValTok{907} \DecValTok{908} \DecValTok{909} \DecValTok{910} \DecValTok{911} \DecValTok{912} \DecValTok{913} \DecValTok{914} \DecValTok{915} \DecValTok{916} \DecValTok{937} \DecValTok{938} \DecValTok{939} \DecValTok{940} \DecValTok{941} \DecValTok{942} \DecValTok{943} \DecValTok{944} \DecValTok{945} \DecValTok{946} \DecValTok{947} \DecValTok{948} \DecValTok{949} \DecValTok{950} \DecValTok{951} \DecValTok{952} \DecValTok{953} \DecValTok{954} \DecValTok{955} \DecValTok{956} \DecValTok{977} \DecValTok{978} \DecValTok{979} \DecValTok{980} \DecValTok{981} \DecValTok{982} \DecValTok{983} \DecValTok{984} \DecValTok{985} \DecValTok{986} \DecValTok{987} \DecValTok{988} \DecValTok{989} \DecValTok{990} \DecValTok{991} \DecValTok{992} \DecValTok{993} \DecValTok{994} \DecValTok{995} \DecValTok{996} \DecValTok{45} \DecValTok{46} \DecValTok{47} \DecValTok{48} \DecValTok{49} \DecValTok{50} \DecValTok{51} \DecValTok{52} \DecValTok{75} \DecValTok{76} \DecValTok{77} \DecValTok{78} \DecValTok{123} \DecValTok{124} \DecValTok{125} \DecValTok{126} \DecValTok{127} \DecValTok{128} \DecValTok{129} \DecValTok{130} \DecValTok{175} \DecValTok{176} \DecValTok{177} \DecValTok{178} \DecValTok{179} \DecValTok{180} \DecValTok{181} \DecValTok{182} \DecValTok{227} \DecValTok{228} \DecValTok{229} \DecValTok{230} \DecValTok{231} \DecValTok{232} \DecValTok{233} \DecValTok{234} \DecValTok{323} \DecValTok{324} \DecValTok{325} \DecValTok{326} \DecValTok{327} \DecValTok{328} \DecValTok{329} \DecValTok{330} \DecValTok{331} \DecValTok{332} \DecValTok{333} \DecValTok{334} \DecValTok{335} \DecValTok{336} \DecValTok{337} \DecValTok{338}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{7.7675}
\NormalTok{Length }\FloatTok{0.5975}
\NormalTok{GP }\DecValTok{69962}
\NormalTok{Nodes }\DecValTok{2} \DecValTok{3} \DecValTok{5} \DecValTok{7} \DecValTok{9} \DecValTok{11} \DecValTok{13} \DecValTok{15} \DecValTok{17} \DecValTok{19} \DecValTok{21} \DecValTok{23} \DecValTok{25} \DecValTok{27} \DecValTok{29} \DecValTok{31} \DecValTok{33} \DecValTok{35} \DecValTok{37} \DecValTok{39} \DecValTok{41} \DecValTok{43} \DecValTok{44} \DecValTok{45} \DecValTok{46} \DecValTok{47} \DecValTok{48} \DecValTok{49} \DecValTok{50} \DecValTok{51} \DecValTok{52} \DecValTok{53} \DecValTok{54} \DecValTok{55} \DecValTok{56} \DecValTok{57} \DecValTok{58} \DecValTok{59} \DecValTok{60} \DecValTok{61} \DecValTok{62} \DecValTok{63} \DecValTok{64} \DecValTok{65} \DecValTok{66} \DecValTok{67} \DecValTok{68} \DecValTok{69} \DecValTok{70} \DecValTok{71} \DecValTok{72} \DecValTok{73} \DecValTok{74} \DecValTok{75} \DecValTok{76} \DecValTok{77} \DecValTok{78} \DecValTok{79} \DecValTok{80} \DecValTok{81} \DecValTok{82} \DecValTok{83} \DecValTok{84} \DecValTok{128} \DecValTok{129} \DecValTok{131} \DecValTok{132} \DecValTok{133} \DecValTok{134} \DecValTok{140} \DecValTok{141} \DecValTok{142} \DecValTok{146} \DecValTok{147} \DecValTok{148} \DecValTok{152} \DecValTok{153} \DecValTok{154} \DecValTok{158} \DecValTok{159} \DecValTok{160} \DecValTok{164} \DecValTok{165} \DecValTok{166} \DecValTok{170} \DecValTok{171} \DecValTok{172} \DecValTok{176} \DecValTok{177} \DecValTok{178} \DecValTok{182} \DecValTok{183} \DecValTok{184} \DecValTok{188} \DecValTok{189} \DecValTok{190} \DecValTok{194} \DecValTok{195} \DecValTok{196} \DecValTok{200} \DecValTok{201} \DecValTok{202} \DecValTok{206} \DecValTok{207} \DecValTok{208} \DecValTok{212} \DecValTok{213} \DecValTok{214} \DecValTok{218} \DecValTok{219} \DecValTok{220} \DecValTok{224} \DecValTok{225} \DecValTok{226} \DecValTok{230} \DecValTok{231} \DecValTok{232} \DecValTok{236} \DecValTok{237} \DecValTok{238} \DecValTok{241} \DecValTok{243} \DecValTok{244}
\NormalTok{Y}\OperatorTok{{-}}\NormalTok{Position }\FloatTok{8.66375}
\NormalTok{Length }\FloatTok{0.448125}
\NormalTok{GP }\DecValTok{70082}
\NormalTok{Nodes }\DecValTok{85} \DecValTok{86} \DecValTok{87} \DecValTok{88} \DecValTok{89} \DecValTok{90} \DecValTok{91} \DecValTok{92} \DecValTok{93} \DecValTok{94} \DecValTok{95} \DecValTok{96} \DecValTok{97} \DecValTok{98} \DecValTok{99} \DecValTok{100} \DecValTok{101} \DecValTok{102} \DecValTok{103} \DecValTok{104} \DecValTok{105} \DecValTok{106} \DecValTok{107} \DecValTok{108} \DecValTok{109} \DecValTok{110} \DecValTok{111} \DecValTok{112} \DecValTok{113} \DecValTok{114} \DecValTok{115} \DecValTok{116} \DecValTok{117} \DecValTok{118} \DecValTok{119} \DecValTok{120} \DecValTok{121} \DecValTok{122} \DecValTok{123} \DecValTok{124} \DecValTok{125} \DecValTok{126} \DecValTok{135} \DecValTok{136} \DecValTok{137} \DecValTok{138} \DecValTok{143} \DecValTok{144} \DecValTok{149} \DecValTok{150} \DecValTok{155} \DecValTok{156} \DecValTok{161} \DecValTok{162} \DecValTok{167} \DecValTok{168} \DecValTok{173} \DecValTok{174} \DecValTok{179} \DecValTok{180} \DecValTok{185} \DecValTok{186} \DecValTok{191} \DecValTok{192} \DecValTok{197} \DecValTok{198} \DecValTok{203} \DecValTok{204} \DecValTok{209} \DecValTok{210} \DecValTok{215} \DecValTok{216} \DecValTok{221} \DecValTok{222} \DecValTok{227} \DecValTok{228} \DecValTok{233} \DecValTok{234} \DecValTok{239} \DecValTok{240} \DecValTok{245} \DecValTok{246} \DecValTok{275} \DecValTok{276} \DecValTok{277} \DecValTok{278} \DecValTok{279} \DecValTok{280} \DecValTok{281} \DecValTok{282} \DecValTok{283} \DecValTok{284} \DecValTok{285} \DecValTok{286} \DecValTok{287} \DecValTok{288} \DecValTok{289} \DecValTok{290} \DecValTok{291} \DecValTok{292} \DecValTok{293} \DecValTok{294} \DecValTok{295} \DecValTok{296} \DecValTok{297} \DecValTok{298} \DecValTok{299} \DecValTok{300} \DecValTok{301} \DecValTok{302} \DecValTok{303} \DecValTok{304} \DecValTok{305} \DecValTok{306} \DecValTok{307} \DecValTok{308} \DecValTok{309} \DecValTok{310} \DecValTok{311} \DecValTok{312} \DecValTok{313} \DecValTok{314} \DecValTok{329} \DecValTok{330} \DecValTok{331} \DecValTok{332} \DecValTok{333} \DecValTok{334} \DecValTok{335} \DecValTok{336} \DecValTok{337} \DecValTok{338} \DecValTok{339} \DecValTok{340} \DecValTok{341} \DecValTok{342} \DecValTok{343} \DecValTok{344} \DecValTok{345} \DecValTok{346} \DecValTok{347} \DecValTok{348} \DecValTok{363} \DecValTok{364} \DecValTok{365} \DecValTok{366} \DecValTok{367} \DecValTok{368} \DecValTok{369} \DecValTok{370} \DecValTok{371} \DecValTok{372} \DecValTok{373} \DecValTok{374} \DecValTok{375} \DecValTok{376} \DecValTok{377} \DecValTok{378} \DecValTok{379} \DecValTok{380} \DecValTok{381} \DecValTok{382} \DecValTok{399} \DecValTok{400} \DecValTok{401} \DecValTok{402} \DecValTok{403} \DecValTok{404} \DecValTok{405} \DecValTok{406} \DecValTok{407} \DecValTok{408} \DecValTok{409} \DecValTok{410} \DecValTok{411} \DecValTok{412} \DecValTok{413} \DecValTok{414} \DecValTok{415} \DecValTok{416} \DecValTok{417} \DecValTok{418} \DecValTok{436} \DecValTok{437} \DecValTok{438} \DecValTok{439} \DecValTok{440} \DecValTok{441} \DecValTok{442} \DecValTok{443} \DecValTok{444} \DecValTok{445} \DecValTok{446} \DecValTok{447} \DecValTok{448} \DecValTok{449} \DecValTok{450} \DecValTok{451} \DecValTok{452} \DecValTok{453} \DecValTok{454} \DecValTok{455} \DecValTok{474} \DecValTok{475} \DecValTok{476} \DecValTok{477} \DecValTok{478} \DecValTok{479} \DecValTok{480} \DecValTok{481} \DecValTok{482} \DecValTok{483} \DecValTok{484} \DecValTok{485} \DecValTok{486} \DecValTok{487} \DecValTok{488} \DecValTok{489} \DecValTok{490} \DecValTok{491} \DecValTok{492} \DecValTok{493} \DecValTok{517} \DecValTok{518} \DecValTok{519} \DecValTok{520} \DecValTok{521} \DecValTok{522} \DecValTok{523} \DecValTok{524} \DecValTok{525} \DecValTok{526} \DecValTok{527} \DecValTok{528} \DecValTok{529} \DecValTok{530} \DecValTok{531} \DecValTok{532} \DecValTok{533} \DecValTok{534} \DecValTok{535} \DecValTok{536} \DecValTok{557} \DecValTok{558} \DecValTok{559} \DecValTok{560} \DecValTok{561} \DecValTok{562} \DecValTok{563} \DecValTok{564} \DecValTok{565} \DecValTok{566} \DecValTok{567} \DecValTok{568} \DecValTok{569} \DecValTok{570} \DecValTok{571} \DecValTok{572} \DecValTok{573} \DecValTok{574} \DecValTok{575} \DecValTok{576} \DecValTok{597} \DecValTok{598} \DecValTok{599} \DecValTok{600} \DecValTok{601} \DecValTok{602} \DecValTok{603} \DecValTok{604} \DecValTok{605} \DecValTok{606} \DecValTok{607} \DecValTok{608} \DecValTok{609} \DecValTok{610} \DecValTok{611} \DecValTok{612} \DecValTok{613} \DecValTok{614} \DecValTok{615} \DecValTok{616} \DecValTok{637} \DecValTok{638} \DecValTok{639} \DecValTok{640} \DecValTok{641} \DecValTok{642} \DecValTok{643} \DecValTok{644} \DecValTok{645} \DecValTok{646} \DecValTok{647} \DecValTok{648} \DecValTok{649} \DecValTok{650} \DecValTok{651} \DecValTok{652} \DecValTok{653} \DecValTok{654} \DecValTok{655} \DecValTok{656} \DecValTok{677} \DecValTok{678} \DecValTok{679} \DecValTok{680} \DecValTok{681} \DecValTok{682} \DecValTok{683} \DecValTok{684} \DecValTok{685} \DecValTok{686} \DecValTok{687} \DecValTok{688} \DecValTok{689} \DecValTok{690} \DecValTok{691} \DecValTok{692} \DecValTok{693} \DecValTok{694} \DecValTok{695} \DecValTok{696} \DecValTok{717} \DecValTok{718} \DecValTok{719} \DecValTok{720} \DecValTok{721} \DecValTok{722} \DecValTok{723} \DecValTok{724} \DecValTok{725} \DecValTok{726} \DecValTok{727} \DecValTok{728} \DecValTok{729} \DecValTok{730} \DecValTok{731} \DecValTok{732} \DecValTok{733} \DecValTok{734} \DecValTok{735} \DecValTok{736} \DecValTok{757} \DecValTok{758} \DecValTok{759} \DecValTok{760} \DecValTok{761} \DecValTok{762} \DecValTok{763} \DecValTok{764} \DecValTok{765} \DecValTok{766} \DecValTok{767} \DecValTok{768} \DecValTok{769} \DecValTok{770} \DecValTok{771} \DecValTok{772} \DecValTok{773} \DecValTok{774} \DecValTok{775} \DecValTok{776} \DecValTok{797} \DecValTok{798} \DecValTok{799} \DecValTok{800} \DecValTok{801} \DecValTok{802} \DecValTok{803} \DecValTok{804} \DecValTok{805} \DecValTok{806} \DecValTok{807} \DecValTok{808} \DecValTok{809} \DecValTok{810} \DecValTok{811} \DecValTok{812} \DecValTok{813} \DecValTok{814} \DecValTok{815} \DecValTok{816} \DecValTok{837} \DecValTok{838} \DecValTok{839} \DecValTok{840} \DecValTok{841} \DecValTok{842} \DecValTok{843} \DecValTok{844} \DecValTok{845} \DecValTok{846} \DecValTok{847} \DecValTok{848} \DecValTok{849} \DecValTok{850} \DecValTok{851} \DecValTok{852} \DecValTok{853} \DecValTok{854} \DecValTok{855} \DecValTok{856} \DecValTok{877} \DecValTok{878} \DecValTok{879} \DecValTok{880} \DecValTok{881} \DecValTok{882} \DecValTok{883} \DecValTok{884} \DecValTok{885} \DecValTok{886} \DecValTok{887} \DecValTok{888} \DecValTok{889} \DecValTok{890} \DecValTok{891} \DecValTok{892} \DecValTok{893} \DecValTok{894} \DecValTok{895} \DecValTok{896} \DecValTok{917} \DecValTok{918} \DecValTok{919} \DecValTok{920} \DecValTok{921} \DecValTok{922} \DecValTok{923} \DecValTok{924} \DecValTok{925} \DecValTok{926} \DecValTok{927} \DecValTok{928} \DecValTok{929} \DecValTok{930} \DecValTok{931} \DecValTok{932} \DecValTok{933} \DecValTok{934} \DecValTok{935} \DecValTok{936} \DecValTok{957} \DecValTok{958} \DecValTok{959} \DecValTok{960} \DecValTok{961} \DecValTok{962} \DecValTok{963} \DecValTok{964} \DecValTok{965} \DecValTok{966} \DecValTok{967} \DecValTok{968} \DecValTok{969} \DecValTok{970} \DecValTok{971} \DecValTok{972} \DecValTok{973} \DecValTok{974} \DecValTok{975} \DecValTok{976} \DecValTok{997} \DecValTok{998} \DecValTok{999} \DecValTok{1000} \DecValTok{1001} \DecValTok{1002} \DecValTok{1003} \DecValTok{1004} \DecValTok{1005} \DecValTok{1006} \DecValTok{1007} \DecValTok{1008} \DecValTok{1009} \DecValTok{1010} \DecValTok{1011} \DecValTok{1012} \DecValTok{1013} \DecValTok{1014} \DecValTok{1015} \DecValTok{1016}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{fish history name }\StringTok{\textquotesingle{}load\textquotesingle{}} \OperatorTok{@}\NormalTok{tot\_reac}
\OperatorTok{{-}{-}{-}}\NormalTok{ Created history load}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model step }\DecValTok{416500}
\NormalTok{    Cycle      Total       Clock}
\OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}} 
   \DecValTok{416500}     \DecValTok{425358} \DecValTok{00}\NormalTok{:}\DecValTok{02}\NormalTok{:}\DecValTok{34}\NormalTok{:}\DecValTok{51} 
   \DecValTok{416500}                        
\OperatorTok{{-}{-}{-}}\NormalTok{ Global cycle limit of }\DecValTok{416500}\NormalTok{ met.}
\OperatorTok{{-}{-}{-}}\NormalTok{ Cycling ended at: }\DecValTok{2021}\OperatorTok{{-}}\DecValTok{09}\OperatorTok{{-}}\DecValTok{20} \DecValTok{19}\NormalTok{:}\DecValTok{34}\NormalTok{:}\DecValTok{50}
\NormalTok{flac3d}\OperatorTok{\textgreater{}}\NormalTok{model save }\StringTok{\textquotesingle{}lateral{-}load\textquotesingle{}}
\OperatorTok{{-}{-}{-}}\NormalTok{ Model saved to }\BuiltInTok{file}\NormalTok{ C:}\OperatorTok{/}\NormalTok{Users}\OperatorTok{/}\NormalTok{kyeongsunkim}\OperatorTok{/}\NormalTok{Desktop}\OperatorTok{/}\NormalTok{FLAC\_WORKING\_DIRECTORY}\OperatorTok{/}\DecValTok{13}\NormalTok{\_KAIST\_vertical\_loading\_0920}\OperatorTok{/}\NormalTok{lateral}\OperatorTok{{-}}\NormalTok{load.f3sav.}
\end{Highlighting}
\end{Shaded}

\newpage

\begin{savequote}
My modelling choices\\
Are founded in logic.\\
Can I convince you?\\
If you look down,\\
Are you surprised to see\\
Only your feet?\\
The train keeps to the tracks\\
But the country around\\
Remains unexplored.\\
The excellent map\\
misses no detail, but it is\\
as large as the world.
\qauthor{Muir Wood(2004)}\end{savequote}

\hypertarget{axial-concrete-pile}{%
\chapter{Axial Concrete Pile}\label{axial-concrete-pile}}

\includegraphics[width=1\linewidth]{myfigureeeeee/h}

\hypertarget{problem-description}{%
\section{Problem Description}\label{problem-description}}

\hypertarget{problem-statement}{%
\subsection{Problem Statement}\label{problem-statement}}

The pile is subjected to an axial load of 100 kN, and then the top of
the pile is moved horizontally for a displacement of 4 cm.

The goal is to determine relation of axial loading to the ultimate
bearing capacity. And, lateral load-deflection curve is calculated.

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\tightlist
\item
  origin at the top of the pile, z upward.
\item
  z=0: free surface
\item
  z=-8: fixed in z-eirection
\item
  x=+8, -8, y = 8: roller
\item
  skin friction is modeled by placing an interface between pile
  concrete wall and clay. In it, fric angle of 20 and c=30kPa are
  assumed.
\item
  toe interface is placed between pile tip and clay \emph{note: Zone faces
  are separated in a previous command so that the gridpoints common to
  both will be separated as well.}\\
  \emph{note: include Figure of grid (geometry)}
\end{enumerate}

\hypertarget{main-parameters}{%
\subsection{Main Parameters}\label{main-parameters}}

Diameter = 0.6 m\\
Length = 5\\
Clay\\
GWT = 5.5m\\

\hypertarget{modeling-procedure}{%
\section{Modeling Procedure}\label{modeling-procedure}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  equil. stress state under gravity load before install.\\
  1-1) water table is created at z=5.5\\
  1-2) wet density of clay is assigned below this water table.\\
\item
  equil. stress state after installation.\\
  2-1) change properties of pile zones from those\\
  representing clay to those representing concrete.\\
  2-2) vertical equil. stress distribution at this equil. state is
  shown in\\
  \emph{note: include Figure of contours of vertical stress at ini state
  incld. pile weight}\\
\item
  apply vertical velocity at top of pile\\
  ``ramp'' = boundary condition is increased linearly\\
  \emph{note: critical timestep is controlled by high stiffness of
  concrete}\\
  If velocity is sudden, inertial effects will dominate and renders
  difficulty to identification of steady state response of system\\
  table ``ramp'' is used to apply velocity to pile top gridpoints.

  \hfill\break
  \emph{note: FISH FUNCTION vert\_load calculates axial stress at the top of
  pile and stores value as a history}\\
  For efficiency, gridpoints on cap surface are stored in symbol ``cap''
  as a map\\
  \emph{note: include plot of axial stress vs axial displ. at pile toe.
  ramp = (0,5e-8), step number = 30000}

  \hfill\break
  \emph{note: combined damping is used to remove kinetic energy for
  prescribed loading condition. This is because mass-adjustment
  process depends on velocity sign-changes..}\\
  \emph{note: FISH FUNCTION tot\_reac monitors soil reaction along pile as a
  func of lateral displ. tot\_reac creates tables of soil reaction (p)
  vs.~lateral displ (y) at diff. locations along pile to generate p-y
  curve.}

  \hfill\break
  \emph{note: include Figure of p-y curve at 11 equidistant points along
  pile}\\
\end{enumerate}

\hypertarget{zones-1}{%
\section{Zones}\label{zones-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{model title }\StringTok{\textquotesingle{}Axial and lateral loading of a concrete pile\textquotesingle{}}
\OperatorTok{;}\NormalTok{ create grid interactively }\ImportTok{from}\NormalTok{ the extruder tool, }
\OperatorTok{;}\NormalTok{ exported to geometry.f3dat }\ImportTok{from}\NormalTok{ State Record pane.}
\NormalTok{call }\StringTok{\textquotesingle{}geometry\textquotesingle{}}\NormalTok{ suppress}
\NormalTok{zone generate }\ImportTok{from}\OperatorTok{{-}}\NormalTok{extruder}
\OperatorTok{;}\NormalTok{ Reflect the grid to get a }\DecValTok{1}\OperatorTok{/}\DecValTok{2}\NormalTok{ space instead of a }\DecValTok{1}\OperatorTok{/}\DecValTok{4}\NormalTok{ space}
\NormalTok{zone reflect dip}\OperatorTok{{-}}\NormalTok{direction }\DecValTok{270}\NormalTok{ dip }\DecValTok{90}
\end{Highlighting}
\end{Shaded}

\hypertarget{groups}{%
\section{Groups}\label{groups}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Name intersections of things named }\KeywordTok{in}\NormalTok{ the two extruder views}
\NormalTok{zone group }\StringTok{\textquotesingle{}clay\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}clay{-}c\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}clay{-}s\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}wetclay{-}s\textquotesingle{}}
\NormalTok{zone group }\StringTok{\textquotesingle{}pile\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}pile{-}c\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}pile{-}s\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}remove{-}s\textquotesingle{}}
\NormalTok{zone group }\StringTok{\textquotesingle{}remove\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}remove{-}s\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}pile{-}c\textquotesingle{}} \KeywordTok{not} \OperatorTok{;} 
\NormalTok{zone face group }\StringTok{\textquotesingle{}wall\textquotesingle{}}\NormalTok{ internal }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall{-}c\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{zone face group }\StringTok{\textquotesingle{}base\textquotesingle{}}\NormalTok{ internal }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}base{-}s\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{zone face skin }\OperatorTok{;}\NormalTok{ Name far field boundaries}
\OperatorTok{;}\NormalTok{ Delete the area marked }\ControlFlowTok{for}\NormalTok{ removal}
\NormalTok{zone delete }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}remove\textquotesingle{}}
\OperatorTok{;}
\OperatorTok{;}\NormalTok{ setup interfaces}
\OperatorTok{;}\NormalTok{ separate using zone separate}
\OperatorTok{;} \BuiltInTok{all}\NormalTok{ at once so common nodes are separated}
\NormalTok{zone separate by}\OperatorTok{{-}}\NormalTok{face new}\OperatorTok{{-}}\NormalTok{side group }\StringTok{\textquotesingle{}iwall\textquotesingle{}}\NormalTok{ slot }\StringTok{\textquotesingle{}int\textquotesingle{}}\NormalTok{ ...}
     \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}base\textquotesingle{}}
\OperatorTok{;}\NormalTok{ Want two different interfaces }\ControlFlowTok{for}\NormalTok{ proper normal direction at corner}
\NormalTok{zone interface }\StringTok{\textquotesingle{}side\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall\textquotesingle{}} \KeywordTok{and} \StringTok{\textquotesingle{}iwall\textquotesingle{}}
\NormalTok{zone interface }\StringTok{\textquotesingle{}base\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}base\textquotesingle{}} \KeywordTok{and} \StringTok{\textquotesingle{}iwall\textquotesingle{}}
\OperatorTok{;}\NormalTok{ Save initial geometric state}
\NormalTok{model save }\StringTok{\textquotesingle{}geometry\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{properties}{%
\section{Properties}\label{properties}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Initialize gravity, pore}\OperatorTok{{-}}\NormalTok{pressures, density, }\KeywordTok{and}\NormalTok{ stres state}
\NormalTok{model gravity }\DecValTok{10}
\OperatorTok{;}\NormalTok{ water table information}
\NormalTok{zone water density }\DecValTok{1000}
\NormalTok{zone water plane origin (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\OperatorTok{{-}}\FloatTok{5.5}\NormalTok{) normal (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)}
\NormalTok{zone initialize density }\DecValTok{1230}
\NormalTok{zone initialize density }\DecValTok{1550} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wetclay{-}s\textquotesingle{}} \OperatorTok{;}\NormalTok{ Wet density}
\OperatorTok{;}\NormalTok{ assign properties to the soil }\KeywordTok{and}\NormalTok{ interfaces }\OperatorTok{{-}}\NormalTok{ temporarily remove pile cap}
\NormalTok{zone cmodel assign mohr}\OperatorTok{{-}}\NormalTok{coulomb ...}
     \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}clay\textquotesingle{}}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{8.333e7}\NormalTok{  shear }\FloatTok{3.846e7}\NormalTok{  cohesion }\DecValTok{30000}\NormalTok{ fric }\DecValTok{0}\NormalTok{ ...}
     \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}clay\textquotesingle{}}
\NormalTok{zone cmodel assign elastic                 }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{8.333e7}\NormalTok{  shear }\FloatTok{3.846e7}  \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{zone cmodel assign null                    }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}remove{-}s\textquotesingle{}}
\NormalTok{zone interface }\StringTok{\textquotesingle{}side\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1e8}\NormalTok{ ...}
\NormalTok{                           stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1e8}\NormalTok{ friction }\DecValTok{20}\NormalTok{ cohesion }\DecValTok{30000}
\NormalTok{zone interface }\StringTok{\textquotesingle{}base\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1e8}\NormalTok{ ...}
\NormalTok{                           stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1e8}\NormalTok{ friction }\DecValTok{20}\NormalTok{ cohesion }\DecValTok{30000}
\end{Highlighting}
\end{Shaded}

\hypertarget{b.c.-and-i.c.}{%
\section{B.C. and I.C.}\label{b.c.-and-i.c.}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ boundary }\KeywordTok{and}\NormalTok{ initial stress conditions}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Bottom\textquotesingle{}}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}East\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}West\textquotesingle{}}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}North\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}South\textquotesingle{}}
\NormalTok{zone initialize}\OperatorTok{{-}}\NormalTok{stress ratio }\FloatTok{0.4286}
\NormalTok{zone interface }\StringTok{\textquotesingle{}side\textquotesingle{}}\NormalTok{ node initialize}\OperatorTok{{-}}\NormalTok{stresses}
\NormalTok{zone interface }\StringTok{\textquotesingle{}base\textquotesingle{}}\NormalTok{ node initialize}\OperatorTok{{-}}\NormalTok{stresses}
\end{Highlighting}
\end{Shaded}

\hypertarget{initial-equilibrium-1}{%
\section{Initial Equilibrium}\label{initial-equilibrium-1}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Solve to initial equilibrium}
\NormalTok{zone ratio local}
\NormalTok{model solve ratio }\FloatTok{1e{-}4}
\NormalTok{model save }\StringTok{\textquotesingle{}initial\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{alterations}{%
\section{Alterations}\label{alterations}}

\hypertarget{install-the-pile}{%
\subsection{install the pile}\label{install-the-pile}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ install the pile}
\NormalTok{model restore }\StringTok{\textquotesingle{}initial\textquotesingle{}}
\NormalTok{zone cmodel assign elastic                          }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{13.9e9}\NormalTok{ shear }\FloatTok{10.4e9}\NormalTok{ density }\DecValTok{2500} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\NormalTok{model solve ratio }\FloatTok{1e{-}4}
\NormalTok{model save }\StringTok{\textquotesingle{}install\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{vertical-loading-1}{%
\subsection{vertical loading}\label{vertical-loading-1}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ vertical loading}
\NormalTok{zone initialize state }\DecValTok{0}
\NormalTok{zone gridpoint initialize displacement (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone gridpoint initialize velocity     (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) }
\NormalTok{table }\StringTok{\textquotesingle{}ramp\textquotesingle{}}\NormalTok{ add ([}\KeywordTok{global}\NormalTok{.step],}\DecValTok{0}\NormalTok{) ([}\KeywordTok{global}\NormalTok{.step}\OperatorTok{+}\DecValTok{30000}\NormalTok{],}\OperatorTok{{-}}\FloatTok{5e{-}8}\NormalTok{) ...}
\NormalTok{      ([}\KeywordTok{global}\NormalTok{.step}\OperatorTok{+}\DecValTok{58000}\NormalTok{],}\OperatorTok{{-}}\FloatTok{5e{-}8}\NormalTok{) }\OperatorTok{;}\NormalTok{ Increase velocity applied to pile}
                                  \OperatorTok{;}\NormalTok{ over }\DecValTok{30}\NormalTok{,}\DecValTok{000}\NormalTok{ steps}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{1}\NormalTok{ table }\StringTok{\textquotesingle{}ramp\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{history interval }\DecValTok{250}
\NormalTok{zone history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{call }\StringTok{\textquotesingle{}load\textquotesingle{}}
\NormalTok{fish history name }\StringTok{\textquotesingle{}load\textquotesingle{}} \OperatorTok{@}\NormalTok{vert\_load}
\NormalTok{zone mechanical damping combined}
\NormalTok{model step }\DecValTok{58000}
\NormalTok{model save }\StringTok{\textquotesingle{}vertical{-}loading\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{vertical-then-lateral-loading}{%
\subsection{vertical then lateral loading}\label{vertical-then-lateral-loading}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ vertical loading then lateral loading}
\NormalTok{model restore }\StringTok{\textquotesingle{}install\textquotesingle{}}
\NormalTok{zone initialize state }\DecValTok{0}
\NormalTok{zone gridpoint initialize displacement (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone gridpoint initialize velocity     (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) }
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{zz [}\OperatorTok{{-}}\FloatTok{1.0e5}\OperatorTok{/}\NormalTok{(math.pi}\OperatorTok{*}\FloatTok{0.3}\OperatorTok{*}\FloatTok{0.3}\NormalTok{)] }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{model solve ratio }\FloatTok{1e{-}4}
\NormalTok{model save }\StringTok{\textquotesingle{}lateral{-}load{-}start\textquotesingle{}}

\OperatorTok{;} \BuiltInTok{apply}\NormalTok{ lateral loading }\ImportTok{as}\NormalTok{ x}\OperatorTok{{-}}\NormalTok{velocity on cap}
\NormalTok{zone initialize state }\DecValTok{0}
\NormalTok{zone gridpoint initialize displacement (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone gridpoint initialize velocity     (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) }
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}7} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{zone history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{x position }\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}
\NormalTok{call }\StringTok{\textquotesingle{}p{-}y\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ Calculates p}\OperatorTok{{-}}\NormalTok{y curve }\ControlFlowTok{for}\NormalTok{ pile, when tot\_reac }\KeywordTok{is}\NormalTok{ called}
\AttributeTok{@make\_pydata}        \OperatorTok{;}\NormalTok{ Generate p}\OperatorTok{{-}}\NormalTok{y curve calculation data }
\AttributeTok{@output\_structure}   \OperatorTok{;}\NormalTok{ Sanity check of p}\OperatorTok{{-}}\NormalTok{y curve data }
\NormalTok{fish history name }\StringTok{\textquotesingle{}load\textquotesingle{}} \OperatorTok{@}\NormalTok{tot\_reac}
\NormalTok{model step }\DecValTok{416500}
\NormalTok{model save }\StringTok{\textquotesingle{}lateral{-}load\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=1\linewidth]{myfigureeeeee/i}

\newpage

\begin{savequote}
In spite of their obvious deficiencies and unreliability, pile driving
formulas still enjoy great popularity among practicing engineers,
because the use of these formulas reduces the design of pile foundations
to a very simple procedure. The price one pays for this artificial
simplification is very high.
\qauthor{Karl Terzaghi(1943)}\end{savequote}

\hypertarget{pull-tests}{%
\chapter{Pull-Tests}\label{pull-tests}}

\includegraphics[width=1\linewidth]{myfigureeeeee/j}

\hypertarget{problem-description-1}{%
\section{Problem Description}\label{problem-description-1}}

\emph{note: FISH function force is used to sum the reaction forces and
monitor nodal displacement generated by the pull-test}

\hfill\break
\emph{note: free length of bolt that extends out of block + larger diameter}\\
Perfectly plastic behavior of grout = max cohesion is exceeded
+post-peak weakening of shear bond strength

\hfill\break
\emph{note: bond strength softening of the grout is defined with keyword
coupling-cohesion-table (see Rockbolt Behavior)}

\hfill\break
The relation btw shear disp. and cohesion weakening is prescribed thru
table cct. softening of friction of grout canbe defined using keyword
coupling-friction-table.\\

\hypertarget{zones-2}{%
\section{Zones}\label{zones-2}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;} \OperatorTok{==================================================================}
\OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
\OperatorTok{;}\NormalTok{   using modified pile elements }\OperatorTok{{-}}\NormalTok{ Softening of cohesion}
\OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{model new }
\NormalTok{fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{model title }\StringTok{\textquotesingle{}Pull{-}test using modified pile elements {-} cohesion softening\textquotesingle{}}
\OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                             point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{properties-1}{%
\section{Properties}\label{properties-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone cmodel assign elastic}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
\OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                     perimeter }\FloatTok{0.08}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                     coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                     coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
\OperatorTok{;}\NormalTok{ rel btw shear displ }\KeywordTok{and}\NormalTok{ coh weakening }\KeywordTok{is}\NormalTok{ prescribed thru table cct}
\NormalTok{struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{table }\StringTok{\textquotesingle{}cct\textquotesingle{}}
\OperatorTok{;}\NormalTok{ change }\KeywordTok{in}\NormalTok{ cohesion }\ControlFlowTok{with}\NormalTok{ relative shear displacement}
\NormalTok{table }\StringTok{\textquotesingle{}cct\textquotesingle{}}\NormalTok{ add (}\DecValTok{0}\NormalTok{,}\FloatTok{1.75e5}\NormalTok{) (}\FloatTok{0.025}\NormalTok{,}\FloatTok{1.75e4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{initial-equilibrium-2}{%
\section{Initial Equilibrium}\label{initial-equilibrium-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
\end{Highlighting}
\end{Shaded}

\hypertarget{alterations-1}{%
\section{Alterations}\label{alterations-1}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{history interval }\DecValTok{10}
\NormalTok{fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
\OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{4.0}\NormalTok{ cm}
\NormalTok{model cycle }\DecValTok{40000}
\OperatorTok{;}
\NormalTok{model save }\StringTok{\textquotesingle{}pull{-}5\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{some-other-notes}{%
\section{Some other notes}\label{some-other-notes}}

2.3. pull test with confinement ``Pulltest06.f3dat'' +modified pile
logic.(see Behavior of Shear Coupling Springs) linear law is
implemented.whereby reinforcement shear strength is defined as constant

Confining stress of 4 MN/m2 = 4MPa

As described in Behavior of Shear Coupling Springs a linear law is
implemented in the modified
pile logic, whereby the reinforcement shear strength is defined as a
constant
(coupling-cohesion-shear) plus the effective pressure
on the reinforcement multiplied by the reinforcement perimeter
(perimeter) times a friction angle (coupling-friction-shear). This
pressure dependence is
activated automatically in FLAC3D by issuing the
reinforcement properties (perimeter) and (coupling-friction-shear).

\hfill\break
\emph{(coupling-cohesion-shear)+ effective pressure}perimeter\emph{fric
angle(coupling-friction-shear)}\\
This pressure dependence is activated automatically by issuing
reinforcement properties(perimeter) and\\

2.5. pull test with tensile rupture ``Pulltest08.f3dat'' \emph{note:
tensile-yield, tensile-failure-strain: for limiting axial yield force
and limiting axial strain for rockbolt}

\hypertarget{grid}{%
\chapter{Grid}\label{grid}}

\hypertarget{primitive-shapes}{%
\section{Primitive Shapes}\label{primitive-shapes}}

\includegraphics[width=1\linewidth]{myfigureeeeee/example-FLAC3D-Model}

\begin{quote}
\emph{note: zone create generates primitive grid}
\emph{note: zone gridpoint create puts gridpoints at specific locations}
\emph{note: zone gridpoint merge ensures separate primitives are connected properly}
\emph{note: zone attach connects primitive meshes of different zone sizes.}
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone create radial}\OperatorTok{{-}}\NormalTok{cylinder size }\DecValTok{5} \DecValTok{10} \DecValTok{6} \DecValTok{12}\NormalTok{ fill}
\NormalTok{zone create radial}\OperatorTok{{-}}\NormalTok{cylinder size }\DecValTok{5} \DecValTok{10} \DecValTok{6} \DecValTok{12}\NormalTok{ ratio }\DecValTok{1} \DecValTok{1} \DecValTok{1} \DecValTok{5}
\NormalTok{each size }\KeywordTok{is}\NormalTok{ controlled by a ratio (geometric ratio of }\FloatTok{1.2}\NormalTok{ times preceding zone)}
\end{Highlighting}
\end{Shaded}

\begin{quote}
ex) 5 along inner radius of cylindrical tunnel,\\
10 along axis\\
6 along circumference of tunnel\\
12 between periphery of tunnel and outer boundary of model\\
\emph{note: size keyword defines the number of zones in the grid.}
\end{quote}

keywords for zone create:\\
- dimension - edge - fill - point (boundary dimensions) - ratio (coarser
toward edge) - size

\hypertarget{several-primitive-shapes-connected}{%
\section{several primitive shapes connected:}\label{several-primitive-shapes-connected}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone create radial}\OperatorTok{{-}}\NormalTok{cylinder size }\DecValTok{5} \DecValTok{10} \DecValTok{6} \DecValTok{12}\NormalTok{ rat }\DecValTok{1} \DecValTok{1} \DecValTok{1} \FloatTok{1.2}\NormalTok{ ...}
\NormalTok{                           point }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{1}\NormalTok{ (}\DecValTok{100}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                           point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{200}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{100}\NormalTok{)}
\NormalTok{zone create radial}\OperatorTok{{-}}\NormalTok{tunnel size }\DecValTok{5} \DecValTok{10} \DecValTok{5} \DecValTok{12}\NormalTok{ rat }\DecValTok{1} \DecValTok{1} \DecValTok{1} \FloatTok{1.2}\NormalTok{ ...}
\NormalTok{                          point }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{1}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\OperatorTok{{-}}\DecValTok{100}\NormalTok{) ...}
\NormalTok{                          point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{200}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{3}\NormalTok{ (}\DecValTok{100}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\OperatorTok{;}\NormalTok{ here, model boundary dimensions are }\DecValTok{100}\NormalTok{, }\DecValTok{200}\NormalTok{, }\DecValTok{100}
\OperatorTok{;}\NormalTok{ boundary coord are defined using point keyword}

\NormalTok{zone reflect dip }\DecValTok{90}\NormalTok{ dip}\OperatorTok{{-}}\NormalTok{direction }\DecValTok{270}\NormalTok{ origin (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

This adds symmetric part.

\begin{quote}
\emph{note: The symmetry plane is a vertical plane (located by the dip,dip-direction, and origin keywords) coincident with the x = 0 plane.}
\emph{Note that dip angle (dip) and dip direction (dip-direction)}
\emph{assume thatx corresponds to ``East,'' y to ``North'', and z to ``Up.''}
\end{quote}

third option, the zone gridpoint create command, is available to
position single points in the model region.

\hfill\break
\textgreater{} \emph{note: zone gridpoint create is used for positioning reference points ofprimitives}\\

During execution of a zone create command, a check is made for each
boundary gridpoint against the boundary gridpoints of zones that already
exist.

\hfill\break
If two boundary gridpoints fall within a tolerance of 1 10-7 (relative to the magnitude of the gridpoints position vector) of each other, they are assumed to be the same point,

\hfill\break
If it is discovered that some gridpoints don't match, the zone gridpoint merge command can be used to merge these gridpoints after the zone create command has been applied.\\

\begin{quote}
Example: (zone attach) - Two unequal sub-grids
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{2}\NormalTok{ point }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{1}\NormalTok{ (}\DecValTok{4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                             point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\NormalTok{zone create brick size }\DecValTok{8} \DecValTok{8} \DecValTok{4}\NormalTok{ point }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{) point }\DecValTok{1}\NormalTok{ (}\DecValTok{4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{) ...}
\NormalTok{                             point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{) point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{4}\NormalTok{)}
\NormalTok{zone attach by}\OperatorTok{{-}}\NormalTok{face }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{quote}
Example: (zone densify)
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{4}
\NormalTok{zone densify segments }\DecValTok{2} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{2} \DecValTok{4}
\end{Highlighting}
\end{Shaded}

\begin{quote}
the first two command lines can be changed to where zone densify
segments 2 refines the upper zones (between the z-coordinate of 2 and 4) with the segment number of 2 on each edge.
\end{quote}

\hypertarget{structural-element-operation}{%
\section{Structural Element Operation}\label{structural-element-operation}}

Creating a liner in the service tunnel

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ liner}
\NormalTok{structure shell create by}\OperatorTok{{-}}\NormalTok{face }\BuiltInTok{range}\NormalTok{ cylinder ...}
\NormalTok{                                     end}\OperatorTok{{-}}\DecValTok{1}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{) end}\OperatorTok{{-}}\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{50}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{) ...}
\NormalTok{                                     radius }\DecValTok{3}
\end{Highlighting}
\end{Shaded}

The liner contains 240 structural shell elements and is connected to the FLAC3D grid at 143 structural-node links. The grid with the liner is shown below.

\hypertarget{densifying-grid-by-specifying-max-size-length}{%
\section{Densifying grid by specifying max size length}\label{densifying-grid-by-specifying-max-size-length}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{4}
\NormalTok{plot }\StringTok{\textquotesingle{}Brick\textquotesingle{}}\NormalTok{ export bitmap filename }\StringTok{\textquotesingle{}densify3.png\textquotesingle{}}
\OperatorTok{;}
\NormalTok{zone densify local maximum}\OperatorTok{{-}}\NormalTok{length (}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.4}\NormalTok{) }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{2} \DecValTok{4}
\NormalTok{zone attach by}\OperatorTok{{-}}\NormalTok{face}
\OperatorTok{;}
\NormalTok{plot }\StringTok{\textquotesingle{}Brick\textquotesingle{}}\NormalTok{ export bitmap filename }\StringTok{\textquotesingle{}densify4.png\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{quote}
\emph{note that in the local z-direction, the maximum size length is 0.4. FLAC3D densifies the maximum length in this direction to be 1/3 (= 0.4)}
\end{quote}

The zone attach by-face command in this example is used to attach faces of sub-grids together rigidly to form a single grid.

Always use the zone attach by-face command after the zone densify
command if there are different numbers of gridpoints along faces of
different zones.

\hypertarget{densify-a-grid-using-geometric-information}{%
\subsection{Densify a grid using geometric information}\label{densify-a-grid-using-geometric-information}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{zone create brick size }\DecValTok{10} \DecValTok{10} \DecValTok{10}
\OperatorTok{;}
\NormalTok{geometry }\BuiltInTok{set} \StringTok{"setA"}\NormalTok{ polygon create ...}
\NormalTok{                    by}\OperatorTok{{-}}\NormalTok{positions (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{) ( }\DecValTok{5}\NormalTok{,}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{) ( }\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{, }\DecValTok{1}\NormalTok{) (}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\NormalTok{geometry }\BuiltInTok{set} \StringTok{"setA"}\NormalTok{ polygon create ...}
\NormalTok{                    by}\OperatorTok{{-}}\NormalTok{positions (}\DecValTok{5}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{) (}\DecValTok{10}\NormalTok{,}\DecValTok{0}\NormalTok{, }\DecValTok{5}\NormalTok{) (}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{) (}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\NormalTok{geometry }\BuiltInTok{set} \StringTok{"setB"}\NormalTok{ polygon create ...}
\NormalTok{                    by}\OperatorTok{{-}}\NormalTok{positions (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{) ( }\DecValTok{5}\NormalTok{,}\DecValTok{0}\NormalTok{, }\DecValTok{5}\NormalTok{) ( }\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{) (}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\NormalTok{geometry }\BuiltInTok{set} \StringTok{"setB"}\NormalTok{ polygon create ...}
\NormalTok{                    by}\OperatorTok{{-}}\NormalTok{positions (}\DecValTok{5}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{) (}\DecValTok{10}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{) (}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{) (}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\NormalTok{plot }\StringTok{\textquotesingle{}Brick2\textquotesingle{}}\NormalTok{ export bitmap filename }\StringTok{\textquotesingle{}densify5.png\textquotesingle{}}

\NormalTok{zone densify segments }\DecValTok{2} \BuiltInTok{range}\NormalTok{ geometry}\OperatorTok{{-}}\NormalTok{space }\StringTok{"setA"} \BuiltInTok{set} \StringTok{"setB"}\NormalTok{ count }\DecValTok{1}
\NormalTok{zone attach by}\OperatorTok{{-}}\NormalTok{face}
\OperatorTok{;}
\NormalTok{plot }\StringTok{\textquotesingle{}Brick2\textquotesingle{}}\NormalTok{ export bitmap filename }\StringTok{\textquotesingle{}densify6.png\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\newpage

\hypertarget{syntax-and-grammar}{%
\chapter{Syntax and Grammar}\label{syntax-and-grammar}}

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itasca }\ImportTok{as}\NormalTok{ it}
\NormalTok{it.command(}\StringTok{"python{-}reset{-}state false"}\NormalTok{)}
\NormalTok{it.command(}\StringTok{"""}
\StringTok{model new}
\StringTok{zone create brick size 10 10 10}
\StringTok{zone cmodel assign elastic}
\StringTok{zone property density 2950 young 12e9 poisson 0.25}
\StringTok{cycle 1}
\StringTok{"""}\NormalTok{)}
\NormalTok{it.zone.count()}
\NormalTok{z}\OperatorTok{=}\NormalTok{it.zone.find(}\DecValTok{1}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ z}
\NormalTok{z.pos()}
\NormalTok{volume\_sum }\OperatorTok{=} \FloatTok{0.0}
\ControlFlowTok{for}\NormalTok{ z }\KeywordTok{in}\NormalTok{ it.zone.}\BuiltInTok{list}\NormalTok{():}
\NormalTok{  volume\_sum }\OperatorTok{+=}\NormalTok{ z.vol()}

\BuiltInTok{print}\NormalTok{ volume\_sum}
\BuiltInTok{print}\NormalTok{ z.vol() }\OperatorTok{*}\NormalTok{ it.zone.count()}
\ControlFlowTok{assert}\NormalTok{ volume\_sum }\OperatorTok{==}\NormalTok{ z.vol() }\OperatorTok{*}\NormalTok{ it.zone.count()}

\NormalTok{z }\OperatorTok{=}\NormalTok{ it.zone.near ((}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\NormalTok{z.pos()}
\end{Highlighting}
\end{Shaded}

\hypertarget{zones-3}{%
\section{Zones}\label{zones-3}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{it.zone.count() }\CommentTok{\# 1000}
\NormalTok{z }\OperatorTok{=}\NormalTok{ it.zone.find(}\DecValTok{1}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ z }\KeywordTok{in}\NormalTok{ it.zone.}\BuiltInTok{list}\NormalTok{():}
\NormalTok{  z }\OperatorTok{=}\NormalTok{ it.zone.near((}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\NormalTok{z.pos()}
\NormalTok{z.vol()}
\end{Highlighting}
\end{Shaded}

\hypertarget{properties-2}{%
\section{Properties}\label{properties-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z.props() }\KeywordTok{or}\NormalTok{ z.props()[}\StringTok{\textquotesingle{}bulk\textquotesingle{}}\NormalTok{]}
\NormalTok{z.prop(}\StringTok{\textquotesingle{}shear\textquotesingle{}}\NormalTok{)}
\NormalTok{z.set\_prop(}\StringTok{\textquotesingle{}bulk\textquotesingle{}}\NormalTok{, }\FloatTok{8.5e9}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{gridpoints}{%
\section{Gridpoints}\label{gridpoints}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gp }\OperatorTok{=}\NormalTok{ it.gridpoint.near((}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\ControlFlowTok{for}\NormalTok{ gp }\KeywordTok{in}\NormalTok{ it.gridpoint.}\BuiltInTok{list}\NormalTok{():}
\NormalTok{  total\_mass }\OperatorTok{=}\NormalTok{ gp.mass\_gravity()}
\NormalTok{z.vol()}\OperatorTok{*}\NormalTok{z.density()}\OperatorTok{*}\DecValTok{1000}
\end{Highlighting}
\end{Shaded}

\hypertarget{structural-elements}{%
\section{Structural Elements}\label{structural-elements}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{it.structure.}\BuiltInTok{list}\NormalTok{()}
\NormalTok{it.structure.find(}\DecValTok{1}\NormalTok{)}
\NormalTok{it.structure.near((}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\NormalTok{it.structure.node.find(}\DecValTok{1}\NormalTok{)}
\NormalTok{s\_node.links()[}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\hypertarget{extra-variables}{%
\section{Extra Variables}\label{extra-variables}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z.set\_extra(}\DecValTok{1}\NormalTok{, }\FloatTok{1.23}\NormalTok{)}
\NormalTok{z.set\_extra(}\DecValTok{2}\NormalTok{, }\StringTok{"a test string"}\NormalTok{)}
\NormalTok{z.set\_extra(}\DecValTok{1}\NormalTok{, gp.pos())}
\end{Highlighting}
\end{Shaded}

\hypertarget{groups-and-b.c.}{%
\section{Groups and B.C.}\label{groups-and-b.c.}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if}\NormalTok{ z.group(}\StringTok{"default"}\NormalTok{) }\OperatorTok{==} \StringTok{"lower"}\NormalTok{:}
\NormalTok{  gp.set\_fix(}\DecValTok{0}\NormalTok{, }\VariableTok{True}\NormalTok{)}
\NormalTok{  gp.set\_fix(}\DecValTok{1}\NormalTok{, }\VariableTok{True}\NormalTok{)}
\NormalTok{  gp.set\_force\_load((}\FloatTok{1e6}\NormalTok{,}\FloatTok{2e6}\NormalTok{,}\FloatTok{1e6}\NormalTok{))}
\NormalTok{it.zone.near((}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{)).stress()}
\NormalTok{it.zone.near((}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{)).strain()}
\CommentTok{"""}
\end{Highlighting}
\end{Shaded}

\hypertarget{parameteric-studies}{%
\section{Parameteric Studies}\label{parameteric-studies}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{"*note: for modulus in [6e9, 8e9, 10e9, 12e9]:"}
\NormalTok{it.command(}\StringTok{"""}
\StringTok{model restore \textquotesingle{}before\_cycling\textquotesingle{}}
\StringTok{zone prop young }\SpecialCharTok{\{\}}
\StringTok{model solve}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(modulus))}
\NormalTok{vertical\_disp }\OperatorTok{=}\NormalTok{ it.gridpoint.near((}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)).disp\_z()}
\BuiltInTok{print} \StringTok{"\textasciitilde{}\textasciitilde{}\textasciitilde{}"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(modulus,vertical\_disp)}
\end{Highlighting}
\end{Shaded}

\hypertarget{results-1}{%
\section{Results}\label{results-1}}

As discussed in Reaching Equilibrium, we recommend you use the convergence 1.0 limit criteria when using the model solve command

Initially solving to a convergence of 100 or more and then examining the response is good practice. Making isosurface plots of convergence to see where the model is having trouble can give insight into where model adjustments in the interest of efficiency are best placed.

In order to determine a collapse load, it is often better to use
``strain-controlled'' rather than ``stress-controlled'' boundary conditions (i.e., apply a constant velocity and measure the reaction forces, rather than apply forces and measure displacements).

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Solve}
\NormalTok{model solve convergence }\DecValTok{1}
\NormalTok{model factor}\OperatorTok{{-}}\NormalTok{of}\OperatorTok{{-}}\NormalTok{safety }\BuiltInTok{file} \StringTok{\textquotesingle{}slope3dfos\textquotesingle{}}\NormalTok{ associated convergence }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\hypertarget{measuring-time-of-calculation}{%
\subsection{Measuring time of calculation}\label{measuring-time-of-calculation}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[}\KeywordTok{global}\NormalTok{ start }\OperatorTok{=}\NormalTok{ time.clock]}
\NormalTok{model step }\DecValTok{100}
\NormalTok{[}\KeywordTok{global}\NormalTok{ rate }\OperatorTok{=} \DecValTok{10} \OperatorTok{*}\NormalTok{ zone.num }\OperatorTok{/}\NormalTok{ (time.clock}\OperatorTok{{-}}\NormalTok{start) ]}
\NormalTok{[io.out(}\StringTok{\textquotesingle{}Calculation rate = \textquotesingle{}}\OperatorTok{+}\NormalTok{string(rate)}\OperatorTok{+}\StringTok{\textquotesingle{} kilo{-}zones/sec\textquotesingle{}}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\hypertarget{setting-fish-variables}{%
\section{Setting FISH variables}\label{setting-fish-variables}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itasca }\ImportTok{as}\NormalTok{ it}
\NormalTok{it.command(}\StringTok{\textquotesingle{}python{-}reset{-}state false\textquotesingle{}}\NormalTok{)}
\NormalTok{it.fish.}\BuiltInTok{set}\NormalTok{(}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, }\DecValTok{10}\NormalTok{)}
\NormalTok{x }\OperatorTok{=}\NormalTok{ it.fish.get(}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{) yields }\DecValTok{10}
\end{Highlighting}
\end{Shaded}

\hypertarget{issuing-command}{%
\subsection{Issuing Command}\label{issuing-command}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itasca }\ImportTok{as}\NormalTok{ it}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\NormalTok{data }\OperatorTok{=}\NormalTok{ np.loadtext(}\StringTok{\textquotesingle{}brick{-}data.txt\textquotesingle{}}\NormalTok{)}
\NormalTok{command\_template }\OperatorTok{=} \OperatorTok{;;;} 
\NormalTok{zone create brick}
\NormalTok{zone cmodel assign elastic}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ density \{density\} young \{young\} poisson \{poisson\}}
\OperatorTok{;;;}
\NormalTok{density }\OperatorTok{=}\NormalTok{ data[}\DecValTok{0}\NormalTok{]}
\NormalTok{young }\OperatorTok{=}\NormalTok{ data[}\DecValTok{1}\NormalTok{]}
\NormalTok{poisson }\OperatorTok{=}\NormalTok{ data[}\DecValTok{2}\NormalTok{]}

\NormalTok{command }\OperatorTok{=}\NormalTok{ command\_template.}\BuiltInTok{format}\NormalTok{(density}\OperatorTok{=}\NormalTok{density, young}\OperatorTok{=}\NormalTok{young, poisson}\OperatorTok{=}\NormalTok{poisson)}
\NormalTok{it.command(command)}
\end{Highlighting}
\end{Shaded}

\hypertarget{string}{%
\section{String}\label{string}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{"The value of x is \{:.2f\}"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{0.3872}\NormalTok{)}
\CommentTok{"The value of x is \{:.2e\}"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{0.3872}\NormalTok{)}
\CommentTok{"My name is Sasha"}
\CommentTok{"My name is \{\}"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{"Sasha"}\NormalTok{)}
\CommentTok{"My name is \{name\}"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(name}\OperatorTok{=}\StringTok{"Sasha"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{fish-syntax}{%
\section{Fish Syntax}\label{fish-syntax}}

\hypertarget{use-of}{%
\subsection{Use of (\ldots)}\label{use-of}}

A complete FISH statement occupies one line. However, a line may be
typed across two or more lines as long as each line but the ultimate is terminated with the continuation character ( \ldots{} ).

Use of temporary variables as hinge points to concatenate lengthy formulas can also be handy. The following example shows how this can be done:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fish define long\_sum  }\OperatorTok{;}\NormalTok{example of a }\BuiltInTok{sum}\NormalTok{ of many things}
\NormalTok{    local temp }\OperatorTok{=}\NormalTok{ v1 }\OperatorTok{+}\NormalTok{ v2 }\OperatorTok{+}\NormalTok{ v3 }\OperatorTok{+}\NormalTok{ v4 }\OperatorTok{+}\NormalTok{ v5 }\OperatorTok{+}\NormalTok{ v6 }\OperatorTok{+}\NormalTok{ v7 }\OperatorTok{+}\NormalTok{ v8 }\OperatorTok{+}\NormalTok{ v9 }\OperatorTok{+}\NormalTok{ v10}
\NormalTok{    long\_sum }\OperatorTok{=}\NormalTok{ temp }\OperatorTok{+}\NormalTok{ v11 }\OperatorTok{+}\NormalTok{ v12 }\OperatorTok{+}\NormalTok{ v13 }\OperatorTok{+}\NormalTok{ v14 }\OperatorTok{+}\NormalTok{ v15}
\NormalTok{end}
\end{Highlighting}
\end{Shaded}

\hypertarget{variable-types}{%
\subsection{Variable Types}\label{variable-types}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define types}
\NormalTok{    v1 }\OperatorTok{=} \DecValTok{2}
\NormalTok{    v2 }\OperatorTok{=} \FloatTok{3.4}
\NormalTok{    v3 }\OperatorTok{=} \StringTok{\textquotesingle{}Have a nice day\textquotesingle{}}
\NormalTok{    v4 }\OperatorTok{=}\NormalTok{ v1 }\OperatorTok{*}\NormalTok{ v2}
\NormalTok{    v5 }\OperatorTok{=}\NormalTok{ v3 }\OperatorTok{+} \StringTok{\textquotesingle{}, old chap\textquotesingle{}}
\NormalTok{    v6 }\OperatorTok{=}\NormalTok{ vector(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)}
\NormalTok{    v7 }\OperatorTok{=}\NormalTok{ matrix(vector(}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{))}
\NormalTok{    v8 }\OperatorTok{=}\NormalTok{ true}
\NormalTok{end}
\AttributeTok{@types}
\NormalTok{fish }\BuiltInTok{list}
\end{Highlighting}
\end{Shaded}

The resulting screen display looks like this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{           Name    Value}
           \OperatorTok{{-}{-}{-}{-}{-}{-}{-}} \OperatorTok{{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\NormalTok{(function) types }\DecValTok{0}\NormalTok{ (integer)}
\NormalTok{           v1    }\DecValTok{2}\NormalTok{ (integer)}
\NormalTok{           v2    }\FloatTok{3.400000000000000e+00}\NormalTok{ (real)}
\NormalTok{           v3    }\StringTok{\textquotesingle{}Have a nice day\textquotesingle{}}\NormalTok{ (string)}
\NormalTok{           v4    }\FloatTok{6.800000000000000e+00}\NormalTok{ (real)}
\NormalTok{           v5    }\StringTok{\textquotesingle{}Have a nice day, old chap\textquotesingle{}}\NormalTok{ (string)}
\NormalTok{           v6    (}\FloatTok{1.000000000000000e+00}\NormalTok{,}\FloatTok{2.000000000000000e+00}\NormalTok{,}
                  \FloatTok{3.000000000000000e+00}\NormalTok{) (vector3)                [}\OperatorTok{**}\NormalTok{]}
\NormalTok{           v7    }\DecValTok{3}\NormalTok{ x }\DecValTok{1}\NormalTok{ (matrix)}
\NormalTok{           v8    true (boolean)}
\end{Highlighting}
\end{Shaded}

\hypertarget{traditional-for-loop-in-fish}{%
\subsection{Traditional for loop in FISH}\label{traditional-for-loop-in-fish}}

Standard \texttt{for\ loop} is also available in FISH to provide for additional
loop control.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fish define xxx}
    \BuiltInTok{sum}  \OperatorTok{=} \DecValTok{0}
\NormalTok{    prod }\OperatorTok{=} \DecValTok{1}
\NormalTok{    loop }\ControlFlowTok{for}\NormalTok{ (n }\OperatorTok{=} \DecValTok{1}\NormalTok{, n }\OperatorTok{\textless{}=} \DecValTok{10}\NormalTok{, n }\OperatorTok{=}\NormalTok{ n }\OperatorTok{+} \DecValTok{1}\NormalTok{)}
        \BuiltInTok{sum}  \OperatorTok{=} \BuiltInTok{sum}  \OperatorTok{+}\NormalTok{ n}
\NormalTok{        prod }\OperatorTok{=}\NormalTok{ prod }\OperatorTok{*}\NormalTok{ n}
\NormalTok{    end\_loop}
\NormalTok{    io.out(}\StringTok{\textquotesingle{}The sum is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(}\BuiltInTok{sum}\NormalTok{) }\OperatorTok{+}\NormalTok{ ... }
           \StringTok{\textquotesingle{} and the product is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(prod))}
\NormalTok{end}
\AttributeTok{@xxx}
\end{Highlighting}
\end{Shaded}

\hypertarget{controlled-loop}{%
\subsubsection{Controlled loop}\label{controlled-loop}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define xxx}
    \BuiltInTok{sum}  \OperatorTok{=} \DecValTok{0}
\NormalTok{    prod }\OperatorTok{=} \DecValTok{1}
\NormalTok{    loop n (}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{)}
        \BuiltInTok{sum}  \OperatorTok{=} \BuiltInTok{sum}  \OperatorTok{+}\NormalTok{ n}
\NormalTok{        prod }\OperatorTok{=}\NormalTok{ prod }\OperatorTok{*}\NormalTok{ n}
\NormalTok{    end\_loop}
\NormalTok{    io.out(}\StringTok{\textquotesingle{}The sum is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(}\BuiltInTok{sum}\NormalTok{) }\OperatorTok{+}\NormalTok{  ...}
           \StringTok{\textquotesingle{} and the product is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(prod))}
\NormalTok{end}
\AttributeTok{@xxx}
\end{Highlighting}
\end{Shaded}

In this case, the loop variable n is given successive values from 1 to
10, and the statements inside the loop (between the loop and endloop
statements) are executed for each value. As mentioned, variable names or
an arithmetic expression could be substituted for the numbers 1 or 10.
Note that the exit statement can be used to break out of a FISH loop and
the continue statement can be used to skip the remaining instructions in
the loop, moving to the next sequence of the loop.

It is important to note that this formulation of looping is different
from a for loop in most high-level programming languages. For instance,
one cannot easily control the ending condition (i.e., loop from 1 to 10
excluding 10) or the incrementing mechanism (i.e., loop from 1 to 10 by
twos or loop backward). A standard for loop is also available in FISH to
provide for additional loop control.

\hypertarget{if-else-endif-construct}{%
\subsection{if else endif construct}\label{if-else-endif-construct}}

These statements allow conditional execution of FISH function segments;
else and then are optional. The item test consists of one of the
following symbols or symbol pairs:\\

= \# \textgreater{} \textless{} \textgreater= \textless=\\

The displayed value of abc in this example depends on the argument
provided to abc when it is executed. You should experiment with
different test symbols (e.g., replace \textgreater{} with \textless).

Until now, our FISH functions have been invoked from FLAC3D, either by
using the sqaure brackets {[}{]} of inline FISH, by giving the function name
prepended with the the @ character, or by using the fish list command.
It is also possible to do the reverse, to give FLAC3D commands from
within FISH functions. Most valid FLAC3D commands can be embedded
between the following FISH statements:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define abc(xx)}
    \ControlFlowTok{if}\NormalTok{ xx }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{ then }
\NormalTok{        abc }\OperatorTok{=} \DecValTok{33}
    \ControlFlowTok{else}
\NormalTok{        abc }\OperatorTok{=} \DecValTok{11}
\NormalTok{    end\_if}
\NormalTok{end}
\NormalTok{[abc(}\DecValTok{1}\NormalTok{)]}
\NormalTok{[abc(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\hypertarget{arrays-and-maps}{%
\subsection{Arrays and Maps}\label{arrays-and-maps}}

It is often the case that one would like to store a list of objects that
they will loop over in the future. These may be computed values from
zones, for instance, or specific gridpoint pointers themselves. FISH has
two containers to use in these circumstances, termed arrays and maps.

An array holds a list of FISH variables of any type that can be looped
over or accessed by the integer index of the element of the array.
Arrays can be multidimensional and do not resize dynamically. The simple
example below shows how one can create an array of integers and then sum
the values.

\hypertarget{array-example}{%
\subsubsection{Array example}\label{array-example}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define array\_operation}
    \OperatorTok{;}\NormalTok{create }\KeywordTok{and}\NormalTok{ populate an array }\ControlFlowTok{with}\NormalTok{ products of }\DecValTok{2}
\NormalTok{    arr }\OperatorTok{=}\NormalTok{ array.create(}\DecValTok{10}\NormalTok{)}
\NormalTok{    loop local n(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{)}
\NormalTok{        arr[n] }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{n}
\NormalTok{    end\_loop}
      
    \OperatorTok{;}\NormalTok{compute the }\BuiltInTok{sum} \KeywordTok{and}\NormalTok{ product of elements }\KeywordTok{in}\NormalTok{ the array}
    \BuiltInTok{sum} \OperatorTok{=} \DecValTok{0}
\NormalTok{    prod }\OperatorTok{=} \DecValTok{1}
\NormalTok{    local i }\OperatorTok{=} \DecValTok{1}
\NormalTok{    loop }\ControlFlowTok{while}\NormalTok{ (i }\OperatorTok{\textless{}=}\NormalTok{ array.size(arr,}\DecValTok{1}\NormalTok{))}
        \BuiltInTok{sum} \OperatorTok{=} \BuiltInTok{sum} \OperatorTok{+}\NormalTok{ arr[i]}
\NormalTok{        prod }\OperatorTok{=}\NormalTok{ prod }\OperatorTok{*}\NormalTok{ arr[i]}
\NormalTok{        i }\OperatorTok{=}\NormalTok{ i }\OperatorTok{+} \DecValTok{1}
\NormalTok{    end\_loop}
\NormalTok{    io.out(}\StringTok{\textquotesingle{}The sum is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(}\BuiltInTok{sum}\NormalTok{) }\OperatorTok{+}\NormalTok{ ...}
           \StringTok{\textquotesingle{} and the product is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(prod))}
\NormalTok{end}
\AttributeTok{@array\_operation}
\end{Highlighting}
\end{Shaded}

In this example, an array is created and filled with numbers. The loop
while construct is used to loop over the array entries and the sum and
product are computed and output.

A map, on the other hand, is an associative container, meaning that one
can access the members of a map by an integer or string used to insert a
value in the map. Maps can dynamically be resized and added to one
another (appending maps together), and are the preferred constructs for
storing lists of FISH variables for later access.

\hypertarget{map-example}{%
\subsubsection{Map example}\label{map-example}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define map\_operation}
    \OperatorTok{;}\NormalTok{create }\KeywordTok{and}\NormalTok{ populate a }\BuiltInTok{map} \ControlFlowTok{with}\NormalTok{ products of }\DecValTok{2}
\NormalTok{    my\_map }\OperatorTok{=} \BuiltInTok{map}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\NormalTok{    loop local n(}\DecValTok{2}\NormalTok{,}\DecValTok{10}\NormalTok{)}
        \BuiltInTok{map}\NormalTok{.add(my\_map,n,}\DecValTok{2}\OperatorTok{*}\NormalTok{n)}
\NormalTok{    end\_loop}
      
    \OperatorTok{;}\NormalTok{compute the }\BuiltInTok{sum} \KeywordTok{and}\NormalTok{ product of elements }\KeywordTok{in}\NormalTok{ the }\BuiltInTok{map}
    \BuiltInTok{sum} \OperatorTok{=} \DecValTok{0}
\NormalTok{    prod }\OperatorTok{=} \DecValTok{1}
\NormalTok{    loop foreach n my\_map}
        \BuiltInTok{sum} \OperatorTok{=} \BuiltInTok{sum} \OperatorTok{+}\NormalTok{ n}
\NormalTok{        prod }\OperatorTok{=}\NormalTok{ prod }\OperatorTok{*}\NormalTok{ n}
\NormalTok{    end\_loop}
\NormalTok{    io.out(}\StringTok{\textquotesingle{}The sum is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(}\BuiltInTok{sum}\NormalTok{) }\OperatorTok{+}\NormalTok{ ...}
           \StringTok{\textquotesingle{} and the product is \textquotesingle{}} \OperatorTok{+}\NormalTok{ string(prod))}
\NormalTok{end}
\AttributeTok{@map\_operation}
\end{Highlighting}
\end{Shaded}

Unlike with arrays, maps can be looped through using the loop foreach
construct. In this case, n is the value held in each map entry, not the
integer name of the object in the map. Likewise, instead of using
integers to insert objects into the map, one could use strings such as
first, second, etc. This allows one to easily and efficiently store and
access FISH variables by a user-defined name.

\hypertarget{fish-function}{%
\subsection{Fish Function}\label{fish-function}}

FISH functions to calculate bulk and shear moduli

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\NormalTok{fish define derive(y\_mod,p\_ratio)}
\NormalTok{    s\_mod }\OperatorTok{=}\NormalTok{ y\_mod }\OperatorTok{/}\NormalTok{ (}\FloatTok{2.0} \OperatorTok{*}\NormalTok{ (}\FloatTok{1.0} \OperatorTok{+}\NormalTok{ p\_ratio))}
\NormalTok{    b\_mod }\OperatorTok{=}\NormalTok{ y\_mod }\OperatorTok{/}\NormalTok{ (}\FloatTok{3.0} \OperatorTok{*}\NormalTok{ (}\FloatTok{1.0} \OperatorTok{{-}} \FloatTok{2.0} \OperatorTok{*}\NormalTok{ p\_ratio))}
\NormalTok{end}
\NormalTok{[derive(}\FloatTok{5e8}\NormalTok{,}\FloatTok{0.25}\NormalTok{)]}
\NormalTok{[b\_mod] }
\NormalTok{[s\_mod]}
\end{Highlighting}
\end{Shaded}

\newpage

\hypertarget{code-block}{%
\chapter{Code Block}\label{code-block}}

\hypertarget{some-code}{%
\section{Some Code}\label{some-code}}

Properties may be specified for each type of physical item, and will be
inherited automatically by the associated component objects. For
example, the command

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{struct cable }\BuiltInTok{property}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{=}\FloatTok{30.0} \BuiltInTok{range} \BuiltInTok{id}\OperatorTok{=}\DecValTok{3}
\end{Highlighting}
\end{Shaded}

will assign a grout friction angle of 30 degrees to all cable elements
thar are part of the cable with an ID number of 3, whereas the command

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{struct cable }\BuiltInTok{property}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{=}\FloatTok{30.0} \BuiltInTok{range}\NormalTok{ component}\OperatorTok{{-}}\BuiltInTok{id}\OperatorTok{=}\DecValTok{3}
\end{Highlighting}
\end{Shaded}

will assign a grout friction angle of 30 degrees to the single cable
element with a component-ID number of 3.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{" GROUPS AND MASK ARRAYS "}
\NormalTok{it.command(}\StringTok{"zone group }\CharTok{\textbackslash{}"}\StringTok{lower}\CharTok{\textbackslash{}"}\StringTok{ range position{-}z 0 5"}\NormalTok{)}
\NormalTok{za.in\_group(}\StringTok{"lower"}\NormalTok{)}
\NormalTok{za.in\_group(}\StringTok{"lower"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in lower group."}
\NormalTok{corner\_mask }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (x}\OperatorTok{\textless{}}\DecValTok{3}\NormalTok{, y}\OperatorTok{\textless{}}\DecValTok{3}\NormalTok{, z}\OperatorTok{\textless{}}\DecValTok{3}\NormalTok{))}
\NormalTok{za.set\_group(corner\_mask, }\StringTok{"corner"}\NormalTok{, }\StringTok{"geometry"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ za.in\_group(}\StringTok{"corner"}\NormalTok{, }\StringTok{"geometry"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in corner group."}
\CommentTok{" GRIDPOINTS ARRAY FUNCTIONS "}
\NormalTok{gpos }\OperatorTok{=}\NormalTok{ gpa.pos()}
\NormalTok{gx, gy, gz }\OperatorTok{=}\NormalTok{ gpos.T}
\BuiltInTok{print}\NormalTok{ gz}
\NormalTok{f }\OperatorTok{=}\NormalTok{ gpa.fixity()}
\BuiltInTok{print}\NormalTok{ f}
\NormalTok{f[:,][gz}\OperatorTok{==}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \VariableTok{True}\NormalTok{, }\VariableTok{True}\NormalTok{, }\VariableTok{True}
\BuiltInTok{print}\NormalTok{ f}
\NormalTok{gpa.set\_fixity(f)}
\NormalTok{top\_gridpoints }\OperatorTok{=}\NormalTok{ gz}\OperatorTok{==}\DecValTok{10}
\NormalTok{radial\_distance }\OperatorTok{=}\NormalTok{ np.sqrt((gx}\OperatorTok{{-}}\DecValTok{5}\NormalTok{)}\OperatorTok{**}\DecValTok{2}\OperatorTok{+}\NormalTok{(gy}\OperatorTok{{-}}\DecValTok{5}\NormalTok{)}\OperatorTok{**}\DecValTok{2}\NormalTok{)}
\NormalTok{central\_gridpoints }\OperatorTok{=}\NormalTok{ radial\_distance }\OperatorTok{\textless{}} \DecValTok{5}
\NormalTok{mask }\OperatorTok{=}\NormalTok{ np.logical\_and(top\_gridpoints, central\_gridpoints)}
\BuiltInTok{print} \StringTok{"boundary load applied to }\SpecialCharTok{\{\}}\StringTok{ gridpoints"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(mask.}\BuiltInTok{sum}\NormalTok{())}
\NormalTok{fapp }\OperatorTok{=}\NormalTok{ gpa.force\_app()}
\BuiltInTok{print}\NormalTok{ fapp}
\NormalTok{fapp[:,}\DecValTok{2}\NormalTok{] }\OperatorTok{=}\NormalTok{ mask}\OperatorTok{*}\FloatTok{1e6}\OperatorTok{*}\NormalTok{(}\FloatTok{5.0}\OperatorTok{{-}}\NormalTok{radial\_distance)}\OperatorTok{/}\FloatTok{5.0}
\NormalTok{gpa.set\_force\_app(fapp)}
\BuiltInTok{print} \StringTok{"zone centroids: "}
\BuiltInTok{print}\NormalTok{ za.pos()}
\NormalTok{za.gridpoints()}
\NormalTok{za.faces()}
\NormalTok{za.ids()}
\BuiltInTok{print}\NormalTok{ za.neighbors()}
\CommentTok{" =================RESULTS=================== "}
\NormalTok{it.command(}\StringTok{"model solve"}\NormalTok{)}
\BuiltInTok{print} \StringTok{"gridpoint displacements:"}
\BuiltInTok{print}\NormalTok{ gpa.disp()}
\BuiltInTok{print} \StringTok{"gridpoint displacement magnitudes: "}
\NormalTok{mag }\OperatorTok{=}\NormalTok{ np.linalg.norm(gpa.disp(), axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ mag}
\NormalTok{max\_index }\OperatorTok{=}\NormalTok{ np.argmax(mag)}
\BuiltInTok{print} \StringTok{"Maximum displacement: }\SpecialCharTok{\{\}}\StringTok{ at location }\SpecialCharTok{\{\}}\StringTok{"}\NormalTok{.}\BuiltInTok{format}\NormalTok{(gpa.disp()[max\_index],}
\NormalTok{                                              gpa.pos()[max\_index])}
\BuiltInTok{print} \StringTok{"Vertical displacement along the vertical line x=5, y=5: from z=0 to z=10"}
\BuiltInTok{print}\NormalTok{ gpa.disp()[np.logical\_and(gx}\OperatorTok{==}\DecValTok{5}\NormalTok{, gy}\OperatorTok{==}\DecValTok{5}\NormalTok{)][:,}\DecValTok{2}\NormalTok{]}
\NormalTok{za.stress()}
\NormalTok{za.stress\_flat()}
\CommentTok{" =========REFERENCE EXAMPLES================ "}
\CommentTok{""" Some Numpy Operation Examples}
\CommentTok{np.array([1,2,3,4,5])}
\CommentTok{np.linspace(0,1,15)}
\CommentTok{np.zeros((4,4))}
\CommentTok{a = np.linspace(0,1,15)}
\CommentTok{b = np.ones\_like(a)}
\CommentTok{np.sin(a)}
\CommentTok{print a[0]}
\CommentTok{a[0] = 20.2}
\CommentTok{print a}
\CommentTok{c = np.array(((1,2,3),(4,5,6),(7,8,9),(10,11,12)))}
\CommentTok{print c}
\CommentTok{c[0][0]}
\CommentTok{c[:,0]}
\CommentTok{"""}
\CommentTok{""" SOME GRIDPOINTS EXAMPLES}
\CommentTok{z = it.zone.near((5,5,5))}
\CommentTok{print "central zone id: \{\}, position: \{\}".format(z.id(), z.pos())}

\CommentTok{for gp in z.gridpoints():}
\CommentTok{    print "gridpoint with id: \{\} at \{\}".format(gp.id(), gp.pos())}
\CommentTok{"""}
\end{Highlighting}
\end{Shaded}

\hypertarget{interface-1}{%
\section{Interface}\label{interface-1}}

Interfaces are most often created with the zone interface create by-face
command:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone interface }\StringTok{\textquotesingle{}flt\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face separate }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{5}
\NormalTok{zone interface }\StringTok{\textquotesingle{}flt\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1e8}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1e8}
\end{Highlighting}
\end{Shaded}

This command creates an interface named flt by separating all zone faces
found at z=5 and placing interface elements and nodes on one side.
Contacts are found (and forces generated) by interface nodes coming into
contact with zone surface faces that are not part of the interface
itself.

\begin{figure}[H]
\includegraphics[width=1\linewidth]{myfigureeeeee/k} \caption{Code chunk syntax}\label{fig:unnamed-chunk-71}
\end{figure}

Every reference to an interface uses a name (like the table command) to
indicate which interface is being referred to

Interfaces in FLAC3D are one-sided objects. Interface elements are (in
general) created attached to zone surface faces, which in turn create
interface nodes. All contact detection is between interface nodes and
zone surface faces.

Most commonly, interfaces need to be created starting with a mesh that
is continuous. In that case, it is easiest to separate the mesh and
create the interfaces all in one command using the separate keyword (as
shown in the example above).

The new-side-origin keyword can be used to determine which side of the
separation interface elements are applied to. The side opposite the
location of the origin will be selected. In the example above, to select
the other side, change the command to

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone interface }\StringTok{\textquotesingle{}flt\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face separate new}\OperatorTok{{-}}\NormalTok{side}\OperatorTok{{-}}\NormalTok{origin (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{) ...}
\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{5}
\end{Highlighting}
\end{Shaded}

\hypertarget{penetration}{%
\subsection{Penetration}\label{penetration}}

the calculation of normal stress due to interface penetration is
absolute instead of incremental. This means that moving a gridpoint
relative to an interface in the normal direction will have an immediate
effect on the normal stress calculated. This is not true of accumulated
shear stress, which remains incremental.

In small-strain mode, gridpoints do not actually move their location in
response to accumulated velocities.

small-displacement" field. is a vector field that is accumulated from
the velocity field every step in small-strain mode only. For the
purposes of calculating interface penetration, a gridpoint location is
based on the current location plus the small-strain displacement. The
smallstrain displacement may be initialized using the zone gridpoint
initialize displacement-small command, and this is sometimes useful to
reset the effective penetration of an interface after some grid motion.
To initialize interface stresses without actually moving gridpoints, we
introduce a normal stress increment that is added to the normal stress
calculated from absolute penetration. It is this value that is set when
the zone interface node initialize-stresses command is given. It can
also be set explicitly using zone interface node
stress-normal-increment.

Spatial Variation and Randomness of Property Distribution

Material properties can be specified to adjust or to vary as a function
of grid position. In fact, a different property can be assigned to every
zone in a FLAC3D model, regardless of model size. There are two commands
avialable in FLAC3D to specfiy material properties. The first, zone
property, allows multiple properties to be specified in a single
command. This is convenient to completely specify properties in
different regions, where that property does not vary within that region.
The second can only specify one property at a time, but has optional
keywords that allow the property value to be automatically varied in
space. This is the zone property-distribution command. Among the
available keywords are add, multiply, gradient, and vary, which can be
used to provide fixed or linear variations of properties with position.
For example, the following command provides a linear variation of
cohesion in the x-direction:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone }\BuiltInTok{property}\OperatorTok{{-}}\NormalTok{distribution cohesion }\FloatTok{1e6}\NormalTok{ gradient (}\OperatorTok{{-}}\FloatTok{1e5}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

An initial profile of a property can also be assigned via FISH. With
FLAC3D, it is also possible to study the influence of nonhomogeneity in
a material. Any type of statistical property distribution can be
introduced, as each element may have a unique property value. Two
optional keywords are available to apply a random distribution of a
selected property with the zone propertydistribution command. The
keyword deviation-gaussian assumes a normal (Gaussian) distribution for
the property, with a mean value, v, and standard deviation, s. The
keyword deviation-uniform assumes a uniform distribution with mean
value, v, and standard deviation, s. Be careful to ensure that
properties do not acquire negative values if s is large. As an example,
the following command would give a mean friction angle of 40° with a
standard deviation of ±5\%: zone property-distribution friction 45
deviation-gaussian 2 Use of the variation keywords in any command (not
just for property variation) is defined in the topic Value Modifiers
(Add, Multiply, Gradient, Vary).

\hypertarget{kaist-model-1}{%
\section{KAIST Model}\label{kaist-model-1}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itasca }\ImportTok{as}\NormalTok{ it}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\NormalTok{np.set\_printoptions(threshold}\OperatorTok{=}\DecValTok{20}\NormalTok{)}
\NormalTok{it.command(}\StringTok{"python{-}reset{-}state false"}\NormalTok{)}
\ImportTok{from}\NormalTok{ itasca }\ImportTok{import}\NormalTok{ zonearray }\ImportTok{as}\NormalTok{ za}
\ImportTok{from}\NormalTok{ itasca }\ImportTok{import}\NormalTok{ gridpointarray }\ImportTok{as}\NormalTok{ gpa}

\CommentTok{\# PARAMETERS \#}

\NormalTok{\_D\_shaft }\OperatorTok{=} \DecValTok{1}
\NormalTok{\_H\_shaft }\OperatorTok{=} \FloatTok{7.45}
\NormalTok{\_T\_plate }\OperatorTok{=} \FloatTok{1.5}
\NormalTok{\_B\_footing }\OperatorTok{=} \FloatTok{3.25}
\NormalTok{\_D\_footing }\OperatorTok{=}\NormalTok{ \_H\_shaft }\OperatorTok{+}\NormalTok{ \_T\_plate}
\NormalTok{\_B\_soil }\OperatorTok{=}\NormalTok{ \_B\_footing}\OperatorTok{*}\DecValTok{5}
\NormalTok{\_D\_soil }\OperatorTok{=}\NormalTok{ \_D\_footing}\OperatorTok{+}\DecValTok{3}

\NormalTok{\_radial }\OperatorTok{=} \DecValTok{50}
\NormalTok{\_perimeter }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{\_radial}
\NormalTok{\_axial }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{\_radial}
\NormalTok{\_outer }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{\_radial}

\NormalTok{\_bulk }\OperatorTok{=} \FloatTok{13.9e9}
\NormalTok{\_shear }\OperatorTok{=} \FloatTok{10.4e9}

\NormalTok{\_E\_o }\OperatorTok{=} \FloatTok{1e7}
\NormalTok{\_const }\OperatorTok{=} \FloatTok{1e8}
\NormalTok{\_poisson }\OperatorTok{=} \FloatTok{0.25}

\CommentTok{\# ZONE \#}

\NormalTok{command\_zone }\OperatorTok{=} \StringTok{"""}
\StringTok{model new}
\StringTok{z crea r{-}t p 0 (0,0,0) ...}
\StringTok{           p 1 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,0,0) ... }
\StringTok{           p 2 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 3 (0,0,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 4 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 5 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 6 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,0,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 7 (}\SpecialCharTok{\{B\_soil\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_soil\}}\StringTok{) ...}
\StringTok{           p 8 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,0,0) ...}
\StringTok{           p 9 (0,0,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 10 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,0) ...}
\StringTok{           p 11 (0,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 12 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,0,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           p 13 (}\SpecialCharTok{\{B\_footing\}}\StringTok{,}\SpecialCharTok{\{D\_soil\}}\StringTok{,}\SpecialCharTok{\{B\_footing\}}\StringTok{) ...}
\StringTok{           size }\SpecialCharTok{\{radial\}}\StringTok{ }\SpecialCharTok{\{axial\}}\StringTok{ }\SpecialCharTok{\{perimeter\}}\StringTok{ }\SpecialCharTok{\{outer\}}\StringTok{ ...}
\StringTok{           rat 1 1 1 1.01 ...}
\StringTok{           fill}
\StringTok{"""}

\NormalTok{command }\OperatorTok{=}\NormalTok{ command\_zone.}\BuiltInTok{format}\NormalTok{(}
\NormalTok{B\_footing }\OperatorTok{=}\NormalTok{ \_B\_footing,}
\NormalTok{B\_soil }\OperatorTok{=}\NormalTok{ \_B\_soil,}
\NormalTok{D\_soil }\OperatorTok{=}\NormalTok{ \_D\_soil,}
\NormalTok{radial}\OperatorTok{=}\NormalTok{\_radial,}
\NormalTok{axial }\OperatorTok{=}\NormalTok{ \_axial,}
\NormalTok{perimeter }\OperatorTok{=}\NormalTok{ \_perimeter,}
\NormalTok{outer }\OperatorTok{=}\NormalTok{ \_outer)}

\NormalTok{it.command(command)}

\CommentTok{\# GROUP \#}

\NormalTok{p }\OperatorTok{=}\NormalTok{ za.pos()}
\NormalTok{x,y,z }\OperatorTok{=}\NormalTok{ p.T}
\BuiltInTok{print}\NormalTok{(it.zone.count(), }\StringTok{"zones in whole model"}\NormalTok{)}

\NormalTok{shaft }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (np.sqrt(x}\OperatorTok{**}\DecValTok{2}\OperatorTok{+}\NormalTok{z}\OperatorTok{**}\DecValTok{2}\NormalTok{)}\OperatorTok{\textless{}}\NormalTok{\_D\_shaft, y}\OperatorTok{\textless{}}\NormalTok{\_H\_shaft))}
\NormalTok{za.set\_group(shaft, }\StringTok{"shaft"}\NormalTok{) }\CommentTok{\# set the zones with shaft = true have "shaft" and "geometry"}
\BuiltInTok{print}\NormalTok{(za.in\_group(}\StringTok{"shaft"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in shaft group."}\NormalTok{) }\CommentTok{\#output how many zones are in the corner group}

\NormalTok{plate }\OperatorTok{=} \BuiltInTok{reduce}\NormalTok{(np.logical\_and, (x}\OperatorTok{\textless{}}\NormalTok{\_B\_footing,z}\OperatorTok{\textless{}}\NormalTok{\_B\_footing, y}\OperatorTok{\textgreater{}}\NormalTok{\_H\_shaft,y}\OperatorTok{\textless{}}\NormalTok{\_D\_footing))}
\NormalTok{za.set\_group(plate, }\StringTok{"plate"}\NormalTok{) }\CommentTok{\# set the zones with plate = true have "plate" and "geometry"}
\BuiltInTok{print}\NormalTok{(za.in\_group(}\StringTok{"plate"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{(), }\StringTok{"zones in plate group."}\NormalTok{) }\CommentTok{\#output how many zones are in the corner group}

\CommentTok{\# CONSTITUTIVE MODEL \#}

\CommentTok{\#it.command("""}
\CommentTok{\#zone cmodel assign strain{-}softening range group "Radial Tunnel1"}
\CommentTok{\#zone property density 2500 bulk 2e8 shear 1e8 range group "Radial Tunnel1"}
\CommentTok{\#zone property cohesion 2e6 friction 45 tension 2e5 dilation 10 range group "Radial Tunnel1"}
\CommentTok{\#zone property table{-}friction \textquotesingle{}fri\textquotesingle{} table{-}cohesion \textquotesingle{}coh\textquotesingle{} table{-}dilation \textquotesingle{}dil\textquotesingle{} range group "Radial Tunnel1"}
\CommentTok{\#table \textquotesingle{}fri\textquotesingle{} add (0, 45) (.05, 42) (.1, 40) (1, 40)}
\CommentTok{\#table \textquotesingle{}coh\textquotesingle{} add (0,2e6) (.05,1e6) (.1,5e5) (1,5e5) }
\CommentTok{\#table \textquotesingle{}dil\textquotesingle{} add (0, 10) (.05,  3) (.1,  0)}
\CommentTok{\#""")}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone cmodel assign elastic range group "Radial Tunnel1"}
\StringTok{zone cmodel assign elastic range group \textquotesingle{}shaft\textquotesingle{}}
\StringTok{zone cmodel assign elastic range group \textquotesingle{}plate\textquotesingle{}}

\StringTok{fish define fname(E\_o,const)}
\StringTok{loop foreach pnt zone.list}
\StringTok{z\_depth = zone.pos.y(pnt)}
\StringTok{E = E\_o+const*math.sqrt(z\_depth)}
\StringTok{zone.prop(pnt,\textquotesingle{}young\textquotesingle{})=E}
\StringTok{end\_loop}
\StringTok{end}
\StringTok{@fname(}\SpecialCharTok{\{E\_o\_\}}\StringTok{,}\SpecialCharTok{\{const\_\}}\StringTok{)}
\StringTok{zone property poisson }\SpecialCharTok{\{poisson\_\}}
\StringTok{plot item create zone contour property name \textquotesingle{}young\textquotesingle{}}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(E\_o\_}\OperatorTok{=}\NormalTok{\_E\_o,const\_}\OperatorTok{=}\NormalTok{\_const,poisson\_}\OperatorTok{=}\NormalTok{\_poisson))}

\NormalTok{it.command(}\StringTok{"""}
\StringTok{zone property bulk }\SpecialCharTok{\{bulk\}}\StringTok{  shear }\SpecialCharTok{\{shear\}}\StringTok{ range group \textquotesingle{}shaft\textquotesingle{}}
\StringTok{zone property bulk }\SpecialCharTok{\{bulk\}}\StringTok{  shear }\SpecialCharTok{\{shear\}}\StringTok{ range group \textquotesingle{}plate\textquotesingle{}}
\StringTok{"""}\NormalTok{.}\BuiltInTok{format}\NormalTok{(bulk}\OperatorTok{=}\NormalTok{\_bulk,shear}\OperatorTok{=}\NormalTok{\_shear))}

\CommentTok{\#soil = za.in\_group("Radial Tunnel1")}
\CommentTok{\# list(gp.list)}
\CommentTok{\# gp.isgroup(::gp.list,"North")}
\CommentTok{\# gp.force.unbal(::ad)}
\CommentTok{\# [ad = list(gp.list)(gp.isgroup(::gp.list,"North))]}
\end{Highlighting}
\end{Shaded}

\newpage

\hypertarget{theory}{%
\chapter{Theory}\label{theory}}

\hypertarget{structural-elements-1}{%
\section{Structural Elements}\label{structural-elements-1}}

Structural elements include beams, cables, piles, shells, geogrids, and
liners. These can be either independent of, or coupled to, the grid.
Full dynamic equations of motion are solved (Lagrangian solution
procedure as opposed to implicit matrix-inversion procedure).

Section organization: 1. means by which SEL are created and joined 2.
Boundary and Initial Conditions, Local Coord Sys. 3. Damping, Thermal,
Material Properties 4. Mechanical behavior

Further, a detailed discussion of General Formulation of
Structural-Element Logic provides more complex interaction btw SEL and
grid.

\hypertarget{types-of-sel}{%
\subsection{Types of SEL}\label{types-of-sel}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Beam : 2-noded, straight finite element with 6 dof per node, 3
  transl, 3 rot, which behaves as LE matl w no failure limit. Beam
  elements may be rigidly connected to grid st forces and bending
  moments develop within the beam as grid deforms. Beam Structural
  Elements --- Beam structural elements are two-noded, straight,
  finite elements with six degrees of freedom per node: three
  translational components, and three rotational components. A
  physical beam (i.e., an arbitrarily curved, beam structure of
  isotropic material and bisymmetrical cross-section) can be modeled
  as a collection of beam elements. Each element behaves as a linearly
  elastic material with no failure limit; however, it is possible to
  introduce a limiting plastic moment, or even a plastic hinge (across
  which discontinuity in rotation may develop), between elements. Beam
  elements may be rigidly connected to the grid such that forces and
  bending moments develop within the beam as the grid deforms, and
  they may be loaded by point or distributed loads. Beam elements are
  used to model structural-support members in which bending resistance
  and limited bending moments occur, including support struts in an
  open-cut excavation and general framed structures loaded by point or
  distributed loads.
\item
  Cable Structural Elements --- Cable structural elements are
  two-noded, straight, finite elements with one axially oriented
  translational degree-of-freedom per node. A physical cable (i.e., an
  arbitrarily curved, cable structure of isotropic material) can be
  modeled as a collection of cable elements. Each element can yield in
  tension or compression, but cannot resist a bending moment. A
  shear-directed (parallel with the cable axis) frictional interaction
  occurs between the cable and the grid. A cable may be anchored at a
  specific point in the grid, or grouted so that force develops along
  its length in response to relative motion between the cable and the
  grid. Cables may also be point-loaded or pretensioned. Cable
  elements are used to model a wide variety of structural-support
  members for which tensile capacity is important, including cable
  bolts and tiebacks.
\item
  Pile Structural Elements --- Pile structural elements are two-noded,
  straight, finite elements with six degrees of freedom per node. A
  physical pile can be modeled as a collection of pile elements. The
  stiffness matrix of a pile element is identical to that of a beam
  element; however, in addition to providing the structural behavior
  of a beam, both a normal-directed (perpendicular to the pile axis)
  and a shear-directed (parallel with the pile axis) frictional
  interaction occurs between the pile and the grid. In this sense,
  piles offer the combined features of beams and cables. In addition
  to skin-friction effects, end-bearing effects can also be modeled
  (see Axially Loaded Pile). Piles may be loaded by point or
  distributed loads. Pile elements are used to model
  structural-support members, such as foundation piles, for which both
  normal- and shear-directed frictional interaction with the rock or
  soil mass occurs. A special material model is also available as an
  extension to the pile element to simulate the behavior of rockbolt
  reinforcement. This model includes the ability to account for
  changes in confining stress around the reinforcement,
  strain-softening behavior of the material between the structural
  element and the grid, and tensile rupture of the element.
\item
  Shell Structural Elements --- Shell structural elements are
  three-noded, flat finite elements. Five finite-element types (2
  membrane elements, 1 plate-bending element and 2 shell elements) are
  available. A physical shell (i.e., an arbitrarily curved, shell
  structure of either isotropic or orthotropic material) can be
  modeled as a faceted surface composed of a collection of shell
  elements. The structural response of the shell is controlled by the
  finite-element type (to resist membrane loading only, bending
  loading only, or both membrane and bending loading). Each shell
  element behaves as an isotropic or orthotropic, linearly elastic
  material with no failure limit; however, one can introduce a
  plastic-hinge line (across which a discontinuity in rotation may
  develop) along the edges between elements, using the same
  double-node procedure as is applied to beams. Shell elements may be
  rigidly connected to the grid such that stresses develop within the
  shell as the grid deforms, and they may be loaded by point loads or
  surface pressures. Shell elements are used to model the structural
  support provided by any thin-shell structure in which the
  displacements caused by transverse-shearing deformations can be
  neglected.
\item
  Geogrid Structural Elements --- Geogrid structural elements are
  three-noded, flat, finite elements that are assigned a
  finite-element type that resists membrane but does not resist
  bending loading. A physical membrane can be modeled as a collection
  of geogrid elements. The geogrid elements behaves as an isotropic or
  orthotropic, linearly elastic material with no failure limit. A
  shear-directed (in the tangent plane to the geogrid surface)
  frictional interaction occurs between the geogrid and the FLAC3D
  grid, and the geogrid is slaved to the grid motion in the normal
  direction. A geogrid can be anchored at a specific point in the
  FLAC3D grid, or attached so that stress develops along its surface
  in response to relative motion between the geogrid and the FLAC3D
  grid. The geogrid can be thought of as the two-dimensional analog of
  a one-dimensional cable. Geogrid elements are used to model flexible
  membranes whose shear interaction with the soil are important, such
  as geotextiles and geogrids.
\item
  Liner Structural Elements --- Liner structural elements are
  three-noded, flat finite elements that can be assigned any of the
  five finite-element types available for shell elements. A physical
  liner can be modeled as a collection of liner elements that are
  attached to the surface of the FLAC3D grid. In addition to providing
  the structural behavior of a shell, a shear-directed (in the tangent
  plane to the liner surface) frictional interaction occurs between
  the liner and the FLAC3D grid. Also, in the normal direction, both
  compressive and tensile forces can be carried, and the liner may
  break free from (and subsequently come back into contact with) the
  grid. Liner elements are used to model thin liners for which both
  normal-directed compressive/tensile interaction and shear-directed
  frictional interaction with the host medium occurs, such as
  shotcrete-lined tunnels or retaining walls.
\end{enumerate}

An option that allows interaction with the FLAC3D grid on both sides of
the liner is available with the liner element.

\hypertarget{joining}{%
\subsubsection{Joining}\label{joining}}

When using struct cable create command, if any of the nodes lie within
zones, these nodes will be linked to these zones, and the link
properties will be set consistent with the corresponding element
behavior.

Specifying more than one segment improves accuracy, especially with
piles and cables interacting with host medium

In this case, distribution of shear forces along pile or cable is a
function of number of nodes. - Try to provide approx. 1 node in each
zone, since zones are constant-stress regions. it is not necessary to
have more than one interaction point within zone. - Try to provide 2\textasciitilde3
cable elements within development length of cable. This development
length is determined by dividing the specified yield strength F by the
grout cohesive strength c.~By following this procedure, failure by
``pull-out'' can occur if such conditions arise. If cable elements are too
long, then only the yield failure mode of each element is possible.

\hypertarget{joining-sel-to-one-another}{%
\subsection{Joining SEL to one another}\label{joining-sel-to-one-another}}

SEL can be joined by sharing a node or by having one of their nodes
linked to another or to a zone. If two or more elements share a node,
all forces and moments are transferred btw elements at the node. If its
necessary to limit forces, then two separate nodes may be created and
connected by a node-to-node link and set appropriate attachment
conditions set.

Two structure beam create commands will create 2 nodes in 1 geometric
location and specify two separate IDs. Forces and moments will not be
transferred btw adjoining elements; instead, only forces wil be
transmitted into surrounding zone at the common location.

\hypertarget{interface-2}{%
\section{Interface}\label{interface-2}}

There are several instances in geomechanics in which it is desirable to
represent planes on which sliding or separation can occur. For
{[}\url{example://}{]}(\url{example:/})\{.uri\}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  joint, fault, or bedding planes in a geologic medium;
\item
  an interface between a foundation and the soil;
\item
  a contact plane between a bin or chute and the material that it
  contains;
\item
  a contact between two colliding objects; and
\item
  a planar ``barrier'' in space, which represents a fixed,
  non-deformable boundary at an arbitrary position and orientation.\\
\end{enumerate}

FLAC3D provides interfaces that are characterized by Coulomb sliding
and/or tensile and shear bonding. Interfaces have the properties of
friction, cohesion, dilation, normal and shear stiffnesses, and tensile
and shear bond strength. Although there is no restriction on the number
of interfaces or the complexity of their intersections, it is generally
not reasonable to model more than a few simple interfaces with FLAC3D
because it is awkward to specify complicated interface geometry. The
program 3DEC (Itasca 2007) is specifically designed to model many
interacting bodies in three dimensions; it should be used instead of
FLAC3D for the more complicated interface problems.\\

Interfaces may also be used to join regions that have different zone
sizes. In general, the zone attach command should be used to join grids
together. However, in some circumstances, it may be more convenient to
use an interface for this purpose. In this case, the interface is
prevented from sliding or opening because it does not correspond to any
physical entity.

\hypertarget{formulation}{%
\section{Formulation}\label{formulation}}

FLAC3D represents interfaces as collections of triangular elements
(interface elements), each of which is defined by three nodes (interface
nodes). Interface elements can be created at any location in space.
Generally, interface elements are attached to a zone surface face; two
triangular interface elements are defined for every quadrilateral zone
face. Interface nodes are then created automatically at every interface
element vertex. When another grid surface comes into contact with an
interface element, the contact is detected at the interface node and is
characterized by normal and shear stiffnesses, and sliding properties.\\

Each interface element distributes its area to its nodes in a weighted
fashion. Each interface node has an associated representative area. The
entire interface is thus divided into active interface nodes
representing the total area of the interface. Figure 1 illustrates the
relation between interface elements and interface nodes, and the
representative area associated with an individual node.

\includegraphics[width=1\linewidth]{myfigureeeeee/interface-formulation}

It is important to note that interfaces are one-sided in FLAC3D. (This
differs from the formulation of two-sided interfaces in two-dimensional
FLAC (Itasca 2011).) It may be helpful to think of FLAC3D interfaces as
``shrink-wrap'' that is stretched over the desired surface, causing the
surface to become sensitive to interpenetration with any other face with
which it may come into contact.\\

The fundamental contact relation is defined between the interface node
and a zone surface face, also known as the target face. The normal
direction of the interface force is determined by the orientation of the
target face.\\

During each timestep, the absolute normal penetration and the relative
shear velocity are calculated for each interface node and its contacting
target face. Both of these values are then used by the interface
constitutive model to calculate a normal force and a shear-force vector.
The constitutive model is defined by a linear Coulomb shear-strength
criterion that limits the shear force acting at an interface node,
normal and shear stiffnesses, tensile and shear bond strengths, and a
dilation angle that causes an increase in effective normal force on the
target face after the shear-strength limit is reached. By default, pore
pressure is used in the interface effective stress calculation. This
option can be activated/deactivated using the command zone interface
effective command by setting effective = on/off. Figure 2 illustrates
the components of the constitutive model acting at interface node (P):

\includegraphics[width=1\linewidth]{myfigureeeeee/interface-constitutive}

The normal and shear forces that describe the elastic interface response
are determined at calculation time \((t + \Delta t)\) using the relations:

\[ F_n^{(t + \Delta t)} = k_n u_n A + \sigma_n A  \]
\[ F_{si}^{(t + \Delta t)} = F_{si}^{(t)} + k_s \Delta u_{si}^{(t + 0.5 \Delta t)} A + \sigma_{si} A\]

The inelastic interface logic works in the following way:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Bonded interface --- The interface remains elastic if stresses
  remain below the bond strengths; there is a shear bond strength, as
  well as a tensile bond strength. The normal bond strength is set
  using the tension interface property keyword. The command zone
  interface node property shear-bond-ratio = sbr sets the shear bond
  strength to sbr times the normal bond strength. The default value of
  property shear-bond-ratio (if not given) is 100.0. The bond breaks
  if either the shear stress exceeds the shear strength, or the
  tensile effective normal stress exceeds the normal strength. Note
  that giving property shear-bond-ratio alone does not cause a bond to
  be established---the tensile bond strength must also be set.\\
\item
  Slip while bonded --- An intact bond, by default, prevents all yield
  behavior (slip and separation). There is an optional property switch
  (bonded-slip) that causes only separation to be prevented if the
  bond is intact (but allows shear yield, under the control of the
  friction and cohesion parameters, using (F\_n) as the normal force).
  The command to allow/disallow slip for a bonded interface segment is
  zone interface node and by setting bonded-slip on or off.\\
\end{enumerate}

The default state of bonded-slip (if not given) is off.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Coulomb sliding --- A bond is either intact or broken. If it is
  broken, then the behavior of the interface segment is determined by
  the friction and cohesion (and of course the stiffnesses). This is
  the default behavior, if bond strengths are not set (zero). A broken
  bond segment cannot take effective tension (which may occur under
  compressive normal force, if the pore pressure is greater). The
  shear force is zero (for a nonbonded segment) if the effective
  normal force is tensile or zero.\\
\end{enumerate}

The Coulomb shear-strength criterion limits the shear force by the
relation:

\[ F_{smax} = c A + tan\phi (F_n - pA)\] During sliding, shear
displacement may cause an increase in the effective normal stress on the
joint, according to the relation:

\[\sigma_n := \sigma_n + \frac{|F_s|_o - F_{smax}}{A k_s} tan\psi k_n\]

On printout (see the zone interface node list command ) the value of
tension denotes whether a bond is intact or broken (or not set) ---
nonzero or zero, respectively.\\

The normal and shear forces calculated at the interface nodes are
distributed in equal and opposite directions to both the target face and
the face to which the interface node is connected (the host face).
Weighting functions are used to distribute the forces to the gridpoints
on each face. The interface stiffnesses are added to the accumulated
stiffnesses at gridpoints on both sides of the interface in order to
maintain numerical stability.\\

Interface contacts are detected only at interface nodes, and contact
forces are transferred only at interface nodes. The stress state
associated with a node is assumed to be uniformly distributed over the
entire representative area of the node. Interface properties are
associated with each node; properties may vary from node to node.\\

By default, the effect of pore pressure is included in the interface
calculation by using effective stress as the basis for the slip
condition. (The interface pore pressure is interpolated from the target
face.) This applies in model configure fluid mode, or if pore pressures
are assigned with the zone water or zone gridpoint initialize
pore-pressure command without specifying model configure fluid. The user
can switch options for interface s by using the zone interface effective
command and by setting effective on or off. By default in the FLAC3D
logic, fluid flow (saturated or unsaturated) is carried across an
interface, provided the interface keyword maximum-edge is not used for
that particular interface. The permeable interface option can be
deactivated/reactivated for interface s by using the zone interface
permeability command and by setting effective on or off. Note that if
the keyword maximum-edge is used after the zone interface element
command, and permeability is on for a particular interface, a warning is
issued to inform the user that this interface will be considered as
impermeable to fluid flow. (Note that for fluid flow calculation only, a
mechanical model must be present. Also, the model cycle 0 command with
model mechanical active on should be used to initialize the weighting
factors used to transfer fluid flow information across the interface.)
No pressure drop normal to the joint and no influence of normal
displacement on pore pressure is calculated.\\

Also, flow of fluid along the interface is not modeled.\\

\hypertarget{creation-of-interface-geometry}{%
\section{Creation of Interface Geometry}\label{creation-of-interface-geometry}}

Interfaces are created with the zone interface create command. For cases
in which an interface between two separate grids in the model is
required, the zone interface create by-face command should be used to
attach an interface to one of the grid surfaces. This command generates
interface elements for interface s along all surface zone faces with a
center point that fall within a specified range. Any surfaces on which
an interface is to be created must be generated initially; it must be
possible to specify an existing surface in order to create the interface
elements. A gap must be specified between two adjacent surfaces, unless
the zone interface create by-face command and the separate keyword are
given. In this case, the separate sub-grids may have surface gridpoints
at the same location in space.\\

By default, two interface elements are created for each zone face. The
number of interface elements can be increased by using the zone
interface s element maximum-edge v command. {[}1{]} This causes all
interface elements with edge lengths larger than v to subdivide into
smaller elements until their lengths are smaller than v. This command
can be used to increase the resolution and decrease arching of forces in
portions of a model that have large contrasts in zone size across an
interface.\\

Several rules should be followed when using interface elements in
FLAC3D:\\

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  If a smaller surface area contacts a larger surface area (e.g., a
  small block resting on a large block), the interface should be
  attached to the smaller region.\\
\item
  If there is a difference in zone density between two adjacent grids,
  the interface should be attached to the grid with the greater zone
  density (i.e., the greater number of zones within the same area).
\item
  The size of interface elements should always be equal to or smaller
  than the target faces with which they will come into contact. If
  this is not the case, the interface elements should be subdivided
  into smaller elements.\\
\item
  Interface elements should be limited to grid surfaces that will
  actually come into contact with another grid.\\
  A simple example illustrating the procedure for interface creation
  is provided in ``DippingJoint.f3dat''. The corresponding project file,
  ``DippingJoint.f3prj'', is located in the folder ``datafiles
  InterfaceDippingJoint.'' The example is a block specimen containing a
  single joint dipping at an angle of \(45°\)
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{;}\NormalTok{ Create interface elements on the top surface of the base        }
\NormalTok{zone interface }\StringTok{\textquotesingle{}joint\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face separate }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}Base\textquotesingle{}}
\NormalTok{model save }\StringTok{\textquotesingle{}int1\textquotesingle{}}
\ControlFlowTok{return}
\end{Highlighting}
\end{Shaded}

\hypertarget{typical-properties}{%
\section{Typical Properties}\label{typical-properties}}

\includegraphics[width=1\linewidth]{myfigureeeeee/typical_dilation}

Post-Failure Properties In many instances, particularly in mining
engineering, the response of a material after failure has initiated is
an important factor in the engineering design. Consequently, the
post-failure behavior must be simulated in the material model. In
FLAC3D, this is accomplished with properties that define four types of
post failure response: 1. shear dilatancy; 2. shear hardening/softening;
3. volumetric hardening/softening; and 4. tensile softening. These
properties are only activated after failure is initiated, as defined by
the Mohr-Coulomb relation or the tensile-failure criterion. Shear
dilatancy is simulated with the Mohr-Coulomb, ubiquitous-joint and
strain-softening MohrCoulomb and ubiquitous-joint models. Shear
hardening/softening is simulated with the strain-softening Mohr-Coulomb
and ubiquitous-joint models, and volumetric hardening/softening is
simulated with the modified Cam-clay model. Tensile softening is
simulated with the strain-softening Mohr-Coulomb and ubiquitous-joint
models

\hypertarget{shear-dilatancy}{%
\subsection{Shear Dilatancy}\label{shear-dilatancy}}

\includegraphics[width=1\linewidth]{myfigureeeeee/dil}

Shear dilatancy, or dilatancy, is the change in volume that occurs with
shear distortion of a material. Dilatancy is characterized by a dilation
angle, , which is related to the ratio of plastic volume change to
plastic shear strain. This angle can be specified in the Mohr-Coulomb
ubiquitous-joint and strain-hardening/ softening models in FLAC3D.
Dilation angle is typically determined from triaxial tests or shear-box
tests. For example, the idealized relation for dilatancy, based upon the
Mohr-Coulomb failure surface, is depicted for a triaxial test in the
figure below. The dilation angle is found from the plot of volumetric
strain versus axial strain. Note that the initial slope for this plot
corresponds to the elastic regime, while the slope used to measure the
dilation angle corresponds to the plastic regime

\includegraphics[width=1\linewidth]{myfigureeeeee/typical_angles}

Selected Strength Properties (drained, laboratory-scale) for Soils
(Ortiz et al.~1980)

\includegraphics[width=1\linewidth]{myfigureeeeee/typical_sand}

\hypertarget{compression-test-on-strain-softening-material}{%
\subsection{Compression Test on strain-softening material}\label{compression-test-on-strain-softening-material}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model new}
\OperatorTok{;}\NormalTok{ Create zones}
\NormalTok{zone create cylinder point }\DecValTok{0}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{1}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{) size }\DecValTok{4} \DecValTok{5} \DecValTok{4}
\NormalTok{zone reflect normal (}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone reflect normal (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\OperatorTok{;}\NormalTok{ Constitutive Model }\KeywordTok{and}\NormalTok{ properties}
\NormalTok{zone cmodel assign strain}\OperatorTok{{-}}\NormalTok{softening}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{1.19e10}\NormalTok{ shear }\FloatTok{1.1e10}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ cohesion }\FloatTok{2.72e5}\NormalTok{ friction }\DecValTok{44}\NormalTok{ tension }\FloatTok{2e5}
\NormalTok{zone }\BuiltInTok{property}\NormalTok{ table}\OperatorTok{{-}}\NormalTok{cohesion }\StringTok{\textquotesingle{}coh\textquotesingle{}}\NormalTok{ table}\OperatorTok{{-}}\NormalTok{friction }\StringTok{\textquotesingle{}fri\textquotesingle{}}
\NormalTok{table }\StringTok{\textquotesingle{}coh\textquotesingle{}}\NormalTok{ add (}\DecValTok{0}\NormalTok{,}\FloatTok{2.72e5}\NormalTok{) (}\FloatTok{1e{-}4}\NormalTok{,}\FloatTok{2e5}\NormalTok{) (}\FloatTok{2e{-}4}\NormalTok{,}\FloatTok{1.5e5}\NormalTok{) (}\FloatTok{3e{-}4}\NormalTok{,}\FloatTok{1.03e5}\NormalTok{) (}\DecValTok{1}\NormalTok{,}\FloatTok{1.03e5}\NormalTok{)}
\NormalTok{table }\StringTok{\textquotesingle{}fri\textquotesingle{}}\NormalTok{ add (}\DecValTok{0}\NormalTok{,}\DecValTok{44}\NormalTok{) (}\FloatTok{1e{-}4}\NormalTok{,}\DecValTok{42}\NormalTok{) (}\FloatTok{2e{-}4}\NormalTok{,}\DecValTok{40}\NormalTok{) (}\FloatTok{3e{-}4}\NormalTok{,}\DecValTok{38}\NormalTok{) (}\DecValTok{1}\NormalTok{,}\DecValTok{38}\NormalTok{)}
\OperatorTok{;}\NormalTok{ Boundary Conditions}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity (}\DecValTok{0}\NormalTok{, }\FloatTok{1e{-}7}\NormalTok{,}\DecValTok{0}\NormalTok{) }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{zone face }\BuiltInTok{apply}\NormalTok{ velocity (}\DecValTok{0}\NormalTok{,}\OperatorTok{{-}}\FloatTok{1e{-}7}\NormalTok{,}\DecValTok{0}\NormalTok{) }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{2}
\OperatorTok{;}\NormalTok{ Histories}
\NormalTok{zone history displacement}\OperatorTok{{-}}\NormalTok{y position (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone history stress}\OperatorTok{{-}}\NormalTok{yy position (}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{zone history stress}\OperatorTok{{-}}\NormalTok{yy position (}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{model step }\DecValTok{3000}
\NormalTok{model save }\StringTok{\textquotesingle{}Softening\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

The horizontal stress-displacement response is monitored again, as shown
in the image below. This test produces distinct peak and residual
failure stress levels

\includegraphics[width=1\linewidth]{myfigureeeeee/softening}

The strain-softening model assumes both a brittle softening (due to
reduction in cohesion) and a gradual softening (due to a reduction in
friction angle). The selection of the properties is discussed further in
Material Properties. Comparison of the two images above illustrates the
different responses of the two models. The initial response up to the
onset of failure is identical, but postfailure behavior is quite
different. Clearly, more data are required to use the strain-softening
model and, typically, the softening model must be calibrated for each
specific problem.

\hypertarget{command}{%
\chapter{Command}\label{command}}

\hypertarget{interface-3}{%
\section{Interface}\label{interface-3}}

\hypertarget{zone-face-group}{%
\subsection{zone face group}\label{zone-face-group}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone face group s keyword ... }\OperatorTok{\textless{}}\BuiltInTok{range}\OperatorTok{\textgreater{}} 
\end{Highlighting}
\end{Shaded}

Example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone face group }\StringTok{\textquotesingle{}wall\textquotesingle{}}\NormalTok{ internal }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall{-}c\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}pile\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

Adds a group name `wall' to zone faces included in the optional range.
Also can be used with zone face group ``slotname = groupname'' Zone face
may belong to many groups, up to 128. keywords: internal, or, remove.\\
- internal: to select all faces.\\
If specified, then the range looks at internal faces as well as surface
faces.

\begin{itemize}
\item
  or: considered inside the surface if any of those conditions has a
  non-null model.
\item
  remove: group is removed from the zone face.
\end{itemize}

\hypertarget{zone-face-skin}{%
\subsection{zone face skin}\label{zone-face-skin}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone face skin}
\end{Highlighting}
\end{Shaded}

Generates contiguous face groups by skinning.

``skinning'' refers to automatic face group generation, which occurs as
follows: the program looks for contiguous faces and puts them into
automatically named groups within the slot named skin. Two faces are not
considered contiguous if the angle between two faces exceeds the break
angle, or if the two faces belong to different groups according to the
command's slot specification. Unless internal is specified, the
operation of zone face skin is restricted to external faces. Only zone
faces that have no zone on the other side, a hidden zone on the other
side are considered surface faces. When use-hidden-zones is used, within
specified range will be included for consideration.

group names are generated as follows: sEast, sWest, sNorth, sSouth,
sTop, sBottom

Internal faces are assigned names of the group on either side that
changed in order to create them.

\hypertarget{zone-separate}{%
\subsection{zone separate}\label{zone-separate}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone separete by}\OperatorTok{{-}}\NormalTok{face new}\OperatorTok{{-}}\NormalTok{side group }\StringTok{\textquotesingle{}iwall\textquotesingle{}}\NormalTok{ slot }\StringTok{\textquotesingle{}int\textquotesingle{}} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}base\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

separates internal faces specified by the range. The gridpoints of the
face are duplicated, and new face is created. New faces and gridpoints
get copies of all group and extra variable assignments belonging to the
original face and gridpoint.

Example: If Fred and George are group names assigned to zones, then

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Fred\textquotesingle{}}\NormalTok{ group }\StringTok{\textquotesingle{}George\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

will select faces that are connected to zone of both group Fred and
George.

keyword: - by-face: attempts to separate all internal faces in the range
- new-side group: newly created faces will be assigned the group name in
the specified slot. The default slot, is named Default.

\hypertarget{zone-interface-create}{%
\subsection{zone interface create}\label{zone-interface-create}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{zone interface }\StringTok{\textquotesingle{}side\textquotesingle{}}\NormalTok{ create by}\OperatorTok{{-}}\NormalTok{face }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}wall\textquotesingle{}} \KeywordTok{and} \StringTok{\textquotesingle{}iwall\textquotesingle{}}

\NormalTok{zone interface }\StringTok{\textquotesingle{}side\textquotesingle{}}\NormalTok{ node }\BuiltInTok{property}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1e8}\NormalTok{ stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1e8}\NormalTok{ friction }\DecValTok{20}\NormalTok{ cohesion }\DecValTok{30000}
\end{Highlighting}
\end{Shaded}

creates nodes or elements on interface side

There are two techniques for creating an interface. 1. To derive an
interface from a range of zone faces using by-face keyword. 2. To
specify a triangular interface element from 3 points. 3. Command may
also be used to construct an interface node that may be used with the
element keyword.

keyword: - by-face: interface elements are created on all surface zone
faces that are within the specified range. An error will occur if
interface elements from that interface already exist on the selected
faces. If the optional separate keyword is used, then internal zone
faces are selected by the range. The list of selected faces is then
automatically separated (as with zone separate) and interface elements
placed on one side. The following are for the separate keyword:
new-side-origin, clear-attach.

\begin{itemize}
\tightlist
\item
  element point i keyword \ldots{} : create a triangular interface element
  by specifying 3 points. Three verticies must be specified by the
  following keyword. Each point can be created and located in space
  using the position keyword, or an existing interface node with ID i
  may be specified. The interface element that is created is not
  attached to a grid face even if the location corresponds to that of
  the face. the element is fixed in space. The active side of the
  element is defined by walking around the edge of the element, from
  point 1 to point 2 to point 3; the active side is up when walking in
  a clockwise direction.
\end{itemize}

For each point of the element, one of the following two keywords must be
supplied: node i, position v.

\begin{itemize}
\tightlist
\item
  node v : this creates an interface node at position v. If a node
  already exists at the selected location, an error is reported. The
  created node is fixed in space.
\end{itemize}

\hypertarget{range}{%
\subsection{range}\label{range}}

Logical Operations in a Range Phrase A range phrase targets a set of
objects by specifying one or more range elements (the keywords that
follow the range keyword in the command). If multiple range elements are
specified, the final set of objects returned by the range phrase will
be, by default, the intersection of the separate range elements.

The union keyword may be specified anywhere within a range phrase to
return a range that is a union of the present range elements.

The not keyword may be used at the end of a particular range element to
return the inverse of the objects specified by the element. The not
keyword must appear at the end of the range element specification (e.g.,
range position-x 0 100 not position-y 0 100 not).

When the keyword extent is used, the extent of the object (rather than
the object centroid) is used to verify whether the object is within the
range. This keyword is only applied to geometric range elements (e.g.,
sphere).

Logical Operations \& Named Ranges

Using the named-range keyword, an existing named range may be inserted
into a range phrase and be treated as a range element within that range
phrase. Consequently the logical operations described above will work on
a named range exactly as they do on range elements. See the next topic,
Named Ranges, for further information.

\hypertarget{named-ranges}{%
\subsubsection{Named Ranges}\label{named-ranges}}

Creating a named range provides an easy-access method for subsequent use
of the range. Range creation is performed using the model range command
as follows:

model range create `fred' position-x 5 500 id 100 200 group `external'
not geometry group edge `mainedges' range named-range `fred' This is
equivalent to:

geometry group edge `mainedges' range position-x 5 500 \ldots{} id 100 200
group `external' not Note that, in the former case, the range fred could
be reused without retyping all of the range elements.

Named Ranges vs.~Groups

Named ranges and groups are close in effect. Either are used as range
elements within a range. However, a named range is still a range, which
means with each use it is possible it will return different objects,
depending the range elements that define it and the state of the model.
By contrast, repeated uses of a group within a range will return the
same objects each time. The group itself must be altered to return
different objects.

\hypertarget{pull-test}{%
\chapter{Pull-Test}\label{pull-test}}

\hypertarget{simulation-of-pull-tests-for-fully-bonded-rock-reinforcement}{%
\chapter{Simulation of Pull-Tests for Fully Bonded Rock Reinforcement}\label{simulation-of-pull-tests-for-fully-bonded-rock-reinforcement}}

Problem Statement

The most common method to determine properties for fully bonded rock
reinforcement (such as grouted cable bolts, resin-grouted steel rebar,
or
rockbolts) is to perform pull-tests on small segments of grouted
reinforcement
in the field. Typically, segments 50 cm in length or longer are grouted
into
boreholes. The ends of these segments are pulled with a jack mounted to
the
surface of the tunnel and connected to cable via a barrel-and-wedge-type
anchor.
The force applied to the reinforcement and the deformation of the
reinforcement
are plotted to produce an axial force-deflection curve. From this curve,
the
peak shear strength of the grout bond is determined. The results for
pull-tests
on one-half meter segments of several types of cables are illustrated in
Fig 1. These plots are expressed in terms
of tons/m versus deformation in mm.

\includegraphics[width=1\linewidth]{myfigureeeeee/fig1}

Figure 1: Field results for pull-tests on various types of
cables for a bond length of 0.5 m and a water/cement ratio of 1/3.

In this example application, FLAC3D is used to
model pull-tests of this type. Two different approaches are available to
simulate pull-tests using the structural elements in FLAC3D:

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  cable elements, which assume the grout behaves as an
  elastic-perfectly
  plastic material with confining stress dependence but no loss of
  strength after
  failure; and
\item
  modified pile elements, which account for changes in confining
  stress,
  strain-softening behavior of the grout, and rupture of the
  reinforcement.
\end{enumerate}
\end{quote}

One additional advantage of using the modified pile elements to model
reinforcement behavior is that bending moment resistance can be
included. This
behavior is needed when the reinforcement is subjected to shearing, as
described
later in \protect\hyperlink{pulltest-tensile-rupture-section}{Pull-Test with Tensile
Rupture} and \protect\hyperlink{pulltest-shear-bolt-section}{Shear Test on
Rockbolts}.

The purpose of the following examples is to demonstrate the use and
capabilities of both approaches.

Approach 1: Modeling Rock Reinforcement Using Cable
Elements

In the following sections, the pull-tests are simulated using the
cable-element logic. The commands needed to create and view variables
associated
with cable elements are described in \href{../../../../sel/doc/manual/sel_manual/cables/commands/cable_commands.html\#sel-cable-commands}{Cable
Commands}.

Pull-out Strength without
Confinement

First, we consider the case where the confining stress dependence on the
reinforcement shear-bond strength may be neglected. The cable properties
required by FLAC3D's cable-bolt model must be
extracted from the field pull-test curve. This is easily done when the
field
test data are presented in terms of force/unit length versus
deformation, as
shown in \protect\hyperlink{pulltest-fieldresults}{Figure 1}. Assuming no yielding in
the cable, the value of the grout shear stiffness, grout-stiffness, is
simply the slope of the curve, with the
ultimate bond strength, grout-cohesion, being the
peak-pull strength value per unit length. This assumption is justified
by the
fact that the steel normally yields at stresses that are higher than
those
corresponding to the pull-out forces, as shown in \protect\hyperlink{pulltest-fieldresults}{Figure
1}. For example, for a representative
cable of 15 mm diameter and 0.5 m length and an (admissible) yield
strength of
1200 MPa (assumed in the FLAC3D models in the
following sections), the maximum yield force is 212 kN. This value is
approximately 50\% greater than the highest pull-out force of 28 tons/m ×
0.5 =
140 kN, at which the grout fails in \protect\hyperlink{pulltest-fieldresults}{Figure
1}. In addition, in these examples, the
compliance of the reinforcement
element and the rock are neglected relative to the compliance of the
grout.

For example, all of the pull-test results shown here have roughly the
same
loading slope, so an average value of grout-stiffness
is chosen for all:

This value of grout-stiffness is very low,
indicating a rather poor grouting job for the cable. Typical
grout-stiffness values would be approximately one order of
magnitude or more higher than this.

The value of grout-cohesion for the single 15.2 mm
wire is simply the peak shear resistance in tons/m. In this case,
grout-cohesion

17.5 tons/m, or 17.5 × 10\textsuperscript{4} N/m. To check whether this value of
grout-cohesion is reasonable, it can be converted to grout
shear strength by dividing by the approximate surface area of the wire
(assuming
the bond fails at the grout/cable interface). We find that the peak
shear
strength is 3.66 MPa. This value should roughly equal half the uniaxial
compressive strength of the grout, indicating either a very poor grout,
or that
the cable was allowed to rotate during the pull-test, yielding
artificially low
grout shear-strength values.

The data file ``\protect\hyperlink{pulltest01data}{Pull01.f3dat}'' is a simple
representation
of a pull-test using FLAC3D. The cable end-node is
pulled at a small, constant y-oriented velocity---see \protect\hyperlink{pulltest-geometry}{Figure
2}. A FISH
function is used to sum the reaction forces and monitor nodal
displacement
generated by the pull-tests for comparison to field test results.

Figure 2: Sketch of geometry of FLAC3D model for pull-test.

A plot of the relation between pull force and cable displacement
(histories
\href{../../../../../common/docproject/utilities/types.html\#type:str}{\underline{force}}
and
\href{../../../../../common/docproject/utilities/types.html\#type:str}{\underline{disp}},
respectively) for
the case of a single 15.2 mm cable is shown in \protect\hyperlink{pulltest-cable1}{Figure
3}. This figure illustrates the general
force-displacement behavior given in
\protect\hyperlink{pulltest-fieldresults}{Figure 1}. The peak force is reached at a
displacement of approximately 17 mm. After this point, the cable is
simply
pulled out of the borehole in much the same fashion as a block sliding
on a
plane.

Figure 3: Pull force in N/m versus cable displacement in meters
for the case of a single 15.2 mm grouted cable.

\protect\hyperlink{pulltest-force1}{Figure 4} to \protect\hyperlink{pulltest-force3}{6}
show the axial force distribution on the cable for displacements of 10
mm, 16.5
mm, and 17.5 mm, respectively. Note that cable-bond slip progresses
rapidly
after peak strength is reached at the first cable element. Superimposed
on the
axial forces are locations at which the grout bond is yielding. At 10 mm
(\protect\hyperlink{pulltest-force1}{Figure 4}), the grout bond has not failed. At 16.5
mm
(\protect\hyperlink{pulltest-force2}{Figure 5}), bond failure is initiated and rapidly
propagates (\protect\hyperlink{pulltest-force3}{Figure 6}) down the entire cable
length. At that stage, the force on the cable end is simply the sum of
grout\_cohesion

is the length of cable segments) for all n-slipping
segments. If the embedded length were long enough, the cable axial force
would
eventually reach the yield force of the cable itself. The cable should
then
break when the extension strain equals the ultimate breaking strain of
the cable
(generally around 3\%). An example illustrating tensile rupture of the
element is
given in \protect\hyperlink{pulltest-tensile-rupture-section}{Pull-Test with Tensile
Rupture}.

break

Figure 6: At 17.5 mm deformation: Plot of axial force and cable
grout yield points for pull-test simulation on a 15.2 mm cable bolt.

Pull-out Strength with
Confinement

The cable shear bond strength will, in general, increase with increasing
effective pressure (p') acting on the cable. A linear law
is implemented in FLAC3D whereby the cable shear
bond strength is defined as a constant (grout-cohesion) plus the
effective pressure on the cable
multiplied by the cable perimeter (grout-permeter)
times the tangent of the friction angle (grout-friction). This pressure
dependence is activated
automatically in FLAC3D by issuing the cable
properties grout-permeter and grout-friction. Note that in this case,
the input data for
grout-cohesion must correspond to the shear bond
strength in a cable pull-test carried out without confining pressure.
Numerical
results of pull-tests on the 15.2 mm cable are presented in \protect\hyperlink{pulltest-cable2}{Figure
7} and \protect\hyperlink{pulltest-cable3}{8} for a
friction angle of 30° and two levels of initial confining pressure,
namely p' = 2 and 4 MN/m\textsuperscript{2}. Compare these figures to \protect\hyperlink{pulltest-cable1}{Figure
3}. These figures indicate an increasing
failure level with increasing initial confining pressure, illustrating
the
frictional character of the cable-rock interface. Results for the
pull-test with
confined pressure on the 15.2 mm cable were obtained using the data
files ``\protect\hyperlink{pulltest02data}{Pull02.f3dat}''
and ``\protect\hyperlink{pulltest03data}{Pull03.f3dat}''.

break

Figure 7: Pull-test on 15.2 mm cable, p'
= 2 MN/m\textsuperscript{2}.

Figure 8: Pull-test on 15.2 mm cable, p'
= 4 MN/m\textsuperscript{2}.

Approach 2: Modeling Rock Reinforcement Using Modified Pile
Elements

In the following sections, the modified pile-element logic in FLAC3D is
used to model rock reinforcement. The purpose of
the following examples is to illustrate modeling procedures with the
modified
pile elements. In addition to a demonstration of the features that
simulate
pull-tests, this section also presents examples related to the
simulation of
shear tests on rockbolts (see \protect\hyperlink{pulltest-shear-bolt-section}{Shear Test on
Rockbolts} and
\protect\hyperlink{pulltest-shear-rupture-section}{Shear
Test on Rockbolts with Rupture}). The
tests in this section assume
that conditions are representative of a 25 mm diameter grouted bolt with
grout
properties the same as those defined in \protect\hyperlink{pulltest-cable1-section}{Pull-out Strength without
Confinement}.

Commands needed to create and view variables associated with the
modified
elements are described in \href{../../../../sel/doc/manual/sel_manual/piles/commands/pile_commands.html\#sel-pile-commands}{Pile
Commands}.
Note that the modified pile-element formulation is
activated by giving the \href{../../../../sel/doc/manual/sel_manual/piles/commands/cmd_structure.pile.property.html\#kwd:structure.pile.property.rockbolt-flag}{structure
pile property
rockbolt-flag}
\href{../../../../../common/docproject/utilities/types.html\#type:str}{\underline{on}}
command.

Pull-out Strength without
Confinement

The data file ``\protect\hyperlink{pulltest04data}{Pulltest04.f3dat}'' creates a pull-test
without confinement. The problem is equivalent to that described in
\protect\hyperlink{pulltest-cable1-section}{Pull-out
Strength without Confinement}. Compared with
the model in file ``\protect\hyperlink{pulltest01data}{Pulltest01.f3dat}'', the current
model
considers a larger diameter bolt and a free length of bolt that extends
out of
the block. The load is applied at the tip of the reinforcement by
prescribing a
constant velocity, as was done before. A FISH
function,
\href{../../../../../common/docproject/utilities/types.html\#type:sym}{\underline{force}},
is used to sum the
reaction forces and monitor nodal displacement generated by the
pull-test.

\protect\hyperlink{pulltest-pile1}{Figure 9} represents the relation between axial
force (per unit length of cable) and displacement at the tip of the
bolt, for a
total displacement of 20 mm. The figure shows that the maximum pull-out
load is
comparable to the one obtained with Approach 1 in \protect\hyperlink{pulltest-cable1-section}{Pull-out Strength
without
Confinement} (the slight difference may be
attributed to the different
bolt size and the free length of bolt included in this model). \protect\hyperlink{pulltest-pile1}{Figure
9} also shows the default perfectly plastic
behavior of the grout once the maximum cohesion is exceeded.

Figure 9: Pull force in N/m versus cable displacement in meters
for the case of single 25 mm grouted rockbolt.

Pull-Test with Displacement
Weakening

The data file ``\protect\hyperlink{pulltest05data}{Pulltest05.f3dat}'' defines a pull-test
similar to the one described in the previous section, \protect\hyperlink{pulltest-pile1-section}{Pull-out
Strength without Confinement}, but with
post-peak weakening of shear
bond strength. The bond strength softening of the grout is defined with
the
keyword coupling-cohesion-table, as described in {[}
The relation between shear displacement and cohesion
weakening is prescribed through table

(Note that softening
of the friction of the grout could also be defined using the keyword
coupling-friction-table).

\protect\hyperlink{pulltest-pile2}{Figure 10} represents the relation between axial
force (per unit length of the bonded reinforcement) and displacement at
the tip
of the reinforcement for a total displacement of 40 mm. The figure
clearly shows
the weakening of cohesion after the maximum pull-out load is reached.

Figure 10: Pull force in N/m versus reinforcement displacement
in meters for the case of a single 15.2 mm grouted reinforcement---with
displacement weakening.

Pull-Test with Confinement

The data file ``\protect\hyperlink{pulltest06data}{Pulltest06.f3dat}'' shows how a
pull-test
with confinement is simulated using the modified pile logic. The model
is
equivalent to the one discussed in \protect\hyperlink{pulltest-cable2-section}{Pull-out Strength with
Confinement}, this time for a confining
stress, 4 MN/m\textsuperscript{2}. As
described in \href{../../../../sel/doc/manual/sel_manual/piles/piles.html\#pile-shear-coupling-springs}{Behavior
of Shear Coupling
Springs}
a linear law is implemented in the modified
pile logic, whereby the reinforcement shear strength is defined as a
constant
(coupling-cohesion-shear) plus the effective pressure
on the reinforcement multiplied by the reinforcement perimeter
(perimeter) times a friction angle (coupling-friction-shear). This
pressure dependence is
activated automatically in FLAC3D by issuing the
reinforcement properties (perimeter) and (coupling-friction-shear).

\protect\hyperlink{pulltest-pile3}{Figure 11} represents the relation between axial
force (per unit length of the grouted reinforcement) and displacement at
the tip
of the reinforcement for a total displacement of 40 mm. The results are
comparable to those shown in \protect\hyperlink{pulltest-cable3}{Figure 8}.

Figure 11: Pull force in N/m versus reinforcement axial
displacement in meters for the case of a single 25 mm grouted
bolt---uniform 4
MN/m\textsuperscript{2} confinement.

Pull-Test with Confinement --- User-Defined Behavior

This example shows the use of the option coupling-confining-table to
define a ``mean'' value σc of confining stress on the
rockbolt for cases in which the principal stresses σx and σy
perpendicular to the axis of the rockbolt are not the same.

\protect\hyperlink{pulltest-numericalexample}{Figure 12} shows the results obtained
numerically for the relation between confining and deviatoric stresses
in the
case of a rockbolt with a diameter of 25 mm. In the figure, the
horizontal axis
represents the \emph{normalized deviatoric stress}, defined as

while the vertical axis represents the \emph{normalized confining
stress},

The relation was obtained from pull-test models in FLAC3D, considering
different values of deviatoric
stresses in the plane perpendicular to the axis bolt. The mean confining
stress

using the expression

The data file ``\protect\hyperlink{pulltest07data}{Pulltest07.f3dat}'' creates a model that
illustrates the use of the coupling-confining-table
option and the relation represented in \protect\hyperlink{pulltest-numericalexample}{Figure
12}. The results obtained with this
data file are shown in \protect\hyperlink{pulltest-pile4}{Figure 13}. In this example,
one of the principal stresses on the plane perpendicular to the axis of
the
rockbolt is zero. Note that the pull-out resistance in \protect\hyperlink{pulltest-pile4}{Figure
13} is greatly reduced compared to \protect\hyperlink{pulltest-pile3}{Figure
11} as a result of the zero stress in the
lateral direction.

Figure 12: Example of relation between normalized confining
stress and normalized deviator stress obtained numerically for a 25 mm
rockbolt.

Figure 13: Rockbolt pull force in N/m versus rockbolt axial
displacement in meters for the case of a single 25 mm grouted
bolt---lateral
confinement defined by the relationship represented in \protect\hyperlink{pulltest-numericalexample}{Figure
12}.

Pull-Test with Tensile
Rupture

This example shows the definition of limiting axial yield force and
limiting
axial strain for the rockbolt, using the options tensile-yield and
tensile-failure-strain, respectively.

The data file ``\protect\hyperlink{pulltest08data}{Pulltest08.f3dat}'' sets up a model that
considers a limiting tensile force of 1.5 × 10\textsuperscript{5} N and a limiting
axial strain of 1 × 10\textsuperscript{-4}. The results from this model are shown in
\href{.html\#pulltest-pile5}{Figure}Figure \#pulltest-pile5. The diagram
shows that the limiting
tensile force is reached after a pull-out displacement of approximately
2.6 cm.
Note that after this limiting force is reached, the pull-out force
rapidly
decreases to zero, indicating the rupture of the rockbolt.

Figure 14: Rockbolt pull force in N/m versus rockbolt axial
displacement in meters for the case of a single 25 mm grouted
bolt---with tensile
rupture.

Shear Test on Rockbolts

This section and the next present two examples of shear tests. The tests
are
similar to the pull-tests described above, except that a velocity acting
on a
plane perpendicular to the axial direction of the bolt is applied to the
top of
the bolt.

The data file ``\protect\hyperlink{pulltestshear01data}{Shear01.f3dat}'' shows how the
model
is created. Note that in the case of a shear test on rockbolts, values
of
stiffness and strength for the normal coupling springs (that were not
needed in
the pull-tests) need to be defined. \protect\hyperlink{pulltest-shear1}{Figure 15}
shows a plot of shear force versus shear displacement. We select a
stiffness
value of 10\textsuperscript{10} N/m/m and cohesive strength of 10\textsuperscript{8} MPa/m in
order to illustrate the shear behavior within a shear displacement range
of 6
mm. These values do not represent a specific material and should be
adjusted to
fit experimental data.

The figure also includes a view of the model after the test. The large
displacement of the rockbolt near the rock surface is the result of the
yielding
of the normal coupling springs, which simulates crushing of the rock.

Figure 15: Rockbolt shear force in N versus rockbolt shear
displacement in meters for the case of a single 25 mm grouted bolt.

Shear Test on Rockbolts
with Rupture

The data file ``\protect\hyperlink{pulltestshear02data}{Shear02.f3dat}'' presents a model
similar to the one described in \protect\hyperlink{pulltest-shear-bolt-section}{Shear Test on
Rockbolts},
but with the added option of bending rupture. The failure is controlled
by
specified values of limiting (yield) bending moment and limiting tensile
strain
(these values are assigned using the keywords plastic-moment and
tensile-failure-strain, as described in \href{../../../../sel/doc/manual/sel_manual/piles/commands/pile_commands.html\#sel-pile-commands}{Pile
Commands}).

The results obtained with the data file
``\protect\hyperlink{pulltestshear02data}{Shear02.f3dat}'' are shown in \protect\hyperlink{pulltest-shear2}{Figure
16}. Note that the relation between applied
force and lateral displacement shows some oscillation after rupture.
This
oscillation is the normal response following the sudden rupture of the
bolt.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Data Files}

\OperatorTok{**}\NormalTok{Pull01.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    [}\KeywordTok{global}\NormalTok{ t }\OperatorTok{=}  \StringTok{\textquotesingle{}Pull Test for Grouted Cable Anchor \textquotesingle{}}\NormalTok{]}
\NormalTok{    [t }\OperatorTok{+=} \StringTok{\textquotesingle{}(no external confinement, fric=0)\textquotesingle{}}\NormalTok{]}
\NormalTok{    model title [t]}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{7} \DecValTok{4}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.7}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
    \OperatorTok{;}\NormalTok{ Create a single cable }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its associated properties}
\NormalTok{    struct cable create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.0}\NormalTok{,}\FloatTok{0.2}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.2}\NormalTok{) segments }\DecValTok{10}
\NormalTok{    struct cable }\BuiltInTok{property}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{181e{-}6}\NormalTok{ young }\FloatTok{98.6e9}\NormalTok{ ...}
                          \ControlFlowTok{yield}\OperatorTok{{-}}\NormalTok{tension }\FloatTok{0.232e6}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{stiffness }\FloatTok{1.12e7}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{cohesion }\FloatTok{1.75e5}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{friction }\FloatTok{0.0}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{perimeter }\FloatTok{7.85e{-}2}
    \OperatorTok{;}\NormalTok{ Fix free end of rock block }\KeywordTok{and} \BuiltInTok{apply}\NormalTok{ velocity to cable end}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x                    }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\OperatorTok{{-}}\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    call }\StringTok{\textquotesingle{}force\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function to calculate reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{y component}\OperatorTok{{-}}\BuiltInTok{id} \DecValTok{1}
    \OperatorTok{;}\NormalTok{ Apply velocity to achieve total displacement of }\FloatTok{2.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{10000}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}1{-}1\textquotesingle{}}
\NormalTok{    model cycle }\DecValTok{6500}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}1{-}2\textquotesingle{}}
\NormalTok{    model cycle }\DecValTok{1000}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}1{-}3\textquotesingle{}}
\NormalTok{    model cycle }\DecValTok{2500}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}1{-}4\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull02.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{     confinement }\DecValTok{2}\NormalTok{ MPa}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Pull Test for Grouted Cable Anchor {-} Confinement 2 MPa, fric=30\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{7} \DecValTok{4}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.7}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone initialize stress xx }\OperatorTok{{-}}\FloatTok{2e6}\NormalTok{ zz }\OperatorTok{{-}}\FloatTok{2e6}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{normal }\OperatorTok{{-}}\FloatTok{2e6} \BuiltInTok{range}\NormalTok{ union position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{0}\NormalTok{ ...}
\NormalTok{                                             position}\OperatorTok{{-}}\NormalTok{x }\FloatTok{0.4}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{0}\NormalTok{ ...}
\NormalTok{                                             position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.4}
    \OperatorTok{;}\NormalTok{ Create a single cable }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its associated properties}
\NormalTok{    struct cable create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.0}\NormalTok{,}\FloatTok{0.2}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.2}\NormalTok{) segments }\DecValTok{10}
\NormalTok{    struct cable }\BuiltInTok{property}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{181e{-}6}\NormalTok{ young }\FloatTok{98.6e9}\NormalTok{ ...}
                          \ControlFlowTok{yield}\OperatorTok{{-}}\NormalTok{tension }\FloatTok{0.232e6}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{stiffness }\FloatTok{1.12e7}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{cohesion }\FloatTok{1.75e5}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{friction }\FloatTok{30.0}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{perimeter }\FloatTok{7.85e{-}2}
    \OperatorTok{;}\NormalTok{ Fix free end of rock block }\KeywordTok{and} \BuiltInTok{apply}\NormalTok{ velocity to cable end}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\OperatorTok{{-}}\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    call }\StringTok{\textquotesingle{}force\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function to calculate reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{y component}\OperatorTok{{-}}\BuiltInTok{id} \DecValTok{1}
    \OperatorTok{;}\NormalTok{ Apply velocity to achieve total displacement of }\FloatTok{4.525}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{45000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}2\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull03.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{     confinement }\DecValTok{4}\NormalTok{ MPa}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new }
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Pull Test for Grouted Cable Anchor {-} Confinement 4 MPa, fric=30\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{7} \DecValTok{4}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.7}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone initialize stress xx }\OperatorTok{{-}}\FloatTok{4e6}\NormalTok{ zz }\OperatorTok{{-}}\FloatTok{4e6}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{normal }\OperatorTok{{-}}\FloatTok{4e6} \BuiltInTok{range}\NormalTok{ union position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{x }\FloatTok{0.4}\NormalTok{ ...}
\NormalTok{                                                   position}\OperatorTok{{-}}\NormalTok{z }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.4}
    \OperatorTok{;}\NormalTok{ Create a single cable }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its associated properties}
\NormalTok{    struct cable create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.0}\NormalTok{,}\FloatTok{0.2}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.2}\NormalTok{) segments }\DecValTok{10}
\NormalTok{    struct cable }\BuiltInTok{property}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{181e{-}6}\NormalTok{ young }\FloatTok{98.6e9}\NormalTok{ ...}
                          \ControlFlowTok{yield}\OperatorTok{{-}}\NormalTok{tension }\FloatTok{0.232e6}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{stiffness }\FloatTok{1.12e7}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{cohesion }\FloatTok{1.75e5}\NormalTok{ grout}\OperatorTok{{-}}\NormalTok{friction }\FloatTok{30.0}\NormalTok{ ...}
\NormalTok{                          grout}\OperatorTok{{-}}\NormalTok{perimeter }\FloatTok{7.85e{-}2}
    \OperatorTok{;}\NormalTok{ Fix free end of rock block }\KeywordTok{and} \BuiltInTok{apply}\NormalTok{ velocity to cable end}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\OperatorTok{{-}}\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}
\NormalTok{    call }\StringTok{\textquotesingle{}force\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function to calculate reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{y component}\OperatorTok{{-}}\BuiltInTok{id} \DecValTok{1}
    \OperatorTok{;}\NormalTok{ Apply velocity to achieve total displacement of }\FloatTok{4.525}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{45000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}3\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull04.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{   using modified pile elements}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new }
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Pull{-}test using modified pile elements\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield} \FloatTok{2.25e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
    \OperatorTok{;}\NormalTok{ Set up pull out test}
\NormalTok{    struct node fix  velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    struct node init velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{2.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{20000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}4\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull05.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{   using modified pile elements }\OperatorTok{{-}}\NormalTok{ Softening of cohesion}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new }
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Pull{-}test using modified pile elements {-} cohesion softening\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{table }\StringTok{\textquotesingle{}cct\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ change }\KeywordTok{in}\NormalTok{ cohesion }\ControlFlowTok{with}\NormalTok{ relative shear displacement}
\NormalTok{    table }\StringTok{\textquotesingle{}cct\textquotesingle{}}\NormalTok{ add (}\DecValTok{0}\NormalTok{,}\FloatTok{1.75e5}\NormalTok{) (}\FloatTok{0.025}\NormalTok{,}\FloatTok{1.75e4}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Set up pull out test}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{4.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{40000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}5\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull06.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{   using modified pile elements }\OperatorTok{{-}}\NormalTok{ Confinement }\DecValTok{4}\NormalTok{ MPa}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    [}\KeywordTok{global}\NormalTok{ t }\OperatorTok{=}  \StringTok{\textquotesingle{}Pull{-}test using modified pile elements {-} \textquotesingle{}}\NormalTok{]}
\NormalTok{    [t }\OperatorTok{+=} \StringTok{\textquotesingle{}Confinement 4 MPa, fric=30\textquotesingle{}}\NormalTok{]}
\NormalTok{    model title [t]}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
\NormalTok{    model largestrain on}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{30.0}
    \OperatorTok{;}\NormalTok{ Install }\KeywordTok{in}\NormalTok{ situ stresses}
\NormalTok{    zone initialize stress xx }\OperatorTok{{-}}\FloatTok{4e6}\NormalTok{ yy }\OperatorTok{{-}}\FloatTok{4e6}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{normal }\OperatorTok{{-}}\FloatTok{4e6} \BuiltInTok{range}\NormalTok{ union position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{x }\FloatTok{0.4}\NormalTok{ ...}
\NormalTok{                                                   position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\FloatTok{0.4}
    \OperatorTok{;}\NormalTok{ Set up pull out test}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    struct node init velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{4.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{40000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}6\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull07.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{   using modified pile elements }\OperatorTok{{-}}\NormalTok{ Confinement }\DecValTok{4}\NormalTok{ MPa (w}\OperatorTok{/}\NormalTok{table)}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    [}\KeywordTok{global}\NormalTok{ t }\OperatorTok{=}  \StringTok{\textquotesingle{}Pull{-}test using modified pile elements {-} \textquotesingle{}}\NormalTok{]}
\NormalTok{    [t }\OperatorTok{+=} \StringTok{\textquotesingle{}Confinement 4 MPa (w/table)\textquotesingle{}}\NormalTok{]}
\NormalTok{    model title [t]}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties.}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
\NormalTok{    model largestrain on}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{30.0}
    \OperatorTok{;}\NormalTok{ define table }\ControlFlowTok{for}\NormalTok{ confining stress correction factor}
\NormalTok{    table }\StringTok{\textquotesingle{}cct\textquotesingle{}}\NormalTok{ add (}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{) (}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.48}\NormalTok{) (}\FloatTok{0.5}\NormalTok{,}\FloatTok{0.45}\NormalTok{) (}\FloatTok{0.6}\NormalTok{,}\FloatTok{0.39}\NormalTok{) (}\FloatTok{0.68}\NormalTok{,}\FloatTok{0.36}\NormalTok{)}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{confining}\OperatorTok{{-}}\NormalTok{table }\StringTok{\textquotesingle{}cct\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ note : (snn}\OperatorTok{{-}}\NormalTok{szz)}\OperatorTok{/}\NormalTok{(snn}\OperatorTok{+}\NormalTok{szz) }\KeywordTok{is} \DecValTok{1}\NormalTok{ , so cfac}\OperatorTok{=}\FloatTok{0.36}
    \OperatorTok{;}\NormalTok{ Install }\KeywordTok{in}\NormalTok{ situ stresses}
\NormalTok{    zone initialize stress xx }\OperatorTok{{-}}\FloatTok{4e6}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{normal }\OperatorTok{{-}}\FloatTok{4e6} \BuiltInTok{range}\NormalTok{ union position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{x }\FloatTok{0.4} 
    \OperatorTok{;}\NormalTok{ Set up pull out test}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{4.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{40000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}7\textquotesingle{}}

\OperatorTok{**}\NormalTok{Pull08.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of pull}\OperatorTok{{-}}\NormalTok{test }\ControlFlowTok{for}\NormalTok{ grouted reinforcement}
    \OperatorTok{;}\NormalTok{   using modified pile elements}
    \OperatorTok{;}\NormalTok{     Definition of failure due to maximum tensile strain }\KeywordTok{or}\NormalTok{ stress}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    [}\KeywordTok{global}\NormalTok{ t }\OperatorTok{=}  \StringTok{\textquotesingle{}Pull{-}test using modified pile elements {-} \textquotesingle{}}\NormalTok{]}
\NormalTok{    [t }\OperatorTok{+=} \StringTok{\textquotesingle{}tensile strain causes rupture\textquotesingle{}}\NormalTok{]}
\NormalTok{    model title [t]}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties}
\NormalTok{    zone create brick size }\DecValTok{4} \DecValTok{4} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.4}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e9}\NormalTok{ shear }\FloatTok{3e9}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{0.0} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.6}
\NormalTok{    model largestrain on}
\NormalTok{    zone mech damping combined}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{) segments }\DecValTok{12}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8} \OperatorTok{;} \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{30.0}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield} \FloatTok{1.5e5}  \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\NormalTok{failure}\OperatorTok{{-}}\NormalTok{strain }\FloatTok{1.0e{-}4} \OperatorTok{;}\NormalTok{ ultimate tensile strain}
    \OperatorTok{;}\NormalTok{ Install }\KeywordTok{in}\NormalTok{ situ stresses}
\NormalTok{    zone initialize stress xx }\OperatorTok{{-}}\FloatTok{4e6}\NormalTok{ yy }\OperatorTok{{-}}\FloatTok{4e6}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ stress}\OperatorTok{{-}}\NormalTok{normal }\OperatorTok{{-}}\FloatTok{4e6} \BuiltInTok{range}\NormalTok{ union position}\OperatorTok{{-}}\NormalTok{x }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{x }\FloatTok{0.4}\NormalTok{ ...}
\NormalTok{                                                   position}\OperatorTok{{-}}\NormalTok{y }\DecValTok{0}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{y }\FloatTok{0.4}
    \OperatorTok{;}\NormalTok{ Set up pull out test}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.7}
\NormalTok{    call }\StringTok{\textquotesingle{}pileforce\textquotesingle{}}\NormalTok{ suppress }\OperatorTok{;}\NormalTok{ FISH function calculates reaction force on zones}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{10}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{z position (}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{2.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{40000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}pull{-}8\textquotesingle{}}

\OperatorTok{**}\NormalTok{Shear01.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of shear test }\ControlFlowTok{for}\NormalTok{ a grouted bolt}
    \OperatorTok{;}\NormalTok{   using modified pile elements}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Shear test using pile elements\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties}
\NormalTok{    zone create brick size }\DecValTok{3} \DecValTok{3} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.3}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone face skin }\OperatorTok{;}\NormalTok{ Label the model boundaries}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e10}\NormalTok{ shear }\FloatTok{3e10}\NormalTok{ density }\DecValTok{2000}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Bottom\textquotesingle{}}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}East\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}West\textquotesingle{}}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}North\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}South\textquotesingle{}}
\NormalTok{    model largestrain on}
\NormalTok{    zone mechanical damping combined}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.628}\NormalTok{) segments }\DecValTok{22}
\NormalTok{    struct node group }\StringTok{\textquotesingle{}Top\textquotesingle{}} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.628} \OperatorTok{;}\NormalTok{ Tag the node at the top }
                                                   \OperatorTok{;} \ControlFlowTok{with}\NormalTok{ a name}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
    \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8}
    \OperatorTok{;}                         \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e8}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.0e9}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{30.0}
    \OperatorTok{;}\NormalTok{ Set up shear test (need to fix local nodal axes at the top node, }
    \OperatorTok{;}\NormalTok{ to avoid axes rotating }\ControlFlowTok{with}\NormalTok{ element)}
\NormalTok{    struct node fix system}\OperatorTok{{-}}\NormalTok{local }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    call }\StringTok{\textquotesingle{}shearforce\textquotesingle{}} \OperatorTok{;}\NormalTok{ FISH function to calculate force on the grid}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{100}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{x position (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.628}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{5.0}\NormalTok{ cm}
\NormalTok{    model cycle }\DecValTok{50000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}shear{-}1\textquotesingle{}}

\OperatorTok{**}\NormalTok{Shear02.f3dat}\OperatorTok{**}

    \OperatorTok{;} \OperatorTok{==================================================================}
    \OperatorTok{;}\NormalTok{   Simulation of shear test }\ControlFlowTok{for}\NormalTok{ a grouted bolt}
    \OperatorTok{;}\NormalTok{   using modified pile elements }\OperatorTok{{-}}\NormalTok{ Bending moment rupture}
    \OperatorTok{;} \OperatorTok{==================================================================}
\NormalTok{    model new}
\NormalTok{    fish automatic}\OperatorTok{{-}}\NormalTok{create off}
\NormalTok{    model title }\StringTok{\textquotesingle{}Shear test using pile elements {-} Bending moment rupture\textquotesingle{}}
    \OperatorTok{;}\NormalTok{ Create a single rock block }\KeywordTok{and} \BuiltInTok{set}\NormalTok{ its material properties}
\NormalTok{    zone create brick size }\DecValTok{3} \DecValTok{3} \DecValTok{6}\NormalTok{ point }\DecValTok{1}\NormalTok{ (}\FloatTok{0.3}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{) point }\DecValTok{2}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\DecValTok{0}\NormalTok{) ...}
\NormalTok{                                 point }\DecValTok{3}\NormalTok{ (}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\FloatTok{0.6}\NormalTok{)}
\NormalTok{    zone face skin }\OperatorTok{;}\NormalTok{ Label the model boundaries}
\NormalTok{    zone cmodel assign elastic}
\NormalTok{    zone }\BuiltInTok{property}\NormalTok{ bulk }\FloatTok{5e10}\NormalTok{ shear }\FloatTok{3e10}\NormalTok{ density }\DecValTok{2000}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Bottom\textquotesingle{}}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}East\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}West\textquotesingle{}}
\NormalTok{    zone face }\BuiltInTok{apply}\NormalTok{ velocity}\OperatorTok{{-}}\NormalTok{normal }\DecValTok{0} \BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}North\textquotesingle{}} \KeywordTok{or} \StringTok{\textquotesingle{}South\textquotesingle{}}
\NormalTok{    model largestrain on}
\NormalTok{    zone mechanical damping combined}
    \OperatorTok{;}\NormalTok{ Create a pile element }\KeywordTok{and}\NormalTok{ assign properties}
\NormalTok{    struct pile create by}\OperatorTok{{-}}\NormalTok{line (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.1}\NormalTok{) (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.628}\NormalTok{) segments }\DecValTok{22}
\NormalTok{    struct node group }\StringTok{\textquotesingle{}Top\textquotesingle{}} \BuiltInTok{range}\NormalTok{ position}\OperatorTok{{-}}\NormalTok{z }\FloatTok{0.628} \OperatorTok{;}\NormalTok{ Tag the node at the top}
                                                   \OperatorTok{;} \ControlFlowTok{with}\NormalTok{ a name}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ rockbolt}\OperatorTok{{-}}\NormalTok{flag on}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ young }\FloatTok{200e9}\NormalTok{ poisson }\FloatTok{0.25}\NormalTok{ cross}\OperatorTok{{-}}\NormalTok{sectional}\OperatorTok{{-}}\NormalTok{area }\FloatTok{5e{-}4}\NormalTok{ ...}
\NormalTok{                         perimeter }\FloatTok{0.08}
    \OperatorTok{;}\NormalTok{ ultimate tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ tensile}\OperatorTok{{-}}\ControlFlowTok{yield}   \FloatTok{2.25e5}
    \OperatorTok{;}\NormalTok{ ultimate moment }\KeywordTok{and}\NormalTok{ tensile strength}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ plastic}\OperatorTok{{-}}\NormalTok{moment   }\FloatTok{5e3}\NormalTok{ tensile}\OperatorTok{{-}}\NormalTok{failure}\OperatorTok{{-}}\NormalTok{strain   }\FloatTok{1e{-}4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{y }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{z }\FloatTok{2.0e{-}8}\NormalTok{ moi}\OperatorTok{{-}}\NormalTok{polar }\FloatTok{4.0e{-}8}
    \OperatorTok{;}                        \FloatTok{0.25}\OperatorTok{*}\NormalTok{pi}\OperatorTok{*}\NormalTok{r}\OperatorTok{\^{}}\DecValTok{4}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.75e5}\NormalTok{ ...}
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{1.12e7}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{cohesion}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.75e8}\NormalTok{ ... }
\NormalTok{                         coupling}\OperatorTok{{-}}\NormalTok{stiffness}\OperatorTok{{-}}\NormalTok{normal }\FloatTok{1.0e10}
\NormalTok{    struct pile }\BuiltInTok{property}\NormalTok{ coupling}\OperatorTok{{-}}\NormalTok{friction}\OperatorTok{{-}}\NormalTok{shear }\FloatTok{30.0}
    \OperatorTok{;}\NormalTok{ Set up shear test (need to fix local nodal axes at the top node, }
    \OperatorTok{;}\NormalTok{ to avoid axes rotating }\ControlFlowTok{with}\NormalTok{ element)}
\NormalTok{    struct node fix system}\OperatorTok{{-}}\NormalTok{local }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    struct node initialize velocity}\OperatorTok{{-}}\NormalTok{x }\FloatTok{1e{-}6}\NormalTok{ local }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    struct node fix velocity}\OperatorTok{{-}}\NormalTok{x }\BuiltInTok{range}\NormalTok{ group }\StringTok{\textquotesingle{}Top\textquotesingle{}}
\NormalTok{    call }\StringTok{\textquotesingle{}shearforce\textquotesingle{}} \OperatorTok{;}\NormalTok{ FISH function to calculate force on the grid}
    \OperatorTok{;}\NormalTok{ Set up histories }\ControlFlowTok{for}\NormalTok{ monitoring model behavior}
\NormalTok{    history interval }\DecValTok{100}
\NormalTok{    fish history name }\StringTok{\textquotesingle{}force\textquotesingle{}} \OperatorTok{@}\NormalTok{force}
\NormalTok{    struct node history name }\StringTok{\textquotesingle{}disp\textquotesingle{}}\NormalTok{ displacement}\OperatorTok{{-}}\NormalTok{x position (}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.15}\NormalTok{,}\FloatTok{0.628}\NormalTok{)}
    \OperatorTok{;}\NormalTok{ Achieve a total displacement of }\FloatTok{2.0}\NormalTok{ cm}
\NormalTok{    warning off}
\NormalTok{    model cycle }\DecValTok{20000}
    \OperatorTok{;}
\NormalTok{    model save }\StringTok{\textquotesingle{}shear{-}2\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\startappendices

\hypertarget{reference-collective}{%
\chapter{Reference Collective}\label{reference-collective}}

\hypertarget{uplift-resistance-of-anchor}{%
\subsection{Uplift Resistance of Anchor}\label{uplift-resistance-of-anchor}}

\hypertarget{before-1968}{%
\subsubsection{Before 1968}\label{before-1968}}

\begin{itemize}
\tightlist
\item
  Coulomb
\item
  Mohr
\item
  Kotter's equation
\item
  D.C. Drucker and W. Prager 1951
\item
  Balla 1961
\item
  Mors
\item
  Matsuo 1968
\item
  Vesic
\end{itemize}

\hypertarget{post-1968}{%
\subsubsection{Post-1968}\label{post-1968}}

\begin{itemize}
\tightlist
\item
  Meyerhof, G.G., and Adams, J.I. 1968
\item
  Meyerhof, G.G. 1973
\item
  Das, B.M., and Seeley, G.R. 1975
\item
  Ovesen 1981
\item
  Walters 1982
\item
  Rowe, R.K., and Davis, H. 1982
\item
  Dickin, E.A., and Leung, C.F. 1983
\item
  Vermeer 1985
\item
  Murray, E.J., and Geddes, J.D. 1987
\item
  Dickin, E.A. 1988
\item
  Sutherland 1988
\item
  Kulhawy 1988
\item
  Koutsabeloulis, N.C., and Griffiths, D.V. 1989
\item
  Bouazza 1990
\item
  Tadatsugu Tanaka, and Toshinori Sakai 1993
\end{itemize}

\hypertarget{post-2000}{%
\subsubsection{Post-2000}\label{post-2000}}

\begin{itemize}
\tightlist
\item
  Merifield, R.S., and Sloan, S.W. 2006
\item
  Cheuk, White, and Bolton 2008
\item
  Kumar 2008
\item
  V.B. Deshmukh 2011
\item
  Wu, Kouretzis, Suwal, Sloan 2019
\item
  Mary Schafer, Santana Phani Gopal Madabhushi 2019
\end{itemize}

\hypertarget{numerical-analysis}{%
\subsection{Numerical Analysis}\label{numerical-analysis}}

\begin{itemize}
\tightlist
\item
  D.V. Griffiths 1993
\item
  Lyamin 2002
\item
  Krabbenhoft, Lyamin, Sloan 2006
\item
  J Kumar 2008
\item
  Bobet 2010
\item
  Ahmed M. Fahmy, John R. de Bruyn 2013
\item
  Chong Tang, Kim-Chuan Toh, Kok-Kwang Phoon, 2014
\item
  Arya Das, and Ashis Kumar Bera 2019
\end{itemize}

\hypertarget{standards}{%
\subsection{Standards}\label{standards}}

\begin{itemize}
\tightlist
\item
  IEEE 2001
\item
  EPRI TR-105206 1995
\item
  DS 1110, DS 1111 2013
\end{itemize}

\hypertarget{textbook}{%
\subsection{Textbook}\label{textbook}}

\begin{itemize}
\tightlist
\item
  R. Hill The Mathematical Theory of Plasticity 1950
\item
  W.F. Chen Limit Analysis and Soil Plasticity 1975
\item
  W.F. Chen Limit Analysis in Soil Mechanics 1990
\item
  David M. Potts, and Lidija Zdravkovic FSAFEM book 1, FEA in Geotechnical Engineering 1999
\item
  Das, B. M. Earth Anchors 2013
\end{itemize}

\hypertarget{ph.d-thesis}{%
\subsection{Ph.D Thesis}\label{ph.d-thesis}}

\begin{itemize}
\tightlist
\item
  Charles Hughey Evans 1983
\item
  M.O. Fadl 1981
\item
  Peter Jay Bosscher 1981
\item
  Abdelmalek Bouazza 1990
\item
  D.V. Griffiths 1993
\item
  Ahmed Mohmed Ebid 2004
\item
  Shentang Wang 2006
\item
  Vivek Balwantrao Deshmukh 2010
\item
  Frederick Levy 2014
\item
  Jeremy Bleyer 2016
\end{itemize}

\hypertarget{awarded-lectures}{%
\subsection{Awarded Lectures}\label{awarded-lectures}}

\begin{itemize}
\tightlist
\item
  Sloan
\item
  Houlsby
\item
  Sutherland
\end{itemize}


%%%%% REFERENCES
\setlength{\baselineskip}{0pt} % JEM: Single-space References

{\renewcommand*\MakeUppercase[1]{#1}%
\printbibliography[heading=bibintoc,title={\bibtitle}]}


\end{document}
